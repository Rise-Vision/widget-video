if("undefined"==typeof config){var config={};"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json")}var RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,t){"use strict";function i(){t.rpc.call("","rsevent_done",null,u.getString("id"))}function n(){t.rpc.call("","rsevent_ready",null,u.getString("id"),!0,!0,!0,!0,!0)}function s(){p.pause()}function a(){p.isInitialPlay()?c.video.autoplay&&p.play():p.userPaused()||p.play()}function o(){n()}function r(i){u=new t.Prefs,c=i,e.getElementById("videoContainer").style.height=u.getInt("rsH")+"px",p=new RiseVision.Video.Player(c),p.init()}function d(){s()}function l(){i()}var u=null,c={},p=null;return{pause:s,play:a,setAdditionalParams:r,playerReady:o,stop:d,videoEnded:l}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Player=function(e){"use strict";function t(e){_.removeEventListener("rise-storage-response",t),e.detail&&e.detail.files&&e.detail.files.length>0&&(v.value=e.detail.files[0].url),V.setAttributeNode(v),E.appendChild(y)}function i(){var t=e.url.substr(e.url.lastIndexOf(".")+1);return"ogv"===t&&(t="ogg"),t}function n(){A.style.visibility="visible",E.removeEventListener("loadeddata",n,!1)}function s(){w=!0,N||(RiseVision.Video.playerReady(),N=!0),E.removeEventListener("canplay",s,!1),P||u(L)}function a(){b=!1,!P&&I&&(I=!1,l()),RiseVision.Video.videoEnded()}function o(){b=!h}function r(){R=!1,b=!1}function d(){setTimeout(function(){w?E.play():d()},200)}function l(){E.addEventListener("canplay",s,!1),E.addEventListener("loadeddata",n,!1),A.style.visibility="hidden",V.setAttribute("src",e.url+S+"cb="+(new Date).getTime()),w=!1,E.load()}function u(e){setTimeout(function(){E.paused&&E.currentTime<=0?l():I=!0},e)}function c(){return R}function p(){var d,l=document.createAttribute("type");y=document.createDocumentFragment(),V=y.appendChild(document.createElement("source")),v=document.createAttribute("src"),e.video.autoplay||E.setAttribute("controls",""),E.className=e.video.scaleToFit?E.className+" scale-to-fit":E.className+" no-scale",E.volume=e.video.volume/100,l.value="video/"+i(),V.setAttributeNode(l),E.addEventListener("loadeddata",n,!1),E.addEventListener("canplay",s,!1),E.addEventListener("ended",a,!1),E.addEventListener("pause",o,!1),E.addEventListener("play",r,!1),P=0!==Object.keys(e.storage).length,P?(_.addEventListener("rise-storage-response",t),_.setAttribute("folder",e.storage.folder),_.setAttribute("fileName",e.storage.fileName),_.setAttribute("companyId",e.storage.companyId),_.go()):(d=e.url.split("?"),S=1===d.length?"?":"&",v.value=e.url,V.setAttributeNode(v),E.appendChild(y))}function f(){h=!0,E.pause()}function g(){R=!1,h=!1,w?E.play():d()}function m(){return b}var v,y,V,E=document.getElementById("video"),A=document.getElementById("videoContainer"),_=document.getElementById("videoStorage"),R=!0,b=!1,h=!1,L=9e5,P=!1,I=!1,N=!1,w=!1,S="";return{isInitialPlay:c,init:p,pause:f,play:g,userPaused:m}},function(e,t){"use strict";function i(){RiseVision.Video.play()}function n(){RiseVision.Video.pause()}function s(){RiseVision.Video.stop()}function a(e,t){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(t)&&t.length>0&&RiseVision.Video.setAdditionalParams(JSON.parse(t[0]))}var o=new t.Prefs,r=o.getString("id");e.oncontextmenu=function(){return!1},r&&""!==r&&(t.rpc.register("rscmd_play_"+r,i),t.rpc.register("rscmd_pause_"+r,n),t.rpc.register("rscmd_stop_"+r,s),t.rpc.register("rsparam_set_"+r,a),t.rpc.call("","rsparam_get",null,r,["additionalParams"]))}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY29uZmlnIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwiUmlzZVZpc2lvbiIsIlZpZGVvIiwiZG9jdW1lbnQiLCJnYWRnZXRzIiwiX2RvbmUiLCJycGMiLCJjYWxsIiwiX3ByZWZzIiwiZ2V0U3RyaW5nIiwiX3JlYWR5IiwicGF1c2UiLCJfcGxheWVyIiwicGxheSIsImlzSW5pdGlhbFBsYXkiLCJfYWRkaXRpb25hbFBhcmFtcyIsInZpZGVvIiwiYXV0b3BsYXkiLCJ1c2VyUGF1c2VkIiwicGxheWVyUmVhZHkiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwicGFyYW1zIiwiUHJlZnMiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiaGVpZ2h0IiwiZ2V0SW50IiwiUGxheWVyIiwiaW5pdCIsInN0b3AiLCJ2aWRlb0VuZGVkIiwiZGF0YSIsIl9zdG9yYWdlUmVzcG9uc2UiLCJlIiwiX3N0b3JhZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWlsIiwiZmlsZXMiLCJsZW5ndGgiLCJfc3JjQXR0ciIsInZhbHVlIiwidXJsIiwiX3NvdXJjZSIsInNldEF0dHJpYnV0ZU5vZGUiLCJfdmlkZW8iLCJhcHBlbmRDaGlsZCIsIl9mcmFnbWVudCIsIl9nZXRWaWRlb0ZpbGVUeXBlIiwidHlwZSIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwiX29uTG9hZGVkRGF0YSIsIl92aWRlb0NvbnRhaW5lciIsInZpc2liaWxpdHkiLCJfb25DYW5QbGF5IiwiX2NhblBsYXkiLCJfbm90aWZpZWRSZWFkeSIsIl9pc1N0b3JhZ2VGaWxlIiwiX3JlZnJlc2hUaW1lciIsIl9yZWZyZXNoRHVyYXRpb24iLCJfb25FbmRlZCIsIl91c2VyUGF1c2VkIiwiX3JlZnJlc2hXYWl0aW5nIiwiX3JlZnJlc2giLCJfb25QYXVzZSIsIl92aWV3ZXJQYXVzZWQiLCJfb25QbGF5IiwiX2luaXRpYWxQbGF5IiwiX2NhblBsYXlUaW1lciIsInNldFRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0QXR0cmlidXRlIiwiX3NlcGFyYXRvciIsIkRhdGUiLCJnZXRUaW1lIiwibG9hZCIsImR1cmF0aW9uIiwicGF1c2VkIiwiY3VycmVudFRpbWUiLCJzdHIiLCJ0eXBlQXR0ciIsImNyZWF0ZUF0dHJpYnV0ZSIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic2NhbGVUb0ZpdCIsInZvbHVtZSIsIk9iamVjdCIsImtleXMiLCJzdG9yYWdlIiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJjb21wYW55SWQiLCJnbyIsInNwbGl0Iiwid2luZG93IiwiYWRkaXRpb25hbFBhcmFtcyIsIm5hbWVzIiwidmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwicHJlZnMiLCJpZCIsIm9uY29udGV4dG1lbnUiLCJyZWdpc3RlciIsIl9nYXEiLCJwdXNoIiwiZ2EiLCJhc3luYyIsInNyYyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIl0sIm1hcHBpbmdzIjoiQUFFQSxHQUFzQixtQkFBWEEsUUFBd0IsQ0FDakMsR0FBSUEsVUFJbUIsb0JBQVpDLFVBQ1RBLFFBQVFDLE9BQU8sb0NBQ1pDLFNBQVMsaUJBQWtCLHdCQUMzQkEsU0FBUyxnQkFBaUIsU0FNakMsR0FBSUMsWUFBYUEsY0FDakJBLFlBQVdDLFNBRVhELFdBQVdDLE1BQVEsU0FBV0MsRUFBVUMsR0FDdEMsWUFTQSxTQUFTQyxLQUNQRCxFQUFRRSxJQUFJQyxLQUFLLEdBQUksZUFBZ0IsS0FBTUMsRUFBT0MsVUFBVSxPQUk5RCxRQUFTQyxLQUNQTixFQUFRRSxJQUFJQyxLQUFLLEdBQUksZ0JBQWlCLEtBQU1DLEVBQU9DLFVBQVUsT0FDM0QsR0FBTSxHQUFNLEdBQU0sR0FBTSxHQU01QixRQUFTRSxLQUNQQyxFQUFRRCxRQUdWLFFBQVNFLEtB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V0MsYUFBYVIsRUFBSUsiLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBjb25maWc6IHRydWUgKi9cbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBjb25maWcgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgdmFyIGNvbmZpZyA9IHtcbiAgICAvLyB2YXJpYWJsZXMgZ28gaGVyZVxuICB9O1xuXG4gIGlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG4gIH1cbn1cblxuLyogZ2xvYmFsIGdhZGdldHMgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvID0gKGZ1bmN0aW9uIChkb2N1bWVudCwgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX3ByZWZzID0gbnVsbCxcbiAgICBfYWRkaXRpb25hbFBhcmFtcyA9IHt9LFxuICAgIF9wbGF5ZXIgPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9kb25lKCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X2RvbmVcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBfcGxheWVyLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmIChfcGxheWVyLmlzSW5pdGlhbFBsYXkoKSkge1xuICAgICAgLy8gXCJhdXRvcGxheVwiIHdhcyBzZWxlY3RlZCBpbiBzZXR0aW5nc1xuICAgICAgaWYgKF9hZGRpdGlvbmFsUGFyYW1zLnZpZGVvLmF1dG9wbGF5KSB7XG4gICAgICAgIF9wbGF5ZXIucGxheSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIV9wbGF5ZXIudXNlclBhdXNlZCgpKSB7XG4gICAgICAgIF9wbGF5ZXIucGxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXllclJlYWR5KCkge1xuICAgIF9yZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhwYXJhbXMpIHtcbiAgICBfcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpO1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0gcGFyYW1zO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb0NvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuXG4gICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBQbGF5ZXIgaW5zdGFuY2VcbiAgICBfcGxheWVyID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uUGxheWVyKF9hZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBfcGxheWVyLmluaXQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1Jpc2UtVmlzaW9uL3ZpZXdlci9pc3N1ZXMvMzBcbiAgICAvLyBIYXZlIHRvIGNhbGwgcGF1c2UoKSBkdWUgdG8gVmlld2VyIGlzc3VlXG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZpZGVvRW5kZWQoKSB7XG4gICAgX2RvbmUoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcInBsYXllclJlYWR5XCI6IHBsYXllclJlYWR5LFxuICAgIFwic3RvcFwiOiBzdG9wLFxuICAgIFwidmlkZW9FbmRlZFwiOiB2aWRlb0VuZGVkXG4gIH07XG5cbn0pKGRvY3VtZW50LCBnYWRnZXRzKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uUGxheWVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF92aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9cIiksXG4gICAgX3ZpZGVvQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb0NvbnRhaW5lclwiKSxcbiAgICBfc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9TdG9yYWdlXCIpLFxuICAgIF9pbml0aWFsUGxheSA9IHRydWUsXG4gICAgX3VzZXJQYXVzZWQgPSBmYWxzZSxcbiAgICBfdmlld2VyUGF1c2VkID0gZmFsc2UsXG4gICAgX3JlZnJlc2hEdXJhdGlvbiA9IDkwMDAwMCwgLy8gMTUgbWludXRlc1xuICAgIF9pc1N0b3JhZ2VGaWxlID0gZmFsc2UsXG4gICAgX3JlZnJlc2hXYWl0aW5nID0gZmFsc2UsXG4gICAgX25vdGlmaWVkUmVhZHkgPSBmYWxzZSxcbiAgICBfY2FuUGxheSA9IGZhbHNlLFxuICAgIF9zZXBhcmF0b3IgPSBcIlwiLFxuICAgIF9zcmNBdHRyLCBfZnJhZ21lbnQsIF9zb3VyY2U7XG5cbiAgLypcbiAgICogUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfc3RvcmFnZVJlc3BvbnNlKGUpIHtcbiAgICBfc3RvcmFnZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIF9zdG9yYWdlUmVzcG9uc2UpO1xuXG4gICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLmZpbGVzICYmIGUuZGV0YWlsLmZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIF9zcmNBdHRyLnZhbHVlID0gZS5kZXRhaWwuZmlsZXNbMF0udXJsO1xuICAgIH1cblxuICAgIF9zb3VyY2Uuc2V0QXR0cmlidXRlTm9kZShfc3JjQXR0cik7XG4gICAgX3ZpZGVvLmFwcGVuZENoaWxkKF9mcmFnbWVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0VmlkZW9GaWxlVHlwZSgpIHtcbiAgICB2YXIgdHlwZSA9IGRhdGEudXJsLnN1YnN0cihkYXRhLnVybC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcblxuICAgIGlmICh0eXBlID09PSBcIm9ndlwiKSB7XG4gICAgICB0eXBlID0gXCJvZ2dcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vbkxvYWRlZERhdGEoKSB7XG4gICAgLy8gYXQgbGVhc3QgMXN0IGZyYW1lIG9mIHZpZGVvIGhhcyBsb2FkZWRcbiAgICBfdmlkZW9Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgIC8vIHJlbW92ZSB0aGlzIGxpc3RlbmVyXG4gICAgX3ZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkZWRkYXRhXCIsIF9vbkxvYWRlZERhdGEsIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vbkNhblBsYXkoKSB7XG4gICAgLy8gZW5vdWdoIGRhdGEgaGFzIGxvYWRlZCB0byBzYWZlbHkgcGxheSB3aXRob3V0IGludGVycnVwdGlvblxuICAgIF9jYW5QbGF5ID0gdHJ1ZTtcblxuICAgIC8vIG9ubHkgY2FsbCBwbGF5ZXJSZWFkeSgpIG9uY2VcbiAgICBpZiAoIV9ub3RpZmllZFJlYWR5KSB7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllclJlYWR5KCk7XG4gICAgICBfbm90aWZpZWRSZWFkeSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHRoaXMgbGlzdGVuZXJcbiAgICBfdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgX29uQ2FuUGxheSwgZmFsc2UpO1xuXG4gICAgaWYgKCFfaXNTdG9yYWdlRmlsZSkge1xuICAgICAgLy8gY2FsbCB0aGUgcmVmcmVzaCB0aW1lciBmdW5jdGlvbiBmb3IgYSBub24tc3RvcmFnZSB2aWRlb1xuICAgICAgX3JlZnJlc2hUaW1lcihfcmVmcmVzaER1cmF0aW9uKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfb25FbmRlZCgpIHtcbiAgICAvLyBhIFwicGF1c2VcIiBldmVudCBpcyBhbHdheXMgZmlyZWQgYmVmb3JlIFwiZW5kZWRcIiBldmVudCwgZW5zdXJlIF91c2VyUGF1c2VkIGlzIGZhbHNlXG4gICAgX3VzZXJQYXVzZWQgPSBmYWxzZTtcblxuICAgIGlmICghX2lzU3RvcmFnZUZpbGUgJiYgX3JlZnJlc2hXYWl0aW5nKSB7XG4gICAgICBfcmVmcmVzaFdhaXRpbmcgPSBmYWxzZTtcbiAgICAgIF9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLy8gdmlkZW8gZW5kZWRcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnZpZGVvRW5kZWQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblBhdXNlKCkge1xuICAgIC8vIHRoaXMgaGFuZGxlciBhbHNvIGdldHMgY2FsbGVkIHZpYSBwdWJsaWMgXCJwYXVzZSgpXCIgZnVuY3Rpb24sIG9ubHkgc2V0IFwiX3VzZXJQYXVzZWQgPSB0cnVlXCIgaWYgbm90IHRoZSBjYXNlXG4gICAgX3VzZXJQYXVzZWQgPSAhX3ZpZXdlclBhdXNlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblBsYXkoKSB7XG4gICAgX2luaXRpYWxQbGF5ID0gZmFsc2U7XG4gICAgX3VzZXJQYXVzZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jYW5QbGF5VGltZXIoKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiB3YWl0VG9QbGF5KCkge1xuXG4gICAgICBpZiAoX2NhblBsYXkpIHtcbiAgICAgICAgX3ZpZGVvLnBsYXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jYW5QbGF5VGltZXIoKTtcbiAgICAgIH1cblxuICAgIH0sIDIwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgX29uQ2FuUGxheSwgZmFsc2UpO1xuICAgIF92aWRlby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkZGF0YVwiLCBfb25Mb2FkZWREYXRhLCBmYWxzZSk7XG5cbiAgICAvLyBoaWRlIHRoZSB2aWRlbyB3aGlsZSBpdCBnZXRzIGEgZGF0YSByZWZyZXNoIHRvIGF2b2lkIHZpc3VhbCB1Z2xpbmVzc1xuICAgIF92aWRlb0NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblxuICAgIC8vIHNldCBuZXcgc3JjIHZhbHVlIHdpdGggYSBjYWNoZWJ1c3RlclxuICAgIF9zb3VyY2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIGRhdGEudXJsICsgX3NlcGFyYXRvciArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG5cbiAgICAvLyBmbGFnIGFzc29jaWF0ZWQgd2l0aCBcImNhbnBsYXlcIiBldmVudCwgZW5zdXJlcyB2aWRlbyB3b24ndCBiZSBwbGF5ZWQgdW50aWwgaXQgaGFzIGxvYWRlZCBlbm91Z2hcbiAgICBfY2FuUGxheSA9IGZhbHNlO1xuXG4gICAgX3ZpZGVvLmxvYWQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWZyZXNoVGltZXIoZHVyYXRpb24pIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIHZpZGVvUmVmcmVzaCgpIHtcblxuICAgICAgaWYgKF92aWRlby5wYXVzZWQgJiYgX3ZpZGVvLmN1cnJlbnRUaW1lIDw9IDApIHtcbiAgICAgICAgLy8gT25seSByZWZyZXNoaW5nIGltbWVkaWF0ZWx5IHdoZW4gaW4gYSBwYXVzZWQgc3RhdGUgYW5kIHRoZSB2aWRlbyBpcyBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgIF9yZWZyZXNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfcmVmcmVzaFdhaXRpbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgfSwgZHVyYXRpb24pO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpc0luaXRpYWxQbGF5KCkge1xuICAgIHJldHVybiBfaW5pdGlhbFBsYXk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciB0eXBlQXR0ciA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcInR5cGVcIiksXG4gICAgICBzdHI7XG5cbiAgICBfZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgX3NvdXJjZSA9IF9mcmFnbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpKTtcbiAgICBfc3JjQXR0ciA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcInNyY1wiKTtcblxuICAgIC8vIHVzZSBkZWZhdWx0IGNvbnRyb2xzIGlmIG5vdCBzZXQgdG8gYXV0b3BsYXlcbiAgICBpZiAoIWRhdGEudmlkZW8uYXV0b3BsYXkpIHtcbiAgICAgIF92aWRlby5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcIlwiKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgYXBwcm9wcmlhdGUgc2l6aW5nIGNsYXNzIGJhc2VkIG9uIHNjYWxlVG9GaXQgdmFsdWVcbiAgICBfdmlkZW8uY2xhc3NOYW1lID0gZGF0YS52aWRlby5zY2FsZVRvRml0ID8gX3ZpZGVvLmNsYXNzTmFtZSArIFwiIHNjYWxlLXRvLWZpdFwiXG4gICAgICA6IF92aWRlby5jbGFzc05hbWUgKyBcIiBuby1zY2FsZVwiO1xuXG4gICAgLy8gc2V0IGluaXRpYWwgdm9sdW1lIG9uIDx2aWRlbz5cbiAgICBfdmlkZW8udm9sdW1lID0gZGF0YS52aWRlby52b2x1bWUgLyAxMDA7XG5cbiAgICAvLyBzZXQgdGhlIFwidHlwZVwiIGF0dHJpYnV0ZSBvbiA8c291cmNlPlxuICAgIHR5cGVBdHRyLnZhbHVlID0gXCJ2aWRlby9cIiArIF9nZXRWaWRlb0ZpbGVUeXBlKCk7XG4gICAgX3NvdXJjZS5zZXRBdHRyaWJ1dGVOb2RlKHR5cGVBdHRyKTtcblxuICAgIC8vIHZpZGVvIGV2ZW50c1xuICAgIF92aWRlby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkZGF0YVwiLCBfb25Mb2FkZWREYXRhLCBmYWxzZSk7XG4gICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsIF9vbkNhblBsYXksIGZhbHNlKTtcbiAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIF9vbkVuZGVkLCBmYWxzZSk7XG4gICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXVzZVwiLCBfb25QYXVzZSwgZmFsc2UpO1xuICAgIF92aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheVwiLCBfb25QbGF5LCBmYWxzZSk7XG5cbiAgICBfaXNTdG9yYWdlRmlsZSA9IChPYmplY3Qua2V5cyhkYXRhLnN0b3JhZ2UpLmxlbmd0aCAhPT0gMCk7XG5cbiAgICBpZiAoIV9pc1N0b3JhZ2VGaWxlKSB7XG4gICAgICBzdHIgPSBkYXRhLnVybC5zcGxpdChcIj9cIik7XG5cbiAgICAgIC8vIHN0b3JlIHRoaXMgZm9yIHRoZSByZWZyZXNoIHRpbWVyXG4gICAgICBfc2VwYXJhdG9yID0gKHN0ci5sZW5ndGggPT09IDEpID8gXCI/XCIgOiBcIiZcIjtcblxuICAgICAgLy8gTm9uIHN0b3JhZ2UgVVJMXG4gICAgICBfc3JjQXR0ci52YWx1ZSA9IGRhdGEudXJsO1xuICAgICAgX3NvdXJjZS5zZXRBdHRyaWJ1dGVOb2RlKF9zcmNBdHRyKTtcbiAgICAgIF92aWRlby5hcHBlbmRDaGlsZChfZnJhZ21lbnQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJpc2UgU3RvcmFnZVxuICAgICAgX3N0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBfc3RvcmFnZVJlc3BvbnNlKTtcblxuICAgICAgX3N0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgICAgX3N0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgZGF0YS5zdG9yYWdlLmZpbGVOYW1lKTtcbiAgICAgIF9zdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBkYXRhLnN0b3JhZ2UuY29tcGFueUlkKTtcbiAgICAgIF9zdG9yYWdlLmdvKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgX3ZpZXdlclBhdXNlZCA9IHRydWU7XG4gICAgX3ZpZGVvLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIF9pbml0aWFsUGxheSA9IGZhbHNlO1xuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcblxuICAgIGlmICghX2NhblBsYXkpIHtcbiAgICAgIF9jYW5QbGF5VGltZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3ZpZGVvLnBsYXkoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZXJQYXVzZWQoKSB7XG4gICAgcmV0dXJuIF91c2VyUGF1c2VkO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImlzSW5pdGlhbFBsYXlcIjogaXNJbml0aWFsUGxheSxcbiAgICBcImluaXRcIjogaW5pdCxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwidXNlclBhdXNlZFwiOiB1c2VyUGF1c2VkXG4gIH07XG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgUmlzZVZpc2lvbiAqL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLFxuICAgIGlkID0gcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgLy8gRGlzYWJsZSBjb250ZXh0IG1lbnUgKHJpZ2h0IGNsaWNrIG1lbnUpXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnN0b3AoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZGl0aW9uYWxQYXJhbXMobmFtZXMsIHZhbHVlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIG5hbWVzWzBdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLnNldEFkZGl0aW9uYWxQYXJhbXMoSlNPTi5wYXJzZSh2YWx1ZXNbMF0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaWQgJiYgaWQgIT09IFwiXCIpIHtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9zdG9wX1wiICsgaWQsIHN0b3ApO1xuXG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xuXG4gIH1cblxufSkod2luZG93LCBnYWRnZXRzKTtcblxuXG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMiddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=