(function(){function e(e){function n(n,t,r,i,o,s){for(;o>=0&&s>o;o+=e){var a=i?i[o]:o;r=t(r,n[a],a,n)}return r}return function(t,r,i,o){r=V(r,o,4);var s=!O(t)&&y.keys(t),a=(s||t).length,u=e>0?0:a-1;return arguments.length<3&&(i=t[s?s[u]:u],u+=e),n(t,r,i,s,u,a)}}function n(e){return function(n,t,r){t=R(t,r);for(var i=C(n),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(t(n[o],o,n))return o;return-1}}function t(e,n,t){return function(r,i,o){var s=0,a=C(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(t&&o&&a)return o=t(r,i),r[o]===i?o:-1;if(i!==i)return o=n(c.call(r,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&a>o;o+=e)if(r[o]===i)return o;return-1}}function r(e,n){var t=A.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||a,o="constructor";for(y.has(e,o)&&!y.contains(n,o)&&n.push(o);t--;)o=A[t],o in e&&e[o]!==i[o]&&!y.contains(n,o)&&n.push(o)}var i=this,o=i._,s=Array.prototype,a=Object.prototype,u=Function.prototype,l=s.push,c=s.slice,f=a.toString,d=a.hasOwnProperty,p=Array.isArray,g=Object.keys,v=u.bind,h=Object.create,m=function(){},y=function(e){return e instanceof y?e:this instanceof y?(this._wrapped=e,void 0):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var V=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)};case 4:return function(t,r,i,o){return e.call(n,t,r,i,o)}}return function(){return e.apply(n,arguments)}},R=function(e,n,t){return null==e?y.identity:y.isFunction(e)?V(e,n,t):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,n){return R(e,n,1/0)};var E=function(e,n){return function(t){var r=arguments.length;if(2>r||null==t)return t;for(var i=1;r>i;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;a>u;u++){var l=s[u];n&&void 0!==t[l]||(t[l]=o[l])}return t}},w=function(e){if(!y.isObject(e))return{};if(h)return h(e);m.prototype=e;var n=new m;return m.prototype=null,n},b=function(e){return function(n){return null==n?void 0:n[e]}},_=Math.pow(2,53)-1,C=b("length"),O=function(e){var n=C(e);return"number"==typeof n&&n>=0&&_>=n};y.each=y.forEach=function(e,n,t){n=V(n,t);var r,i;if(O(e))for(r=0,i=e.length;i>r;r++)n(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;i>r;r++)n(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,n,t){n=R(n,t);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=Array(i),s=0;i>s;s++){var a=r?r[s]:s;o[s]=n(e[a],a,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,n,t){var r;return r=O(e)?y.findIndex(e,n,t):y.findKey(e,n,t),void 0!==r&&-1!==r?e[r]:void 0},y.filter=y.select=function(e,n,t){var r=[];return n=R(n,t),y.each(e,function(e,t,i){n(e,t,i)&&r.push(e)}),r},y.reject=function(e,n,t){return y.filter(e,y.negate(R(n)),t)},y.every=y.all=function(e,n,t){n=R(n,t);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var s=r?r[o]:o;if(!n(e[s],s,e))return!1}return!0},y.some=y.any=function(e,n,t){n=R(n,t);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var s=r?r[o]:o;if(n(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,n,t,r){return O(e)||(e=y.values(e)),("number"!=typeof t||r)&&(t=0),y.indexOf(e,n,t)>=0},y.invoke=function(e,n){var t=c.call(arguments,2),r=y.isFunction(n);return y.map(e,function(e){var i=r?n:e[n];return null==i?i:i.apply(e,t)})},y.pluck=function(e,n){return y.map(e,y.property(n))},y.where=function(e,n){return y.filter(e,y.matcher(n))},y.findWhere=function(e,n){return y.find(e,y.matcher(n))},y.max=function(e,n,t){var r,i,o=-1/0,s=-1/0;if(null==n&&null!=e){e=O(e)?e:y.values(e);for(var a=0,u=e.length;u>a;a++)r=e[a],r>o&&(o=r)}else n=R(n,t),y.each(e,function(e,t,r){i=n(e,t,r),(i>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},y.min=function(e,n,t){var r,i,o=1/0,s=1/0;if(null==n&&null!=e){e=O(e)?e:y.values(e);for(var a=0,u=e.length;u>a;a++)r=e[a],o>r&&(o=r)}else n=R(n,t),y.each(e,function(e,t,r){i=n(e,t,r),(s>i||1/0===i&&1/0===o)&&(o=e,s=i)});return o},y.shuffle=function(e){for(var n,t=O(e)?e:y.values(e),r=t.length,i=Array(r),o=0;r>o;o++)n=y.random(0,o),n!==o&&(i[o]=i[n]),i[n]=t[o];return i},y.sample=function(e,n,t){return null==n||t?(O(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,n))},y.sortBy=function(e,n,t){return n=R(n,t),y.pluck(y.map(e,function(e,t,r){return{value:e,index:t,criteria:n(e,t,r)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(r>t||void 0===r)return-1}return e.index-n.index}),"value")};var T=function(e){return function(n,t,r){var i={};return t=R(t,r),y.each(n,function(r,o){var s=t(r,o,n);e(i,r,s)}),i}};y.groupBy=T(function(e,n,t){y.has(e,t)?e[t].push(n):e[t]=[n]}),y.indexBy=T(function(e,n,t){e[t]=n}),y.countBy=T(function(e,n,t){y.has(e,t)?e[t]++:e[t]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):O(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:O(e)?e.length:y.keys(e).length},y.partition=function(e,n,t){n=R(n,t);var r=[],i=[];return y.each(e,function(e,t,o){(n(e,t,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:y.initial(e,e.length-n)},y.initial=function(e,n,t){return c.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},y.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:y.rest(e,Math.max(0,e.length-n))},y.rest=y.tail=y.drop=function(e,n,t){return c.call(e,null==n||t?1:n)},y.compact=function(e){return y.filter(e,y.identity)};var S=function(e,n,t,r){for(var i=[],o=0,s=r||0,a=C(e);a>s;s++){var u=e[s];if(O(u)&&(y.isArray(u)||y.isArguments(u))){n||(u=S(u,n,t));var l=0,c=u.length;for(i.length+=c;c>l;)i[o++]=u[l++]}else t||(i[o++]=u)}return i};y.flatten=function(e,n){return S(e,n,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,n,t,r){y.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=R(t,r));for(var i=[],o=[],s=0,a=C(e);a>s;s++){var u=e[s],l=t?t(u,s,e):u;n?(s&&o===l||i.push(u),o=l):t?y.contains(o,l)||(o.push(l),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(S(arguments,!0,!0))},y.intersection=function(e){for(var n=[],t=arguments.length,r=0,i=C(e);i>r;r++){var o=e[r];if(!y.contains(n,o)){for(var s=1;t>s&&y.contains(arguments[s],o);s++);s===t&&n.push(o)}}return n},y.difference=function(e){var n=S(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(n,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var n=e&&y.max(e,C).length||0,t=Array(n),r=0;n>r;r++)t[r]=y.pluck(e,r);return t},y.object=function(e,n){for(var t={},r=0,i=C(e);i>r;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t},y.findIndex=n(1),y.findLastIndex=n(-1),y.sortedIndex=function(e,n,t,r){t=R(t,r,1);for(var i=t(n),o=0,s=C(e);s>o;){var a=Math.floor((o+s)/2);t(e[a])<i?o=a+1:s=a}return o},y.indexOf=t(1,y.findIndex,y.sortedIndex),y.lastIndexOf=t(-1,y.findLastIndex),y.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var r=Math.max(Math.ceil((n-e)/t),0),i=Array(r),o=0;r>o;o++,e+=t)i[o]=e;return i};var I=function(e,n,t,r,i){if(!(r instanceof n))return e.apply(t,i);var o=w(e.prototype),s=e.apply(o,i);return y.isObject(s)?s:o};y.bind=function(e,n){if(v&&e.bind===v)return v.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var t=c.call(arguments,2),r=function(){return I(e,r,n,this,t.concat(c.call(arguments)))};return r},y.partial=function(e){var n=c.call(arguments,1),t=function(){for(var r=0,i=n.length,o=Array(i),s=0;i>s;s++)o[s]=n[s]===y?arguments[r++]:n[s];for(;r<arguments.length;)o.push(arguments[r++]);return I(e,t,this,this,o)};return t},y.bindAll=function(e){var n,t,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(n=1;r>n;n++)t=arguments[n],e[t]=y.bind(e[t],e);return e},y.memoize=function(e,n){var t=function(r){var i=t.cache,o=""+(n?n.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return t.cache={},t},y.delay=function(e,n){var t=c.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,n,t){var r,i,o,s=null,a=0;t||(t={});var u=function(){a=t.leading===!1?0:y.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){var l=y.now();a||t.leading!==!1||(a=l);var c=n-(l-a);return r=this,i=arguments,0>=c||c>n?(s&&(clearTimeout(s),s=null),a=l,o=e.apply(r,i),s||(r=i=null)):s||t.trailing===!1||(s=setTimeout(u,c)),o}},y.debounce=function(e,n,t){var r,i,o,s,a,u=function(){var l=y.now()-s;n>l&&l>=0?r=setTimeout(u,n-l):(r=null,t||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=y.now();var l=t&&!r;return r||(r=setTimeout(u,n)),l&&(a=e.apply(o,i),o=i=null),a}},y.wrap=function(e,n){return y.partial(n,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},y.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},y.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),1>=e&&(n=null),t}},y.once=y.partial(y.before,2);var x=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(g)return g(e);var n=[];for(var t in e)y.has(e,t)&&n.push(t);return x&&r(e,n),n},y.allKeys=function(e){if(!y.isObject(e))return[];var n=[];for(var t in e)n.push(t);return x&&r(e,n),n},y.values=function(e){for(var n=y.keys(e),t=n.length,r=Array(t),i=0;t>i;i++)r[i]=e[n[i]];return r},y.mapObject=function(e,n,t){n=R(n,t);for(var r,i=y.keys(e),o=i.length,s={},a=0;o>a;a++)r=i[a],s[r]=n(e[r],r,e);return s},y.pairs=function(e){for(var n=y.keys(e),t=n.length,r=Array(t),i=0;t>i;i++)r[i]=[n[i],e[n[i]]];return r},y.invert=function(e){for(var n={},t=y.keys(e),r=0,i=t.length;i>r;r++)n[e[t[r]]]=t[r];return n},y.functions=y.methods=function(e){var n=[];for(var t in e)y.isFunction(e[t])&&n.push(t);return n.sort()},y.extend=E(y.allKeys),y.extendOwn=y.assign=E(y.keys),y.findKey=function(e,n,t){n=R(n,t);for(var r,i=y.keys(e),o=0,s=i.length;s>o;o++)if(r=i[o],n(e[r],r,e))return r},y.pick=function(e,n,t){var r,i,o={},s=e;if(null==s)return o;y.isFunction(n)?(i=y.allKeys(s),r=V(n,t)):(i=S(arguments,!1,!1,1),r=function(e,n,t){return n in t},s=Object(s));for(var a=0,u=i.length;u>a;a++){var l=i[a],c=s[l];r(c,l,s)&&(o[l]=c)}return o},y.omit=function(e,n,t){if(y.isFunction(n))n=y.negate(n);else{var r=y.map(S(arguments,!1,!1,1),String);n=function(e,n){return!y.contains(r,n)}}return y.pick(e,n,t)},y.defaults=E(y.allKeys,!0),y.create=function(e,n){var t=w(e);return n&&y.extendOwn(t,n),t},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,n){return n(e),e},y.isMatch=function(e,n){var t=y.keys(n),r=t.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var s=t[o];if(n[s]!==i[s]||!(s in i))return!1}return!0};var L=function(e,n,t,r){if(e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof y&&(e=e._wrapped),n instanceof y&&(n=n._wrapped);var i=f.call(e);if(i!==f.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,a=n.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],r=r||[];for(var u=t.length;u--;)if(t[u]===e)return r[u]===n;if(t.push(e),r.push(n),o){if(u=e.length,u!==n.length)return!1;for(;u--;)if(!L(e[u],n[u],t,r))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(n).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(n,l)||!L(e[l],n[l],t,r))return!1}return t.pop(),r.pop(),!0};y.isEqual=function(e,n){return L(e,n)},y.isEmpty=function(e){return null==e?!0:O(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(n){return f.call(n)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,n){return null!=e&&d.call(e,n)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=b,y.propertyOf=function(e){return null==e?function(){}:function(n){return e[n]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(n){return y.isMatch(n,e)}},y.times=function(e,n,t){var r=Array(Math.max(0,e));n=V(n,t,1);for(var i=0;e>i;i++)r[i]=n(i);return r},y.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=y.invert(N),F=function(e){var n=function(n){return e[n]},t="(?:"+y.keys(e).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,n):e}};y.escape=F(N),y.unescape=F(k),y.result=function(e,n,t){var r=null==e?void 0:e[n];return void 0===r&&(r=t),y.isFunction(r)?r.call(e):r};var j=0;y.uniqueId=function(e){var n=++j+"";return e?e+n:n},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,D=function(e){return"\\"+P[e]};y.template=function(e,n,t){!n&&t&&(n=t),n=y.defaults({},n,y.templateSettings);var r=RegExp([(n.escape||M).source,(n.interpolate||M).source,(n.evaluate||M).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(n,t,r,s,a){return o+=e.slice(i,a).replace(U,D),i=a+n.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(e){return s.call(this,e,y)},l=n.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},y.chain=function(e){var n=y(e);return n._chain=!0,n};var G=function(e,n){return e._chain?y(n).chain():n};y.mixin=function(e){y.each(y.functions(e),function(n){var t=y[n]=e[n];y.prototype[n]=function(){var e=[this._wrapped];return l.apply(e,arguments),G(this,t.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=s[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],G(this,t)}}),y.each(["concat","join","slice"],function(e){var n=s[e];y.prototype[e]=function(){return G(this,n.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,n){var r=null;e.event?(r=e,r.file_url&&(r.file_format=t(r.file_url)),r.company_id=u,r.display_id=a,l&&(r.version=l),n(r)):n(r)}function n(){var e=new Date,n=e.getUTCFullYear(),t=e.getUTCMonth()+1,r=e.getUTCDate();return 10>t&&(t="0"+t),10>r&&(r="0"+r),n+t+r}function t(e){var n,t=/[?#&]/;return e&&"string"==typeof e?(n=e.substr(e.lastIndexOf(".")+1),t.test(n)&&(n=n.substr(0,-1!==n.indexOf("?")?n.indexOf("?"):n.length),n=n.substr(0,-1!==n.indexOf("#")?n.indexOf("#"):n.length),n=n.substr(0,-1!==n.indexOf("&")?n.indexOf("&"):n.length)),n.toLowerCase()):null}function r(e){var t={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:n(),rows:[{insertId:""}]},r=JSON.parse(JSON.stringify(t));return r.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),r.rows[0].json=JSON.parse(JSON.stringify(e)),r.rows[0].json.ts=(new Date).toISOString(),r}function i(n,t){e(t,function(e){null!==e&&RiseVision.Common.Logger.log(n,e)})}function o(e,n){u=e,a=n}function s(e){l=e}var a="",u="",l=null;return{getInsertData:r,getFileFormat:t,logEvent:i,setIds:o,setVersion:s}}(),RiseVision.Common.Logger=function(e){"use strict";function n(e){var n=new XMLHttpRequest;return new Date-l<358e4?e({}):(n.open("POST",i,!0),n.onloadend=function(){var t=JSON.parse(n.response);e({token:t.access_token,refreshedAt:new Date})},n.send(),void 0)}function t(e){return s&&u===e}function r(r,i){function f(n){var t,s,a=new XMLHttpRequest;s=o.replace("TABLE_ID",r),l=n.refreshedAt||l,c=n.token||c,t=e.getInsertData(i),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+c),i.cb&&"function"==typeof i.cb&&(a.onloadend=function(){i.cb(a.response)}),a.send(JSON.stringify(t))}if(!(!r||!i||i.hasOwnProperty("event")&&!i.event||i.hasOwnProperty("event")&&t(i.event)))return s=!0,u=i.event,setTimeout(function(){s=!1},a),n(f)}var i="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",o="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,u="",l=0,c="";return{log:r}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,n){var t="font-family: "+decodeURIComponent(n.font.family).replace(/'/g,"")+"; ",r="color: "+(n.color?n.color:n.forecolor)+"; ",i="font-size: "+(-1===n.size.indexOf("px")?n.size+"px; ":n.size+"; "),o="font-weight: "+(n.bold?"bold":"normal")+"; ",s="font-style: "+(n.italic?"italic":"normal")+"; ",a="text-decoration: "+(n.underline?"underline":"none")+"; ",u="background-color: "+(n.highlightColor?n.highlightColor:n.backcolor)+";";return"."+e+" {"+t+r+i+o+s+a+u+"}"}function n(e){for(var n=document.createElement("style"),t=0,r=e.length;r>t;t++)n.appendChild(document.createTextNode(e[t]));document.head.appendChild(n)}function t(t,o){function s(){o&&"function"==typeof o&&o()}function a(){s()}var u=null,l=[],c=[],f=[];if(!t||0===t.length)return s(),void 0;t.forEach(function(t){t.class&&t.fontStyle&&n([e(t.class,t.fontStyle)])});for(var d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"google"===t[d].fontStyle.font.type&&(u=t[d].fontStyle.font.family.split(",")[0],u=u.replace(/'/g,""),l.push(u));for(d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"custom"===t[d].fontStyle.font.type&&(c.push(decodeURIComponent(t[d].fontStyle.font.family).replace(/'/g,"")),f.push(t[d].fontStyle.font.url.replace(/'/g,"\\'")));if(0===l.length&&0===c.length)s();else{for(var p=0;p<c.length;p+=1)r(c[p],f[p]);l.length>0?i(l,a):s()}}function r(e,n,t){var r=null,i="font-family: "+e+"; src: url('"+n+"');";t=t||document,r=t.styleSheets[0],null!==r&&r.addRule("@font-face",i)}function i(e,n){WebFont.load({google:{families:e},active:function(){n&&"function"==typeof n&&n()},inactive:function(){n&&"function"==typeof n&&n()},timeout:2e3})}function o(e){for(var n=e.length,t=[],r=0;n>r;r++)t[r]=new Image,t[r].src=e[r]}function s(e){for(var n,t=window.location.search.substring(1),r=t.split("&"),i=0;i<r.length;i++)if(n=r[i].split("="),n[0]==e)return decodeURIComponent(n[1]);return""}function a(e){var n="";switch(e){case 404:n="The file does not exist or cannot be accessed.";break;case 507:n="There is not enough disk space to save the file on Rise Cache.";break;default:n="There was a problem retrieving the file from Rise Cache."}return n}function u(e){var n=document.createElement("div");return n.innerHTML=e,n.textContent}function l(e,n){var t=new XMLHttpRequest;if(e&&n&&"function"==typeof n){t.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{t.send(),n(t.status>=200&&t.status<304)}catch(r){n(!1)}}}function c(){var e=25,n=navigator.userAgent.match(/Chrome\/(\S+)/),t=n?n[1]:0;return t&&(t=parseInt(t.substring(0,t.indexOf("."))),e>=t)?!0:!1}return{getQueryParameter:s,getFontCssStyle:e,addCSSRules:n,loadFonts:t,loadCustomFont:r,loadGoogleFonts:i,preloadImages:o,getRiseCacheErrorMessage:a,unescapeHTML:u,hasInternetConnection:l,isLegacy:c}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var n=new XMLHttpRequest,t=this;e&&"function"==typeof e&&(a?n.open("GET",i,!0):n.open("GET",i+"ping?callback=_",!0),n.onreadystatechange=function(){try{if(4===n.readyState)if(o=!0,200===n.status)s=!0,e(!0,n.responseText);else{if(404===n.status)return a=!0,t.ping(e);console.debug("Rise Cache is not running"),s=!1,e(!1,null)}}catch(r){console.debug("Caught exception: ",r.description)}},n.send())}function n(e,n,t){function r(){var n,r,o;s?n=a?i+"files?url="+encodeURIComponent(e):t?i+"?url="+encodeURIComponent(e):i+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):t?n=e:(r=e.split("?"),o=1===r.length?"?":"&",n=e+o+"cb="+(new Date).getTime()),u("HEAD",n)}function u(e,t){var r=new XMLHttpRequest,i={xhr:r,url:t};s?(r.open(e,t,!0),r.addEventListener("loadend",function(){var o=r.status||0;o>=200&&300>o?n(i):"HEAD"===e?u("GET",t):n(i,new Error("The request failed with status code: "+o))}),r.send()):n(i)}if(e&&n&&"function"==typeof n)return o?r():this.ping(r)}function t(e){return e&&"function"==typeof e?o?(e(s),void 0):this.ping(function(){e(s)}):void 0}function r(e){return e&&"function"==typeof e?o?(e(a),void 0):this.ping(function(){e(a)}):void 0}var i="//localhost:9494/",o=!1,s=!1,a=!1;return{getFile:n,isRiseCacheRunning:t,isV2Running:r,ping:e}}();var version="1.1.0";"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod",COMPONENTS_PATH:"components/"},RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,n){"use strict";function t(){n.rpc.call("","rsevent_done",null,S.getString("id")),null!==M&&c(M,!0),c({event:"done"},!1)}function r(){n.rpc.call("","rsevent_ready",null,S.getString("id"),!0,!0,!0,!0,!0)}function i(){clearTimeout(P),P=null}function o(){i(),P=setTimeout(function(){t()},5e3)}function s(){if(F&&F.length>0){if("file"===C)return F[0];if("folder"===C&&j)return F[j]}return null}function a(){return D}function u(){return G}function l(e,n){U=!0,D="undefined"!=typeof n,A.show(e),j=null,N||o()}function c(e,n){n&&(M=e),e.file_url||(e.file_url=s()),RiseVision.Common.LoggerUtils.logEvent(h(),e)}function f(e){"file"===C?F[0]=e:"folder"===C&&(F=e),q=!1,A.hide(),N||v()}function d(e){"file"===C?F[0]=e:"folder"===C&&(F=e),L&&L.update(F),U=!1,G=!1,D=!1,q=!1,M=null}function p(e){q=!0,A.show(e),j=null,N||o()}function g(){N=!0,i(),L&&(k?L.pause():(j=null,L.reset()))}function v(){return O&&(O=!1,c({event:"configuration",event_details:T},!1)),N=!1,c({event:"play"},!1),U?(o(),void 0):q?("file"===C&&I&&I.retry(),void 0):(L?(A.hide(),L.play()):F&&F.length>0&&(L=new RiseVision.Video.Player(b,C),L.init(F)),void 0)}function h(){return"video_v2_events"}function m(){j=null,t()}function y(){A.hide(),!N&&L&&L.play()}function V(e){j=e}function R(e,t){var i;b=_.clone(e),C=t,S=new n.Prefs,document.getElementById("container").style.width=S.getInt("rsW")+"px",document.getElementById("container").style.height=S.getInt("rsH")+"px",b.width=S.getInt("rsW"),b.height=S.getInt("rsH"),b.video.hasOwnProperty("resume")&&(k=b.video.resume),A=new RiseVision.Common.Message(document.getElementById("container"),document.getElementById("messageContainer")),RiseVision.Common.Utilities.isLegacy()?l("This version of Video Widget is not supported on this version of Rise Player. Please use the latest Rise Player version available at https://help.risevision.com/user/create-a-display"):(A.show("Please wait while your video is downloaded."),"file"===C?(i=0!==Object.keys(b.storage).length,i?(T="storage file",I=new RiseVision.Video.StorageFile(b),I.init()):(T="custom",x=new RiseVision.Video.NonStorage(b),x.init())):"folder"===C&&(T="storage folder",I=new RiseVision.Video.StorageFolder(b),I.init())),r()}function E(e){var n=null,t={},r="Sorry, there was a problem playing the video.",i="Error loading media: File could not be played",o="Error loading YouTube: Video could not be played",s="Error loading player: No media sources found",a="Error loading playlist: No playable sources found",u="There was a problem playing that video. It could be that we don't support that format or it is not encoded correctly.",f="The format of that video is not supported";e&&(e.type&&e.message?n=e.type+" - "+e.message:e.type?n=e.type:e.message&&(n=e.message),e.message&&(e.message===i||e.message===o?r=u:(e.message===s||e.message===a)&&(r=f))),t.event="player error",t.event_details=n,G=!0,c(t,!0),l(r),I&&I.getMetadata()}function w(){g()}var b,C,O=!0,T=null,S=null,I=null,x=null,A=null,L=null,N=!0,k=!0,F=[],j=null,M=null,P=null,U=!1,D=!1,G=!1,q=!1;return{getTableName:h,hasPlayerError:u,hasStorageError:a,logEvent:c,onFileInit:f,onFileRefresh:d,onFileUnavailable:p,pause:g,play:v,setAdditionalParams:R,showError:l,playerEnded:m,playerReady:y,playerError:E,playerItemChange:V,stop:w}}(window,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.PlayerUtils=function(){"use strict";function e(e){for(var n=[],t=0;t<e.length;t+=1)n.push({file:e[t],type:this.getVideoFileType(e[t])});return n}function n(e){var n,t=[".mp4",".webm"],r=e.toLowerCase(),i=null;for(n=0;n<=t.length;n+=1)if(-1!==r.indexOf(t[n])){i=t[n].substr(t[n].lastIndexOf(".")+1);break}return i}return{getPlaylist:e,getVideoFileType:n}}();var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFile=function(e){"use strict";function n(){var n=document.getElementById("videoStorage");n&&(n.addEventListener("rise-storage-response",function(e){e.detail&&e.detail.url&&(i?(i=!1,RiseVision.Video.onFileInit(e.detail.url)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Video.onFileRefresh(e.detail.url):(RiseVision.Video.hasStorageError()||RiseVision.Video.hasPlayerError())&&RiseVision.Video.onFileRefresh(e.detail.url)))}),n.addEventListener("rise-storage-api-error",function(e){var n={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),n.addEventListener("rise-storage-no-file",function(e){var n={event:"storage file not found",event_details:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected video does not exist or has been moved to Trash.")}),n.addEventListener("rise-storage-file-throttled",function(e){var n={event:"storage file throttled",file_url:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected video is temporarily unavailable.")}),n.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),n.addEventListener("rise-storage-subscription-error",function(e){var n={event:"storage subscription error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0)}),n.addEventListener("rise-storage-error",function(e){var n={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),n.addEventListener("rise-cache-error",function(e){var n={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Video.logEvent(n,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var r=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Video.showError(r)}),n.addEventListener("rise-cache-not-running",function(e){var n={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(n,!0)}),n.addEventListener("rise-cache-file-unavailable",function(){RiseVision.Video.onFileUnavailable("File is downloading")}),n.setAttribute("folder",e.storage.folder),n.setAttribute("fileName",e.storage.fileName),n.setAttribute("companyId",e.storage.companyId),n.setAttribute("env",config.STORAGE_ENV),n.go())}function t(){var e=document.getElementById("videoStorage");"function"==typeof e.getMetadata&&e.getMetadata()}function r(){var e=document.getElementById("videoStorage");e&&e.go()}var i=!0;return{init:n,retry:r,getMetadata:t}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFolder=function(e){"use strict";function n(){return _.pluck(u,"url")}function t(e){return _.find(u,function(n){return e.name===n.name})}function r(e){var n=t(e);n&&u.splice(u.indexOf(n),1)}function i(e){var n=t(e);n&&(n.url=e.url)}function o(e){var n=t(e);n||(e.fileName=e.name.slice(e.name.lastIndexOf("/")+1,e.name.lastIndexOf(".")).toLowerCase(),u.splice(_.sortedIndex(u,e,"fileName"),0,e))}function s(){var t=document.getElementById("videoStorage");t&&(t.addEventListener("rise-storage-response",function(e){var t=e.detail;if(t.added&&(o(t),a))return a=!1,RiseVision.Video.onFileInit(n()),void 0;if(t.hasOwnProperty("changed"))if(t.changed)i(t);else if(!RiseVision.Video.hasStorageError()&&!RiseVision.Video.hasPlayerError())return;t.deleted&&r(t),RiseVision.Video.onFileRefresh(n())}),t.addEventListener("rise-storage-api-error",function(e){var n={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-empty-folder",function(){var e={event:"storage folder empty"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any videos.")}),t.addEventListener("rise-storage-no-folder",function(e){var n={event:"storage folder doesn't exist",event_details:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected folder does not exist or has been moved to Trash.")
}),t.addEventListener("rise-storage-folder-invalid",function(){var e={event:"storage folder format(s) invalid"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any supported video formats.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-subscription-error",function(e){var n={event:"storage subscription error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0)}),t.addEventListener("rise-storage-error",function(e){var n={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var n={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Video.logEvent(n,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var r=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Video.showError(r)}),t.addEventListener("rise-cache-not-running",function(e){var n={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(n,!0)}),t.setAttribute("fileType","video"),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("folder",e.storage.folder),t.setAttribute("env",config.STORAGE_ENV),t.go())}var a=!0,u=[];return{init:s}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.NonStorage=function(e){"use strict";function n(e){i.getFile(u,function(e,n){if(n){RiseVision.Video.logEvent({event:"non-storage error",event_details:n.message,file_url:e.url},!0);var r=0;n.message&&(r=+n.message.substring(n.message.indexOf(":")+2));var i=RiseVision.Common.Utilities.getRiseCacheErrorMessage(r);RiseVision.Video.showError(i)}else a?(a=!1,RiseVision.Video.onFileInit(e.url),t()):RiseVision.Video.onFileRefresh(e.url)},e)}function t(){null===s&&(s=setInterval(function(){n(!1)},o))}function r(){u=e.url&&""!==e.url?e.url:e.selector.url,n(!0)}var i=RiseVision.Common.RiseCache,o=9e5,s=null,a=!0,u="";return{init:r}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Player=function(e){"use strict";function n(){RiseVision.Video.playerEnded()}function t(){y||(clearTimeout(V),V=setTimeout(function(){"PLAYING"!==h.getState().toUpperCase()&&h.play()},1e3*v))}function r(e){RiseVision.Video.playerItemChange(e)}function i(e){e&&RiseVision.Video.playerError({type:"video",message:e.message})}function o(e){e&&RiseVision.Video.playerError({type:"setup",message:e.message})}function s(){h.on("setupError",function(e){o(e)}),h.on("ready",function(){h.on("playlistComplete",function(){n()}),h.on("playlistItem",function(e){r(e.index)}),h.on("error",function(e){i(e)}),h.setVolume(e.video.volume),e.video.controls&&v>1&&h.on("pause",function(){t()}),RiseVision.Video.playerReady()})}function a(n){return{controls:e.video.controls,height:e.height,playlist:m.getPlaylist(n),skin:{name:"rise"},stretching:g,width:e.width}}function u(n){h=jwplayer("player"),R=n,g=e.video.scaleToFit?"uniform":"none",p=e.video.controls?e.video.autoplay:!0,e.video.pause?(e.video.pause="string"==typeof e.video.pause?parseInt(e.video.pause,10):e.video.pause,v=isNaN(e.video.pause)?0:e.video.pause):v=0,h.setup(a(n)),s()}function l(){y=!1,E&&(E=!1,h.load(m.getPlaylist(R))),p&&h.play()}function c(){y=!0,clearTimeout(V),"PLAYING"===h.getState().toUpperCase()&&h.pause()}function f(){function e(){h.off("play",e),h.pause()}function n(){h.off("seeked",n),h.pause()}c(),"COMPLETE"!==h.getState().toUpperCase()&&setTimeout(function(){0!==h.getPlaylistIndex()?(h.on("play",e),h.playlistItem(0)):(h.on("seeked",n),h.seek(0))},100)}function d(e){R=e,E=!0}var p,g,v,h=null,m=RiseVision.Video.PlayerUtils,y=!1,V=null,R=null,E=!1;return{init:u,pause:c,play:l,reset:f,update:d}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,n){"use strict";function t(){try{n.style.height=e.style.height}catch(t){console.warn("Can't initialize Message - ",t.message)}}function r(){if(o){for(;n.firstChild;)n.removeChild(n.firstChild);n.style.display="none",e.style.display="block",o=!1}}function i(t){var r,i=document.createDocumentFragment();o?(r=n.querySelector(".message"),r.innerHTML=t):(e.style.display="none",n.style.display="block",r=document.createElement("p"),r.innerHTML=t,r.setAttribute("class","message"),i.appendChild(r),n.appendChild(i),o=!0)}var o=!1;return t(),{hide:r,show:i}},function(e,n){"use strict";function t(e,n){var t=null,r="",i="",o="";Array.isArray(e)&&e.length>0&&Array.isArray(n)&&n.length>0&&("companyId"===e[0]&&(i=n[0]),"displayId"===e[1]&&(o=n[1]?n[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(i,o),RiseVision.Common.LoggerUtils.setVersion(version),"additionalParams"===e[2]&&(t=JSON.parse(n[2]),r=0!==Object.keys(t.storage).length?t.storage.fileName?"file":"folder":"file",RiseVision.Video.setAdditionalParams(t,r)))}function r(){RiseVision.Video.play()}function i(){RiseVision.Video.pause()}function o(){RiseVision.Video.stop()}function s(){u&&""!==u&&(n.rpc.register("rscmd_play_"+u,r),n.rpc.register("rscmd_pause_"+u,i),n.rpc.register("rscmd_stop_"+u,o),n.rpc.register("rsparam_set_"+u,t),n.rpc.call("","rsparam_get",null,u,["companyId","displayId","additionalParams"]))}var a=new n.Prefs,u=a.getString("id");e.oncontextmenu=function(){return!1},RiseVision.Common.RiseCache.isV2Running(function(n){function t(){e.removeEventListener("WebComponentsReady",t),f=!0,c&&f&&s()}function r(){l.removeEventListener("rise-storage-ready",r),c=!0,c&&f&&s()}var i=document.createDocumentFragment(),o=document.createElement("link"),a=document.createElement("script"),u=config.COMPONENTS_PATH+(n?"rise-storage-v2":"rise-storage")+"/rise-storage.html",l=document.createElement("rise-storage"),c=!1,f=!1;a.src=config.COMPONENTS_PATH+"webcomponentsjs/webcomponents-lite.min.js",e.addEventListener("WebComponentsReady",t),document.getElementsByTagName("head")[0].appendChild(a),o.setAttribute("rel","import"),o.setAttribute("href",u),document.getElementsByTagName("head")[0].appendChild(o),l.setAttribute("id","videoStorage"),l.setAttribute("refresh",5),l.addEventListener("rise-storage-ready",r),i.appendChild(l),document.body.appendChild(i)})}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY3JlYXRlUmVkdWNlIiwiZGlyIiwiaXRlcmF0b3IiLCJvYmoiLCJpdGVyYXRlZSIsIm1lbW8iLCJrZXlzIiwiaW5kZXgiLCJsZW5ndGgiLCJjdXJyZW50S2V5IiwiY29udGV4dCIsIm9wdGltaXplQ2IiLCJpc0FycmF5TGlrZSIsIl8iLCJhcmd1bWVudHMiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsImFycmF5IiwicHJlZGljYXRlIiwiY2IiLCJnZXRMZW5ndGgiLCJjcmVhdGVJbmRleEZpbmRlciIsInByZWRpY2F0ZUZpbmQiLCJzb3J0ZWRJbmRleCIsIml0ZW0iLCJpZHgiLCJpIiwiTWF0aCIsIm1heCIsIm1pbiIsInNsaWNlIiwiY2FsbCIsImlzTmFOIiwiY29sbGVjdE5vbkVudW1Qcm9wcyIsIm5vbkVudW1JZHgiLCJub25FbnVtZXJhYmxlUHJvcHMiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiaXNGdW5jdGlvbiIsInByb3RvdHlwZSIsIk9ialByb3RvIiwicHJvcCIsImhhcyIsImNvbnRhaW5zIiwicHVzaCIsInJvb3QiLCJ0aGlzIiwicHJldmlvdXNVbmRlcnNjb3JlIiwiQXJyYXlQcm90byIsIkFycmF5IiwiT2JqZWN0IiwiRnVuY1Byb3RvIiwiRnVuY3Rpb24iLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwibmF0aXZlSXNBcnJheSIsImlzQXJyYXkiLCJuYXRpdmVLZXlzIiwibmF0aXZlQmluZCIsImJpbmQiLCJuYXRpdmVDcmVhdGUiLCJjcmVhdGUiLCJDdG9yIiwiX3dyYXBwZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiVkVSU0lPTiIsImZ1bmMiLCJhcmdDb3VudCIsInZhbHVlIiwib3RoZXIiLCJjb2xsZWN0aW9uIiwiYWNjdW11bGF0b3IiLCJhcHBseSIsImlkZW50aXR5IiwiaXNPYmplY3QiLCJtYXRjaGVyIiwicHJvcGVydHkiLCJJbmZpbml0eSIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJ1bmRlZmluZWRPbmx5Iiwic291cmNlIiwibCIsImtleSIsImJhc2VDcmVhdGUiLCJyZXN1bHQiLCJNQVhfQVJSQVlfSU5ERVgiLCJwb3ciLCJlYWNoIiwiZm9yRWFjaCIsIm1hcCIsImNvbGxlY3QiLCJyZXN1bHRzIiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJsaXN0IiwicmVqZWN0IiwibmVnYXRlIiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiaW5jbHVkZXMiLCJpbmNsdWRlIiwiZnJvbUluZGV4IiwiZ3VhcmQiLCJ2YWx1ZXMiLCJpbmRleE9mIiwiaW52b2tlIiwibWV0aG9kIiwiYXJncyIsImlzRnVuYyIsInBsdWNrIiwid2hlcmUiLCJhdHRycyIsImZpbmRXaGVyZSIsImNvbXB1dGVkIiwibGFzdENvbXB1dGVkIiwic2h1ZmZsZSIsInJhbmQiLCJzZXQiLCJzaHVmZmxlZCIsInJhbmRvbSIsInNhbXBsZSIsIm4iLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJ0b0FycmF5Iiwic2l6ZSIsInBhcnRpdGlvbiIsInBhc3MiLCJmYWlsIiwiZmlyc3QiLCJoZWFkIiwidGFrZSIsImluaXRpYWwiLCJsYXN0IiwicmVzdCIsInRhaWwiLCJkcm9wIiwiY29tcGFjdCIsImZsYXR0ZW4iLCJpbnB1dCIsInNoYWxsb3ciLCJzdHJpY3QiLCJzdGFydEluZGV4Iiwib3V0cHV0IiwiaXNBcmd1bWVudHMiLCJqIiwibGVuIiwid2l0aG91dCIsImRpZmZlcmVuY2UiLCJ1bmlxIiwidW5pcXVlIiwiaXNTb3J0ZWQiLCJpc0Jvb2xlYW4iLCJzZWVuIiwidW5pb24iLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwiemlwIiwidW56aXAiLCJvYmplY3QiLCJmaW5kTGFzdEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsImZsb29yIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiZXhlY3V0ZUJvdW5kIiwic291cmNlRnVuYyIsImJvdW5kRnVuYyIsImNhbGxpbmdDb250ZXh0Iiwic2VsZiIsIlR5cGVFcnJvciIsImJvdW5kIiwiY29uY2F0IiwicGFydGlhbCIsImJvdW5kQXJncyIsInBvc2l0aW9uIiwiYmluZEFsbCIsIkVycm9yIiwibWVtb2l6ZSIsImhhc2hlciIsImNhY2hlIiwiYWRkcmVzcyIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwib3B0aW9ucyIsInRpbWVvdXQiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsIm5vdyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsInRyYWlsaW5nIiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJ0aW1lc3RhbXAiLCJjYWxsTm93Iiwid3JhcCIsIndyYXBwZXIiLCJjb21wb3NlIiwiYWZ0ZXIiLCJ0aW1lcyIsImJlZm9yZSIsIm9uY2UiLCJoYXNFbnVtQnVnIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJhbGxLZXlzIiwibWFwT2JqZWN0IiwicGFpcnMiLCJpbnZlcnQiLCJmdW5jdGlvbnMiLCJtZXRob2RzIiwibmFtZXMiLCJleHRlbmQiLCJleHRlbmRPd24iLCJhc3NpZ24iLCJwaWNrIiwib2l0ZXJhdGVlIiwib21pdCIsIlN0cmluZyIsImRlZmF1bHRzIiwicHJvcHMiLCJjbG9uZSIsInRhcCIsImludGVyY2VwdG9yIiwiaXNNYXRjaCIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiYXJlQXJyYXlzIiwiYUN0b3IiLCJiQ3RvciIsInBvcCIsImlzRXF1YWwiLCJpc0VtcHR5IiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsInR5cGUiLCJuYW1lIiwiSW50OEFycmF5IiwiaXNGaW5pdGUiLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJjb25zdGFudCIsIm5vb3AiLCJwcm9wZXJ0eU9mIiwibWF0Y2hlcyIsImFjY3VtIiwiRGF0ZSIsImdldFRpbWUiLCJlc2NhcGVNYXAiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJgIiwidW5lc2NhcGVNYXAiLCJjcmVhdGVFc2NhcGVyIiwiZXNjYXBlciIsIm1hdGNoIiwiam9pbiIsInRlc3RSZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlUmVnZXhwIiwic3RyaW5nIiwidGVzdCIsInJlcGxhY2UiLCJlc2NhcGUiLCJ1bmVzY2FwZSIsImZhbGxiYWNrIiwiaWRDb3VudGVyIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJpZCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwibm9NYXRjaCIsImVzY2FwZXMiLCJcXCIsIlxyIiwiXG4iLCLigKgiLCLigKkiLCJlc2NhcGVDaGFyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJvbGRTZXR0aW5ncyIsIm9mZnNldCIsInZhcmlhYmxlIiwicmVuZGVyIiwiZSIsImRhdGEiLCJhcmd1bWVudCIsImNoYWluIiwiaW5zdGFuY2UiLCJfY2hhaW4iLCJtaXhpbiIsInZhbHVlT2YiLCJ0b0pTT04iLCJkZWZpbmUiLCJhbWQiLCJXSURHRVRfQ09NTU9OX0NPTkZJRyIsIkFVVEhfUEFUSF9VUkwiLCJMT0dHRVJfQ0xJRU5UX0lEIiwiTE9HR0VSX0NMSUVOVF9TRUNSRVQiLCJMT0dHRVJfUkVGUkVTSF9UT0tFTiIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwianNvbiIsImV2ZW50IiwiZmlsZV91cmwiLCJmaWxlX2Zvcm1hdCIsImdldEZpbGVGb3JtYXQiLCJjb21wYW55X2lkIiwiY29tcGFueUlkIiwiZGlzcGxheV9pZCIsImRpc3BsYXlJZCIsInZlcnNpb24iLCJnZXRTdWZmaXgiLCJkYXRlIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJ1cmwiLCJzdHIiLCJoYXNQYXJhbXMiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwidG9VcHBlckNhc2UiLCJ0cyIsInRvSVNPU3RyaW5nIiwibG9nRXZlbnQiLCJ0YWJsZSIsIkxvZ2dlciIsImxvZyIsInNldElkcyIsImNvbXBhbnkiLCJkaXNwbGF5Iiwic2V0VmVyc2lvbiIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwic2V0UmVxdWVzdEhlYWRlciIsInRocm90dGxlRGVsYXkiLCJVdGlsaXRpZXMiLCJnZXRGb250Q3NzU3R5bGUiLCJmb250T2JqIiwiZmFtaWx5IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZm9udCIsImNvbG9yIiwiZm9yZWNvbG9yIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImxvYWRGb250cyIsImNhbGxiYWNrIiwib25Hb29nbGVGb250c0xvYWRlZCIsImZhbWlsaWVzIiwiZ29vZ2xlRmFtaWxpZXMiLCJjdXN0b21GYW1pbGllcyIsImN1c3RvbVVybHMiLCJjbGFzcyIsImZvbnRTdHlsZSIsInNwbGl0IiwibG9hZEN1c3RvbUZvbnQiLCJsb2FkR29vZ2xlRm9udHMiLCJjb250ZW50RG9jIiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiV2ViRm9udCIsImxvYWQiLCJnb29nbGUiLCJhY3RpdmUiLCJpbmFjdGl2ZSIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJzcmMiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwicGFpciIsInF1ZXJ5Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJ2YXJzIiwiZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsImVycm9yTWVzc2FnZSIsInVuZXNjYXBlSFRNTCIsImh0bWwiLCJkaXYiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImhhc0ludGVybmV0Q29ubmVjdGlvbiIsImZpbGVQYXRoIiwic3RhdHVzIiwiaXNMZWdhY3kiLCJsZWdhY3lWZXJzaW9uIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwicGFyc2VJbnQiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiciIsIl9pc1YyUnVubmluZyIsIkJBU0VfQ0FDSEVfVVJMIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIl9waW5nUmVjZWl2ZWQiLCJfaXNDYWNoZVJ1bm5pbmciLCJyZXNwb25zZVRleHQiLCJjb25zb2xlIiwiZGVidWciLCJkZXNjcmlwdGlvbiIsImdldEZpbGUiLCJmaWxlVXJsIiwibm9jYWNoZWJ1c3RlciIsImZpbGVSZXF1ZXN0Iiwic2VwYXJhdG9yIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWFrZVJlcXVlc3QiLCJyZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImlzUmlzZUNhY2hlUnVubmluZyIsImlzVjJSdW5uaW5nIiwiYW5ndWxhciIsImNvbmZpZyIsIlNUT1JBR0VfRU5WIiwiQ09NUE9ORU5UU19QQVRIIiwiVmlkZW8iLCJnYWRnZXRzIiwiX2RvbmUiLCJycGMiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJfZXJyb3JMb2ciLCJfcmVhZHkiLCJfY2xlYXJFcnJvclRpbWVyIiwiX2Vycm9yVGltZXIiLCJfc3RhcnRFcnJvclRpbWVyIiwiX2dldEN1cnJlbnRGaWxlIiwiX2N1cnJlbnRGaWxlcyIsIl9tb2RlIiwiX2N1cnJlbnRQbGF5bGlzdEluZGV4IiwiaGFzU3RvcmFnZUVycm9yIiwiX3N0b3JhZ2VFcnJvckZsYWciLCJoYXNQbGF5ZXJFcnJvciIsIl9wbGF5ZXJFcnJvckZsYWciLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwiaXNTdG9yYWdlRXJyb3IiLCJfZXJyb3JGbGFnIiwiX21lc3NhZ2UiLCJzaG93IiwiX3ZpZXdlclBhdXNlZCIsImlzRXJyb3IiLCJnZXRUYWJsZU5hbWUiLCJvbkZpbGVJbml0IiwiX3VuYXZhaWxhYmxlRmxhZyIsImhpZGUiLCJwbGF5Iiwib25GaWxlUmVmcmVzaCIsIl9wbGF5ZXIiLCJ1cGRhdGUiLCJvbkZpbGVVbmF2YWlsYWJsZSIsInBhdXNlIiwiX3Jlc3VtZSIsInJlc2V0IiwiX2lzTG9hZGluZyIsImV2ZW50X2RldGFpbHMiLCJfY29uZmlnRGV0YWlscyIsIl9zdG9yYWdlIiwicmV0cnkiLCJQbGF5ZXIiLCJfYWRkaXRpb25hbFBhcmFtcyIsImluaXQiLCJwbGF5ZXJFbmRlZCIsInBsYXllclJlYWR5IiwicGxheWVySXRlbUNoYW5nZSIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJtb2RlIiwiaXNTdG9yYWdlRmlsZSIsIlByZWZzIiwiZ2V0RWxlbWVudEJ5SWQiLCJ3aWR0aCIsImdldEludCIsImhlaWdodCIsInZpZGVvIiwicmVzdW1lIiwiTWVzc2FnZSIsInN0b3JhZ2UiLCJTdG9yYWdlRmlsZSIsIl9ub25TdG9yYWdlIiwiTm9uU3RvcmFnZSIsIlN0b3JhZ2VGb2xkZXIiLCJwbGF5ZXJFcnJvciIsImVycm9yIiwiZGV0YWlscyIsIk1FRElBX0VSUk9SIiwiWU9VVFVCRV9FUlJPUiIsIlBMQVlFUl9FUlJPUiIsIlBMQVlMSVNUX0VSUk9SIiwiRU5DT0RJTkdfTUVTU0FHRSIsIkZPUk1BVF9NRVNTQUdFIiwiZ2V0TWV0YWRhdGEiLCJQbGF5ZXJVdGlscyIsImdldFBsYXlsaXN0IiwicGxheWxpc3QiLCJmaWxlIiwiZ2V0VmlkZW9GaWxlVHlwZSIsImV4dGVuc2lvbnMiLCJ1cmxMb3dlcmNhc2UiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJjaGFuZ2VkIiwiY29kZSIsImN1cnJlbnRUYXJnZXQiLCJzZXRBdHRyaWJ1dGUiLCJmb2xkZXIiLCJmaWxlTmFtZSIsImdvIiwiX2dldFVybHMiLCJfZmlsZXMiLCJfZ2V0RXhpc3RpbmdGaWxlIiwiZiIsIl9kZWxldGVGaWxlIiwiZXhpc3RpbmciLCJzcGxpY2UiLCJfY2hhbmdlRmlsZSIsIl9hZGRGaWxlIiwiYWRkZWQiLCJkZWxldGVkIiwiX2dldEZpbGUiLCJvbWl0Q2FjaGVCdXN0ZXIiLCJyaXNlQ2FjaGUiLCJfdXJsIiwiX3N0YXJ0UmVmcmVzaEludGVydmFsIiwiX3JlZnJlc2hJbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJfcmVmcmVzaER1cmF0aW9uIiwic2VsZWN0b3IiLCJfb25Db21wbGV0ZSIsIl9vblBhdXNlIiwiX3BhdXNlVGltZXIiLCJfcGxheWVySW5zdGFuY2UiLCJnZXRTdGF0ZSIsIl9wYXVzZUR1cmF0aW9uIiwiX29uUGxheWxpc3RJdGVtIiwiX29uUGxheWVyRXJyb3IiLCJfb25TZXR1cEVycm9yIiwiX2NvbmZpZ3VyZUhhbmRsZXJzIiwib24iLCJzZXRWb2x1bWUiLCJ2b2x1bWUiLCJjb250cm9scyIsIl9nZXRTZXR1cERhdGEiLCJmaWxlcyIsIl91dGlscyIsInNraW4iLCJzdHJldGNoaW5nIiwiX3N0cmV0Y2hpbmciLCJqd3BsYXllciIsIl9hdXRvUGxheSIsImF1dG9wbGF5Iiwic2V0dXAiLCJfdXBkYXRlV2FpdGluZyIsIm9uUGxheSIsIm9mZiIsIm9uU2Vla2VkIiwiZ2V0UGxheWxpc3RJbmRleCIsInBsYXlsaXN0SXRlbSIsInNlZWsiLCJtYWluQ29udGFpbmVyIiwibWVzc2FnZUNvbnRhaW5lciIsIl9pbml0Iiwid2FybiIsIl9hY3RpdmUiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJwIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbmZpZ3VyZSIsImFkZGl0aW9uYWxQYXJhbXMiLCJyZWdpc3RlciIsInByZWZzIiwib25jb250ZXh0bWVudSIsImlzVjIiLCJvblBvbHltZXJSZWFkeSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwb2x5bWVyUmVhZHkiLCJzdG9yYWdlUmVhZHkiLCJvblN0b3JhZ2VSZWFkeSIsImxpbmsiLCJ3ZWJjb21wb25lbnRzIiwiaHJlZiIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYm9keSIsIl9nYXEiLCJnYSIsImFzeW5jIiwicHJvdG9jb2wiLCJzIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSJdLCJtYXBwaW5ncyI6IkNBS0MsV0E0S0MsUUFBU0EsR0FBYUMsR0FHcEIsUUFBU0MsR0FBU0MsRUFBS0MsRUFBVUMsRUFBTUMsRUFBTUMsRUFBT0MsR0FDbEQsS0FBT0QsR0FBUyxHQUFhQyxFQUFSRCxFQUFnQkEsR0FBU04sRUFBSyxDQUNqRCxHQUFJUSxHQUFhSCxFQUFPQSxFQUFLQyxHQUFTQSxDQUN0Q0YsR0FBT0QsRUFBU0MsRUFBTUYsRUFBSU0sR0FBYUEsRUFBWU4sR0FFckQsTUFBT0UsR0FHVCxNQUFPLFVBQVNGLEVBQUtDLEVBQVVDLEVBQU1LLEdBQ25DTixFQUFXTyxFQUFX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QUFhTCxFQUFJRyIsImZpbGUiOiJqcy93aWRnZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gICAgIFVuZGVyc2NvcmUuanMgMS44LjNcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCBpbiB0aGUgYnJvd3Nlciwgb3IgYGV4cG9ydHNgIG9uIHRoZSBzZXJ2ZXIuXG4gIHZhciByb290ID0gdGhpcztcblxuICAvLyBTYXZlIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYF9gIHZhcmlhYmxlLlxuICB2YXIgcHJldmlvdXNVbmRlcnNjb3JlID0gcm9vdC5fO1xuXG4gIC8vIFNhdmUgYnl0ZXMgaW4gdGhlIG1pbmlmaWVkIChidXQgbm90IGd6aXBwZWQpIHZlcnNpb246XG4gIHZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLCBPYmpQcm90byA9IE9iamVjdC5wcm90b3R5cGUsIEZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuICAvLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbiAgdmFyXG4gICAgcHVzaCAgICAgICAgICAgICA9IEFycmF5UHJvdG8ucHVzaCxcbiAgICBzbGljZSAgICAgICAgICAgID0gQXJyYXlQcm90by5zbGljZSxcbiAgICB0b1N0cmluZyAgICAgICAgID0gT2JqUHJvdG8udG9TdHJpbmcsXG4gICAgaGFzT3duUHJvcGVydHkgICA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuICAvLyBhcmUgZGVjbGFyZWQgaGVyZS5cbiAgdmFyXG4gICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzICAgICAgICAgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZCxcbiAgICBuYXRpdmVDcmVhdGUgICAgICAgPSBPYmplY3QuY3JlYXRlO1xuXG4gIC8vIE5ha2VkIGZ1bmN0aW9uIHJlZmVyZW5jZSBmb3Igc3Vycm9nYXRlLXByb3RvdHlwZS1zd2FwcGluZy5cbiAgdmFyIEN0b3IgPSBmdW5jdGlvbigpe307XG5cbiAgLy8gQ3JlYXRlIGEgc2FmZSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciB1c2UgYmVsb3cuXG4gIHZhciBfID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIF8pIHJldHVybiBvYmo7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIF8pKSByZXR1cm4gbmV3IF8ob2JqKTtcbiAgICB0aGlzLl93cmFwcGVkID0gb2JqO1xuICB9O1xuXG4gIC8vIEV4cG9ydCB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yICoqTm9kZS5qcyoqLCB3aXRoXG4gIC8vIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IGZvciB0aGUgb2xkIGByZXF1aXJlKClgIEFQSS4gSWYgd2UncmUgaW5cbiAgLy8gdGhlIGJyb3dzZXIsIGFkZCBgX2AgYXMgYSBnbG9iYWwgb2JqZWN0LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjguMyc7XG5cbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuICAvLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuICAvLyBmdW5jdGlvbnMuXG4gIHZhciBvcHRpbWl6ZUNiID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQSBtb3N0bHktaW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAgLy8gdG8gZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyXG4gIC8vIGlkZW50aXR5LCBhbiBhcmJpdHJhcnkgY2FsbGJhY2ssIGEgcHJvcGVydHkgbWF0Y2hlciwgb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAgdmFyIGNiID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBfLmlkZW50aXR5O1xuICAgIGlmIChfLmlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm4gb3B0aW1pemVDYih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpO1xuICAgIGlmIChfLmlzT2JqZWN0KHZhbHVlKSkgcmV0dXJuIF8ubWF0Y2hlcih2YWx1ZSk7XG4gICAgcmV0dXJuIF8ucHJvcGVydHkodmFsdWUpO1xuICB9O1xuICBfLml0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gY2IodmFsdWUsIGNvbnRleHQsIEluZmluaXR5KTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlQXNzaWduZXIgPSBmdW5jdGlvbihrZXlzRnVuYywgdW5kZWZpbmVkT25seSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIgfHwgb2JqID09IG51bGwpIHJldHVybiBvYmo7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdLFxuICAgICAgICAgICAga2V5cyA9IGtleXNGdW5jKHNvdXJjZSksXG4gICAgICAgICAgICBsID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKCF1bmRlZmluZWRPbmx5IHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZXcgb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSBhbm90aGVyLlxuICB2YXIgYmFzZUNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSkge1xuICAgIGlmICghXy5pc09iamVjdChwcm90b3R5cGUpKSByZXR1cm4ge307XG4gICAgaWYgKG5hdGl2ZUNyZWF0ZSkgcmV0dXJuIG5hdGl2ZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIEN0b3IucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgIHZhciByZXN1bHQgPSBuZXcgQ3RvcjtcbiAgICBDdG9yLnByb3RvdHlwZSA9IG51bGw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgcHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0XG4gIC8vIFJlbGF0ZWQ6IGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXRvbGVuZ3RoXG4gIC8vIEF2b2lkcyBhIHZlcnkgbmFzdHkgaU9TIDggSklUIGJ1ZyBvbiBBUk0tNjQuICMyMDk0XG4gIHZhciBNQVhfQVJSQVlfSU5ERVggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuICB2YXIgZ2V0TGVuZ3RoID0gcHJvcGVydHkoJ2xlbmd0aCcpO1xuICB2YXIgaXNBcnJheUxpa2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChjb2xsZWN0aW9uKTtcbiAgICByZXR1cm4gdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBsZW5ndGggPj0gMCAmJiBsZW5ndGggPD0gTUFYX0FSUkFZX0lOREVYO1xuICB9O1xuXG4gIC8vIENvbGxlY3Rpb24gRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gVGhlIGNvcm5lcnN0b25lLCBhbiBgZWFjaGAgaW1wbGVtZW50YXRpb24sIGFrYSBgZm9yRWFjaGAuXG4gIC8vIEhhbmRsZXMgcmF3IG9iamVjdHMgaW4gYWRkaXRpb24gdG8gYXJyYXktbGlrZXMuIFRyZWF0cyBhbGxcbiAgLy8gc3BhcnNlIGFycmF5LWxpa2VzIGFzIGlmIHRoZXkgd2VyZSBkZW5zZS5cbiAgXy5lYWNoID0gXy5mb3JFYWNoID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGksIGxlbmd0aDtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtpXSwgaSwgb2JqKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2tleXNbaV1dLCBrZXlzW2ldLCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50LlxuICBfLm1hcCA9IF8uY29sbGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0cyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIHJlc3VsdHNbaW5kZXhdID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDcmVhdGUgYSByZWR1Y2luZyBmdW5jdGlvbiBpdGVyYXRpbmcgbGVmdCBvciByaWdodC5cbiAgZnVuY3Rpb24gY3JlYXRlUmVkdWNlKGRpcikge1xuICAgIC8vIE9wdGltaXplZCBpdGVyYXRvciBmdW5jdGlvbiBhcyB1c2luZyBhcmd1bWVudHMubGVuZ3RoXG4gICAgLy8gaW4gdGhlIG1haW4gZnVuY3Rpb24gd2lsbCBkZW9wdGltaXplIHRoZSwgc2VlICMxOTkxLlxuICAgIGZ1bmN0aW9uIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpIHtcbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDQpO1xuICAgICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgIC8vIERldGVybWluZSB0aGUgaW5pdGlhbCB2YWx1ZSBpZiBub25lIGlzIHByb3ZpZGVkLlxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgICAgIG1lbW8gPSBvYmpba2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXhdO1xuICAgICAgICBpbmRleCArPSBkaXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3Iob2JqLCBpdGVyYXRlZSwgbWVtbywga2V5cywgaW5kZXgsIGxlbmd0aCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBjcmVhdGVSZWR1Y2UoMSk7XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gY3JlYXRlUmVkdWNlKC0xKTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIga2V5O1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBrZXkgPSBfLmZpbmRJbmRleChvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IF8uZmluZEtleShvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG4gIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBhcnJheSBvciBvYmplY3QgY29udGFpbnMgYSBnaXZlbiBpdGVtICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVzYCBhbmQgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlcyA9IF8uaW5jbHVkZSA9IGZ1bmN0aW9uKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgaXRlbSwgZnJvbUluZGV4KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IGZ1bmN0aW9uKG9iaiwgbWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGlzRnVuYyA9IF8uaXNGdW5jdGlvbihtZXRob2QpO1xuICAgIHJldHVybiBfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzRnVuYyA/IG1ldGhvZCA6IHZhbHVlW21ldGhvZF07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gZnVuYyA6IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG4gIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBfLm1hcChvYmosIF8ucHJvcGVydHkoa2V5KSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmluZChvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlID4gcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1pbmltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWluID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSBJbmZpbml0eSwgbGFzdENvbXB1dGVkID0gSW5maW5pdHksXG4gICAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCAmJiBvYmogIT0gbnVsbCkge1xuICAgICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgICBpZiAodmFsdWUgPCByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgICAgIGlmIChjb21wdXRlZCA8IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gSW5maW5pdHkgJiYgcmVzdWx0ID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBTaHVmZmxlIGEgY29sbGVjdGlvbiwgdXNpbmcgdGhlIG1vZGVybiB2ZXJzaW9uIG9mIHRoZVxuICAvLyBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVy4oCTWWF0ZXNfc2h1ZmZsZSkuXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBzZXQgPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0gc2V0Lmxlbmd0aDtcbiAgICB2YXIgc2h1ZmZsZWQgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMCwgcmFuZDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJhbmQgPSBfLnJhbmRvbSgwLCBpbmRleCk7XG4gICAgICBpZiAocmFuZCAhPT0gaW5kZXgpIHNodWZmbGVkW2luZGV4XSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgc2h1ZmZsZWRbcmFuZF0gPSBzZXRbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgLy8gU2FtcGxlICoqbioqIHJhbmRvbSB2YWx1ZXMgZnJvbSBhIGNvbGxlY3Rpb24uXG4gIC8vIElmICoqbioqIGlzIG5vdCBzcGVjaWZpZWQsIHJldHVybnMgYSBzaW5nbGUgcmFuZG9tIGVsZW1lbnQuXG4gIC8vIFRoZSBpbnRlcm5hbCBgZ3VhcmRgIGFyZ3VtZW50IGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG4gIF8uc2FtcGxlID0gZnVuY3Rpb24ob2JqLCBuLCBndWFyZCkge1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHtcbiAgICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICAgIHJldHVybiBvYmpbXy5yYW5kb20ob2JqLmxlbmd0aCAtIDEpXTtcbiAgICB9XG4gICAgcmV0dXJuIF8uc2h1ZmZsZShvYmopLnNsaWNlKDAsIE1hdGgubWF4KDAsIG4pKTtcbiAgfTtcblxuICAvLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0ZWUuXG4gIF8uc29ydEJ5ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHJldHVybiBfLnBsdWNrKF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdClcbiAgICAgIH07XG4gICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhO1xuICAgICAgdmFyIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgIGlmIChhID4gYiB8fCBhID09PSB2b2lkIDApIHJldHVybiAxO1xuICAgICAgICBpZiAoYSA8IGIgfHwgYiA9PT0gdm9pZCAwKSByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVmdC5pbmRleCAtIHJpZ2h0LmluZGV4O1xuICAgIH0pLCAndmFsdWUnKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB1c2VkIGZvciBhZ2dyZWdhdGUgXCJncm91cCBieVwiIG9wZXJhdGlvbnMuXG4gIHZhciBncm91cCA9IGZ1bmN0aW9uKGJlaGF2aW9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHZhciBrZXkgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIG9iaik7XG4gICAgICAgIGJlaGF2aW9yKHJlc3VsdCwgdmFsdWUsIGtleSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBHcm91cHMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbi4gUGFzcyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlXG4gIC8vIHRvIGdyb3VwIGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgY3JpdGVyaW9uLlxuICBfLmdyb3VwQnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoXy5oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0rKzsgZWxzZSByZXN1bHRba2V5XSA9IDE7XG4gIH0pO1xuXG4gIC8vIFNhZmVseSBjcmVhdGUgYSByZWFsLCBsaXZlIGFycmF5IGZyb20gYW55dGhpbmcgaXRlcmFibGUuXG4gIF8udG9BcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghb2JqKSByZXR1cm4gW107XG4gICAgaWYgKF8uaXNBcnJheShvYmopKSByZXR1cm4gc2xpY2UuY2FsbChvYmopO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSByZXR1cm4gXy5tYXAob2JqLCBfLmlkZW50aXR5KTtcbiAgICByZXR1cm4gXy52YWx1ZXMob2JqKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBvYmplY3QuXG4gIF8uc2l6ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iaikgPyBvYmoubGVuZ3RoIDogXy5rZXlzKG9iaikubGVuZ3RoO1xuICB9O1xuXG4gIC8vIFNwbGl0IGEgY29sbGVjdGlvbiBpbnRvIHR3byBhcnJheXM6IG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgc2F0aXNmeSB0aGUgZ2l2ZW5cbiAgLy8gcHJlZGljYXRlLCBhbmQgb25lIHdob3NlIGVsZW1lbnRzIGFsbCBkbyBub3Qgc2F0aXNmeSB0aGUgcHJlZGljYXRlLlxuICBfLnBhcnRpdGlvbiA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIgcGFzcyA9IFtdLCBmYWlsID0gW107XG4gICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgICAocHJlZGljYXRlKHZhbHVlLCBrZXksIG9iaikgPyBwYXNzIDogZmFpbCkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtwYXNzLCBmYWlsXTtcbiAgfTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5WzBdO1xuICAgIHJldHVybiBfLmluaXRpYWwoYXJyYXksIGFycmF5Lmxlbmd0aCAtIG4pO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGxhc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuICAvLyB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiBhbGwgdGhlIHZhbHVlcyBpblxuICAvLyB0aGUgYXJyYXksIGV4Y2x1ZGluZyB0aGUgbGFzdCBOLlxuICBfLmluaXRpYWwgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgMCwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gKG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKSkpO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBsYXN0IE5cbiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS5cbiAgXy5sYXN0ID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiBfLnJlc3QoYXJyYXksIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIG4pKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYHRhaWxgIGFuZCBgZHJvcGAuXG4gIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nIGFuICoqbioqIHdpbGwgcmV0dXJuXG4gIC8vIHRoZSByZXN0IE4gdmFsdWVzIGluIHRoZSBhcnJheS5cbiAgXy5yZXN0ID0gXy50YWlsID0gXy5kcm9wID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKTtcbiAgfTtcblxuICAvLyBUcmltIG91dCBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gIF8uY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBfLmlkZW50aXR5KTtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhIHJlY3Vyc2l2ZSBgZmxhdHRlbmAgZnVuY3Rpb24uXG4gIHZhciBmbGF0dGVuID0gZnVuY3Rpb24oaW5wdXQsIHNoYWxsb3csIHN0cmljdCwgc3RhcnRJbmRleCkge1xuICAgIHZhciBvdXRwdXQgPSBbXSwgaWR4ID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwLCBsZW5ndGggPSBnZXRMZW5ndGgoaW5wdXQpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAoXy5pc0FycmF5KHZhbHVlKSB8fCBfLmlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgLy9mbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdFxuICAgICAgICBpZiAoIXNoYWxsb3cpIHZhbHVlID0gZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0KTtcbiAgICAgICAgdmFyIGogPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIG91dHB1dC5sZW5ndGggKz0gbGVuO1xuICAgICAgICB3aGlsZSAoaiA8IGxlbikge1xuICAgICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZVtqKytdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzdHJpY3QpIHtcbiAgICAgICAgb3V0cHV0W2lkeCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIC8vIEZsYXR0ZW4gb3V0IGFuIGFycmF5LCBlaXRoZXIgcmVjdXJzaXZlbHkgKGJ5IGRlZmF1bHQpLCBvciBqdXN0IG9uZSBsZXZlbC5cbiAgXy5mbGF0dGVuID0gZnVuY3Rpb24oYXJyYXksIHNoYWxsb3cpIHtcbiAgICByZXR1cm4gZmxhdHRlbihhcnJheSwgc2hhbGxvdywgZmFsc2UpO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuICBfLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHlcbiAgLy8gYmVlbiBzb3J0ZWQsIHlvdSBoYXZlIHRoZSBvcHRpb24gb2YgdXNpbmcgYSBmYXN0ZXIgYWxnb3JpdGhtLlxuICAvLyBBbGlhc2VkIGFzIGB1bmlxdWVgLlxuICBfLnVuaXEgPSBfLnVuaXF1ZSA9IGZ1bmN0aW9uKGFycmF5LCBpc1NvcnRlZCwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoIV8uaXNCb29sZWFuKGlzU29ydGVkKSkge1xuICAgICAgY29udGV4dCA9IGl0ZXJhdGVlO1xuICAgICAgaXRlcmF0ZWUgPSBpc1NvcnRlZDtcbiAgICAgIGlzU29ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpdGVyYXRlZSAhPSBudWxsKSBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSxcbiAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUsIGksIGFycmF5KSA6IHZhbHVlO1xuICAgICAgaWYgKGlzU29ydGVkKSB7XG4gICAgICAgIGlmICghaSB8fCBzZWVuICE9PSBjb21wdXRlZCkgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICB9IGVsc2UgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhzZWVuLCBjb21wdXRlZCkpIHtcbiAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghXy5jb250YWlucyhyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSB1bmlvbjogZWFjaCBkaXN0aW5jdCBlbGVtZW50IGZyb20gYWxsIG9mXG4gIC8vIHRoZSBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLnVuaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW5pcShmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyBldmVyeSBpdGVtIHNoYXJlZCBiZXR3ZWVuIGFsbCB0aGVcbiAgLy8gcGFzc2VkLWluIGFycmF5cy5cbiAgXy5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgIGlmIChfLmNvbnRhaW5zKHJlc3VsdCwgaXRlbSkpIGNvbnRpbnVlO1xuICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IGZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlLCAxKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIHJldHVybiAhXy5jb250YWlucyhyZXN0LCB2YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bnppcChhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIENvbXBsZW1lbnQgb2YgXy56aXAuIFVuemlwIGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIGFuZCBncm91cHNcbiAgLy8gZWFjaCBhcnJheSdzIGVsZW1lbnRzIG9uIHNoYXJlZCBpbmRpY2VzXG4gIF8udW56aXAgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSAmJiBfLm1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBfLnBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuICAvLyBwYWlycywgb3IgdHdvIHBhcmFsbGVsIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGggLS0gb25lIG9mIGtleXMsIGFuZCBvbmUgb2ZcbiAgLy8gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGxpc3QpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBmaW5kSW5kZXggYW5kIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKGRpcikge1xuICAgIHJldHVybiBmdW5jdGlvbihhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgICB2YXIgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGluZGV4IG9uIGFuIGFycmF5LWxpa2UgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKDEpO1xuICBfLmZpbmRMYXN0SW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigtMSk7XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdGVlKG9iaik7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgaW5kZXhPZiBhbmQgbGFzdEluZGV4T2YgZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGNyZWF0ZUluZGV4RmluZGVyKGRpciwgcHJlZGljYXRlRmluZCwgc29ydGVkSW5kZXgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGl0ZW0sIGlkeCkge1xuICAgICAgdmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgaWYgKHR5cGVvZiBpZHggPT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGRpciA+IDApIHtcbiAgICAgICAgICAgIGkgPSBpZHggPj0gMCA/IGlkeCA6IE1hdGgubWF4KGlkeCArIGxlbmd0aCwgaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfLmlzTmFOKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgICAgfVxuICAgICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbiBpdGVtIGluIGFuIGFycmF5LFxuICAvLyBvciAtMSBpZiB0aGUgaXRlbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LlxuICAvLyBJZiB0aGUgYXJyYXkgaXMgbGFyZ2UgYW5kIGFscmVhZHkgaW4gc29ydCBvcmRlciwgcGFzcyBgdHJ1ZWBcbiAgLy8gZm9yICoqaXNTb3J0ZWQqKiB0byB1c2UgYmluYXJ5IHNlYXJjaC5cbiAgXy5pbmRleE9mID0gY3JlYXRlSW5kZXhGaW5kZXIoMSwgXy5maW5kSW5kZXgsIF8uc29ydGVkSW5kZXgpO1xuICBfLmxhc3RJbmRleE9mID0gY3JlYXRlSW5kZXhGaW5kZXIoLTEsIF8uZmluZExhc3RJbmRleCk7XG5cbiAgLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuICBfLnJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoc3RvcCA9PSBudWxsKSB7XG4gICAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RlcCA9IHN0ZXAgfHwgMTtcblxuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gICAgdmFyIHJhbmdlID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyssIHN0YXJ0ICs9IHN0ZXApIHtcbiAgICAgIHJhbmdlW2lkeF0gPSBzdGFydDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gKGFoZW0pIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3JcbiAgLy8gb3IgYSBub3JtYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJvdmlkZWQgYXJndW1lbnRzXG4gIHZhciBleGVjdXRlQm91bmQgPSBmdW5jdGlvbihzb3VyY2VGdW5jLCBib3VuZEZ1bmMsIGNvbnRleHQsIGNhbGxpbmdDb250ZXh0LCBhcmdzKSB7XG4gICAgaWYgKCEoY2FsbGluZ0NvbnRleHQgaW5zdGFuY2VvZiBib3VuZEZ1bmMpKSByZXR1cm4gc291cmNlRnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB2YXIgc2VsZiA9IGJhc2VDcmVhdGUoc291cmNlRnVuYy5wcm90b3R5cGUpO1xuICAgIHZhciByZXN1bHQgPSBzb3VyY2VGdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIGlmIChfLmlzT2JqZWN0KHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgZnVuY3Rpb24gYm91bmQgdG8gYSBnaXZlbiBvYmplY3QgKGFzc2lnbmluZyBgdGhpc2AsIGFuZCBhcmd1bWVudHMsXG4gIC8vIG9wdGlvbmFsbHkpLiBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgRnVuY3Rpb24uYmluZGAgaWZcbiAgLy8gYXZhaWxhYmxlLlxuICBfLmJpbmQgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0KSB7XG4gICAgaWYgKG5hdGl2ZUJpbmQgJiYgZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kKSByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIGNvbnRleHQsIHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbiAgLy8gYXJndW1lbnRzIHByZS1maWxsZWQsIHdpdGhvdXQgY2hhbmdpbmcgaXRzIGR5bmFtaWMgYHRoaXNgIGNvbnRleHQuIF8gYWN0c1xuICAvLyBhcyBhIHBsYWNlaG9sZGVyLCBhbGxvd2luZyBhbnkgY29tYmluYXRpb24gb2YgYXJndW1lbnRzIHRvIGJlIHByZS1maWxsZWQuXG4gIF8ucGFydGlhbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgYm91bmRBcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gMCwgbGVuZ3RoID0gYm91bmRBcmdzLmxlbmd0aDtcbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJnc1tpXSA9IGJvdW5kQXJnc1tpXSA9PT0gXyA/IGFyZ3VtZW50c1twb3NpdGlvbisrXSA6IGJvdW5kQXJnc1tpXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGFyZ3VtZW50cy5sZW5ndGgpIGFyZ3MucHVzaChhcmd1bWVudHNbcG9zaXRpb24rK10pO1xuICAgICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgdGhpcywgdGhpcywgYXJncyk7XG4gICAgfTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG5cbiAgLy8gQmluZCBhIG51bWJlciBvZiBhbiBvYmplY3QncyBtZXRob2RzIHRvIHRoYXQgb2JqZWN0LiBSZW1haW5pbmcgYXJndW1lbnRzXG4gIC8vIGFyZSB0aGUgbWV0aG9kIG5hbWVzIHRvIGJlIGJvdW5kLiBVc2VmdWwgZm9yIGVuc3VyaW5nIHRoYXQgYWxsIGNhbGxiYWNrc1xuICAvLyBkZWZpbmVkIG9uIGFuIG9iamVjdCBiZWxvbmcgdG8gaXQuXG4gIF8uYmluZEFsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLCBrZXk7XG4gICAgaWYgKGxlbmd0aCA8PSAxKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXMnKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIG9ialtrZXldID0gXy5iaW5kKG9ialtrZXldLCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIV8uaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gY2FjaGVbYWRkcmVzc107XG4gICAgfTtcbiAgICBtZW1vaXplLmNhY2hlID0ge307XG4gICAgcmV0dXJuIG1lbW9pemU7XG4gIH07XG5cbiAgLy8gRGVsYXlzIGEgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBjYWxsc1xuICAvLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuXG4gIF8uZGVsYXkgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0sIHdhaXQpO1xuICB9O1xuXG4gIC8vIERlZmVycyBhIGZ1bmN0aW9uLCBzY2hlZHVsaW5nIGl0IHRvIHJ1biBhZnRlciB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhc1xuICAvLyBjbGVhcmVkLlxuICBfLmRlZmVyID0gXy5wYXJ0aWFsKF8uZGVsYXksIF8sIDEpO1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuICAvLyBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS4gTm9ybWFsbHksIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBydW5cbiAgLy8gYXMgbXVjaCBhcyBpdCBjYW4sIHdpdGhvdXQgZXZlciBnb2luZyBtb3JlIHRoYW4gb25jZSBwZXIgYHdhaXRgIGR1cmF0aW9uO1xuICAvLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuICAvLyBge2xlYWRpbmc6IGZhbHNlfWAuIFRvIGRpc2FibGUgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlLCBkaXR0by5cbiAgXy50aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBfLm5vdygpO1xuICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIGFyZ3MsIGNvbnRleHQsIHRpbWVzdGFtcCwgcmVzdWx0O1xuXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGFzdCA9IF8ubm93KCkgLSB0aW1lc3RhbXA7XG5cbiAgICAgIGlmIChsYXN0IDwgd2FpdCAmJiBsYXN0ID49IDApIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdGltZXN0YW1wID0gXy5ub3coKTtcbiAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoY2FsbE5vdykge1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIC8vIE9iamVjdCBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEtleXMgaW4gSUUgPCA5IHRoYXQgd29uJ3QgYmUgaXRlcmF0ZWQgYnkgYGZvciBrZXkgaW4gLi4uYCBhbmQgdGh1cyBtaXNzZWQuXG4gIHZhciBoYXNFbnVtQnVnID0gIXt0b1N0cmluZzogbnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyk7XG4gIHZhciBub25FbnVtZXJhYmxlUHJvcHMgPSBbJ3ZhbHVlT2YnLCAnaXNQcm90b3R5cGVPZicsICd0b1N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2hhc093blByb3BlcnR5JywgJ3RvTG9jYWxlU3RyaW5nJ107XG5cbiAgZnVuY3Rpb24gY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpIHtcbiAgICB2YXIgbm9uRW51bUlkeCA9IG5vbkVudW1lcmFibGVQcm9wcy5sZW5ndGg7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gb2JqLmNvbnN0cnVjdG9yO1xuICAgIHZhciBwcm90byA9IChfLmlzRnVuY3Rpb24oY29uc3RydWN0b3IpICYmIGNvbnN0cnVjdG9yLnByb3RvdHlwZSkgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKF8uaGFzKG9iaiwgcHJvcCkgJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIGtleXMucHVzaChwcm9wKTtcblxuICAgIHdoaWxlIChub25FbnVtSWR4LS0pIHtcbiAgICAgIHByb3AgPSBub25FbnVtZXJhYmxlUHJvcHNbbm9uRW51bUlkeF07XG4gICAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAhXy5jb250YWlucyhrZXlzLCBwcm9wKSkge1xuICAgICAgICBrZXlzLnB1c2gocHJvcCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSBhbGwgdGhlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbiAgXy5hbGxLZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICAgIC8vIEFoZW0sIElFIDwgOS5cbiAgICBpZiAoaGFzRW51bUJ1ZykgY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvYmpba2V5c1tpXV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBvYmplY3RcbiAgLy8gSW4gY29udHJhc3QgdG8gXy5tYXAgaXQgcmV0dXJucyBhbiBvYmplY3RcbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0cyA9IHt9LFxuICAgICAgICAgIGN1cnJlbnRLZXk7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGN1cnJlbnRLZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHBhaXJzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyc1tpXSA9IFtrZXlzW2ldLCBvYmpba2V5c1tpXV1dO1xuICAgIH1cbiAgICByZXR1cm4gcGFpcnM7XG4gIH07XG5cbiAgLy8gSW52ZXJ0IHRoZSBrZXlzIGFuZCB2YWx1ZXMgb2YgYW4gb2JqZWN0LiBUaGUgdmFsdWVzIG11c3QgYmUgc2VyaWFsaXphYmxlLlxuICBfLmludmVydCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRbb2JqW2tleXNbaV1dXSA9IGtleXNbaV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgc29ydGVkIGxpc3Qgb2YgdGhlIGZ1bmN0aW9uIG5hbWVzIGF2YWlsYWJsZSBvbiB0aGUgb2JqZWN0LlxuICAvLyBBbGlhc2VkIGFzIGBtZXRob2RzYFxuICBfLmZ1bmN0aW9ucyA9IF8ubWV0aG9kcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24ob2JqW2tleV0pKSBuYW1lcy5wdXNoKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcy5zb3J0KCk7XG4gIH07XG5cbiAgLy8gRXh0ZW5kIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGluIHBhc3NlZC1pbiBvYmplY3QocykuXG4gIF8uZXh0ZW5kID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzKTtcblxuICAvLyBBc3NpZ25zIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBvd24gcHJvcGVydGllcyBpbiB0aGUgcGFzc2VkLWluIG9iamVjdChzKVxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0XG4gIF8uZmluZEtleSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopLCBrZXk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAocHJlZGljYXRlKG9ialtrZXldLCBrZXksIG9iaikpIHJldHVybiBrZXk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ucGljayA9IGZ1bmN0aW9uKG9iamVjdCwgb2l0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9LCBvYmogPSBvYmplY3QsIGl0ZXJhdGVlLCBrZXlzO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKG9pdGVyYXRlZSkpIHtcbiAgICAgIGtleXMgPSBfLmFsbEtleXMob2JqKTtcbiAgICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihvaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzID0gZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikgeyByZXR1cm4ga2V5IGluIG9iajsgfTtcbiAgICAgIG9iaiA9IE9iamVjdChvYmopO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG4gICAgICBpdGVyYXRlZSA9IF8ubmVnYXRlKGl0ZXJhdGVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLm1hcChmbGF0dGVuKGFyZ3VtZW50cywgZmFsc2UsIGZhbHNlLCAxKSwgU3RyaW5nKTtcbiAgICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4gIV8uY29udGFpbnMoa2V5cywga2V5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBfLnBpY2sob2JqLCBpdGVyYXRlZSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgXy5kZWZhdWx0cyA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cywgdHJ1ZSk7XG5cbiAgLy8gQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBnaXZlbiBwcm90b3R5cGUgb2JqZWN0LlxuICAvLyBJZiBhZGRpdGlvbmFsIHByb3BlcnRpZXMgYXJlIHByb3ZpZGVkIHRoZW4gdGhleSB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuICAvLyBjcmVhdGVkIG9iamVjdC5cbiAgXy5jcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUsIHByb3BzKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICBpZiAocHJvcHMpIF8uZXh0ZW5kT3duKHJlc3VsdCwgcHJvcHMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybnMgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmlzTWF0Y2ggPSBmdW5jdGlvbihvYmplY3QsIGF0dHJzKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMoYXR0cnMpLCBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAhbGVuZ3RoO1xuICAgIHZhciBvYmogPSBPYmplY3Qob2JqZWN0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChhdHRyc1trZXldICE9PSBvYmpba2V5XSB8fCAhKGtleSBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG5cbiAgLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cbiAgdmFyIGVxID0gZnVuY3Rpb24oYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgICAvLyBJZGVudGljYWwgb2JqZWN0cyBhcmUgZXF1YWwuIGAwID09PSAtMGAsIGJ1dCB0aGV5IGFyZW4ndCBpZGVudGljYWwuXG4gICAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbCkuXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjtcbiAgICAvLyBBIHN0cmljdCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGBudWxsID09IHVuZGVmaW5lZGAuXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBhID09PSBiO1xuICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxuICAgIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBfKSBiID0gYi5fd3JhcHBlZDtcbiAgICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICAgIGlmIChjbGFzc05hbWUgIT09IHRvU3RyaW5nLmNhbGwoYikpIHJldHVybiBmYWxzZTtcbiAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgLy8gU3RyaW5ncywgbnVtYmVycywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxuICAgICAgLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgICAgcmV0dXJuICcnICsgYSA9PT0gJycgKyBiO1xuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICAgICAgLy8gT2JqZWN0KE5hTikgaXMgZXF1aXZhbGVudCB0byBOYU5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICAgIGlmIChfLmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgICAga2V5ID0ga2V5c1tsZW5ndGhdO1xuICAgICAgICBpZiAoIShfLmhhcyhiLCBrZXkpICYmIGVxKGFba2V5XSwgYltrZXldLCBhU3RhY2ssIGJTdGFjaykpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgZmlyc3Qgb2JqZWN0IGZyb20gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wb3AoKTtcbiAgICBiU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG4gIF8uaXNFcXVhbCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gZXEoYSwgYik7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4gIC8vIEFuIFwiZW1wdHlcIiBvYmplY3QgaGFzIG5vIGVudW1lcmFibGUgb3duLXByb3BlcnRpZXMuXG4gIF8uaXNFbXB0eSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikgJiYgKF8uaXNBcnJheShvYmopIHx8IF8uaXNTdHJpbmcob2JqKSB8fCBfLmlzQXJndW1lbnRzKG9iaikpKSByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMDtcbiAgICByZXR1cm4gXy5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBET00gZWxlbWVudD9cbiAgXy5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbiAgLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbiAgXy5pc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0P1xuICBfLmlzT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICB9O1xuXG4gIC8vIEFkZCBzb21lIGlzVHlwZSBtZXRob2RzOiBpc0FyZ3VtZW50cywgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzTnVtYmVyLCBpc0RhdGUsIGlzUmVnRXhwLCBpc0Vycm9yLlxuICBfLmVhY2goWydBcmd1bWVudHMnLCAnRnVuY3Rpb24nLCAnU3RyaW5nJywgJ051bWJlcicsICdEYXRlJywgJ1JlZ0V4cCcsICdFcnJvciddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgX1snaXMnICsgbmFtZV0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIERlZmluZSBhIGZhbGxiYWNrIHZlcnNpb24gb2YgdGhlIG1ldGhvZCBpbiBicm93c2VycyAoYWhlbSwgSUUgPCA5KSwgd2hlcmVcbiAgLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbiAgaWYgKCFfLmlzQXJndW1lbnRzKGFyZ3VtZW50cykpIHtcbiAgICBfLmlzQXJndW1lbnRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gXy5oYXMob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4gIC8vIElFIDExICgjMTYyMSksIGFuZCBpbiBTYWZhcmkgOCAoIzE5MjkpLlxuICBpZiAodHlwZW9mIC8uLyAhPSAnZnVuY3Rpb24nICYmIHR5cGVvZiBJbnQ4QXJyYXkgIT0gJ29iamVjdCcpIHtcbiAgICBfLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicgfHwgZmFsc2U7XG4gICAgfTtcbiAgfVxuXG4gIC8vIElzIGEgZ2l2ZW4gb2JqZWN0IGEgZmluaXRlIG51bWJlcj9cbiAgXy5pc0Zpbml0ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBpc0Zpbml0ZShvYmopICYmICFpc05hTihwYXJzZUZsb2F0KG9iaikpO1xuICB9O1xuXG4gIC8vIElzIHRoZSBnaXZlbiB2YWx1ZSBgTmFOYD8gKE5hTiBpcyB0aGUgb25seSBudW1iZXIgd2hpY2ggZG9lcyBub3QgZXF1YWwgaXRzZWxmKS5cbiAgXy5pc05hTiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLmlzTnVtYmVyKG9iaikgJiYgb2JqICE9PSArb2JqO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBib29sZWFuP1xuICBfLmlzQm9vbGVhbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSB8fCB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGVxdWFsIHRvIG51bGw/XG4gIF8uaXNOdWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIHVuZGVmaW5lZD9cbiAgXy5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHZvaWQgMDtcbiAgfTtcblxuICAvLyBTaG9ydGN1dCBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHByb3BlcnR5IGRpcmVjdGx5XG4gIC8vIG9uIGl0c2VsZiAoaW4gb3RoZXIgd29yZHMsIG5vdCBvbiBhIHByb3RvdHlwZSkuXG4gIF8uaGFzID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbnMuIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIF8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICBfLnByb3BlcnR5ID0gcHJvcGVydHk7XG5cbiAgLy8gR2VuZXJhdGVzIGEgZnVuY3Rpb24gZm9yIGEgZ2l2ZW4gb2JqZWN0IHRoYXQgcmV0dXJucyBhIGdpdmVuIHByb3BlcnR5LlxuICBfLnByb3BlcnR5T2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09IG51bGwgPyBmdW5jdGlvbigpe30gOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBwcmVkaWNhdGUgZm9yIGNoZWNraW5nIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZlxuICAvLyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5tYXRjaGVyID0gXy5tYXRjaGVzID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgICBhdHRycyA9IF8uZXh0ZW5kT3duKHt9LCBhdHRycyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaXNNYXRjaChvYmosIGF0dHJzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJ1biBhIGZ1bmN0aW9uICoqbioqIHRpbWVzLlxuICBfLnRpbWVzID0gZnVuY3Rpb24obiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgYWNjdW0gPSBBcnJheShNYXRoLm1heCgwLCBuKSk7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgYWNjdW1baV0gPSBpdGVyYXRlZShpKTtcbiAgICByZXR1cm4gYWNjdW07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAoaW5jbHVzaXZlKS5cbiAgXy5yYW5kb20gPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT0gbnVsbCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gIH07XG5cbiAgLy8gQSAocG9zc2libHkgZmFzdGVyKSB3YXkgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWVzdGFtcCBhcyBhbiBpbnRlZ2VyLlxuICBfLm5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfTtcblxuICAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVzY2FwZU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmI3gyNzsnLFxuICAgICdgJzogJyYjeDYwOydcbiAgfTtcbiAgdmFyIHVuZXNjYXBlTWFwID0gXy5pbnZlcnQoZXNjYXBlTWFwKTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIHZhciBjcmVhdGVFc2NhcGVyID0gZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hcFttYXRjaF07XG4gICAgfTtcbiAgICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWRcbiAgICB2YXIgc291cmNlID0gJyg/OicgKyBfLmtleXMobWFwKS5qb2luKCd8JykgKyAnKSc7XG4gICAgdmFyIHRlc3RSZWdleHAgPSBSZWdFeHAoc291cmNlKTtcbiAgICB2YXIgcmVwbGFjZVJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UsICdnJyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gc3RyaW5nID09IG51bGwgPyAnJyA6ICcnICsgc3RyaW5nO1xuICAgICAgcmV0dXJuIHRlc3RSZWdleHAudGVzdChzdHJpbmcpID8gc3RyaW5nLnJlcGxhY2UocmVwbGFjZVJlZ2V4cCwgZXNjYXBlcikgOiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcbiAgXy5lc2NhcGUgPSBjcmVhdGVFc2NhcGVyKGVzY2FwZU1hcCk7XG4gIF8udW5lc2NhcGUgPSBjcmVhdGVFc2NhcGVyKHVuZXNjYXBlTWFwKTtcblxuICAvLyBJZiB0aGUgdmFsdWUgb2YgdGhlIG5hbWVkIGBwcm9wZXJ0eWAgaXMgYSBmdW5jdGlvbiB0aGVuIGludm9rZSBpdCB3aXRoIHRoZVxuICAvLyBgb2JqZWN0YCBhcyBjb250ZXh0OyBvdGhlcndpc2UsIHJldHVybiBpdC5cbiAgXy5yZXN1bHQgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBmYWxsYmFjaykge1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdm9pZCAwIDogb2JqZWN0W3Byb3BlcnR5XTtcbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgdmFsdWUgPSBmYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIF8uaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLlxuICAvLyBVc2VmdWwgZm9yIHRlbXBvcmFyeSBET00gaWRzLlxuICB2YXIgaWRDb3VudGVyID0gMDtcbiAgXy51bmlxdWVJZCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gIH07XG5cbiAgLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLCBjaGFuZ2UgdGhlXG4gIC8vIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgIGV2YWx1YXRlICAgIDogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICBpbnRlcnBvbGF0ZSA6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZSAgICAgIDogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogICAgICBcIidcIixcbiAgICAnXFxcXCc6ICAgICAnXFxcXCcsXG4gICAgJ1xccic6ICAgICAncicsXG4gICAgJ1xcbic6ICAgICAnbicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIHZhciBlc2NhcGVyID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIHZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgZXNjYXBlc1ttYXRjaF07XG4gIH07XG5cbiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuICAvLyBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgICBzZXR0aW5ncyA9IF8uZGVmYXVsdHMoe30sIHNldHRpbmdzLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuXG4gICAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gICAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlciwgZXNjYXBlQ2hhcik7XG4gICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGVzY2FwZSArIFwiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGludGVycG9sYXRlICsgXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoZXZhbHVhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlICsgXCJcXG5fX3ArPSdcIjtcbiAgICAgIH1cblxuICAgICAgLy8gQWRvYmUgVk1zIG5lZWQgdGhlIG1hdGNoIHJldHVybmVkIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3Qgb2ZmZXN0LlxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAvLyBJZiBhIHZhcmlhYmxlIGlzIG5vdCBzcGVjaWZpZWQsIHBsYWNlIGRhdGEgdmFsdWVzIGluIGxvY2FsIHNjb3BlLlxuICAgIGlmICghc2V0dGluZ3MudmFyaWFibGUpIHNvdXJjZSA9ICd3aXRoKG9ianx8e30pe1xcbicgKyBzb3VyY2UgKyAnfVxcbic7XG5cbiAgICBzb3VyY2UgPSBcInZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixcIiArXG4gICAgICBcInByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIgK1xuICAgICAgc291cmNlICsgJ3JldHVybiBfX3A7XFxuJztcblxuICAgIHRyeSB7XG4gICAgICB2YXIgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHZhciBhcmd1bWVudCA9IHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonO1xuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9O1xuXG4gIC8vIEFkZCBhIFwiY2hhaW5cIiBmdW5jdGlvbi4gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICAgIGluc3RhbmNlLl9jaGFpbiA9IHRydWU7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciByZXN1bHQgPSBmdW5jdGlvbihpbnN0YW5jZSwgb2JqKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLl9jaGFpbiA/IF8ob2JqKS5jaGFpbigpIDogb2JqO1xuICB9O1xuXG4gIC8vIEFkZCB5b3VyIG93biBjdXN0b20gZnVuY3Rpb25zIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5taXhpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIF8uZWFjaChfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IF9bbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIGZ1bmMuYXBwbHkoXywgYXJncykpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG4gIF8ubWl4aW4oXyk7XG5cbiAgLy8gQWRkIGFsbCBtdXRhdG9yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgICBtZXRob2QuYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKChuYW1lID09PSAnc2hpZnQnIHx8IG5hbWUgPT09ICdzcGxpY2UnKSAmJiBvYmoubGVuZ3RoID09PSAwKSBkZWxldGUgb2JqWzBdO1xuICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuICBfLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl93cmFwcGVkO1xuICB9O1xuXG4gIC8vIFByb3ZpZGUgdW53cmFwcGluZyBwcm94eSBmb3Igc29tZSBtZXRob2RzIHVzZWQgaW4gZW5naW5lIG9wZXJhdGlvbnNcbiAgLy8gc3VjaCBhcyBhcml0aG1ldGljIGFuZCBKU09OIHN0cmluZ2lmaWNhdGlvbi5cbiAgXy5wcm90b3R5cGUudmFsdWVPZiA9IF8ucHJvdG90eXBlLnRvSlNPTiA9IF8ucHJvdG90eXBlLnZhbHVlO1xuXG4gIF8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBBTUQgcmVnaXN0cmF0aW9uIGhhcHBlbnMgYXQgdGhlIGVuZCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIEFNRCBsb2FkZXJzXG4gIC8vIHRoYXQgbWF5IG5vdCBlbmZvcmNlIG5leHQtdHVybiBzZW1hbnRpY3Mgb24gbW9kdWxlcy4gRXZlbiB0aG91Z2ggZ2VuZXJhbFxuICAvLyBwcmFjdGljZSBmb3IgQU1EIHJlZ2lzdHJhdGlvbiBpcyB0byBiZSBhbm9ueW1vdXMsIHVuZGVyc2NvcmUgcmVnaXN0ZXJzXG4gIC8vIGFzIGEgbmFtZWQgbW9kdWxlIGJlY2F1c2UsIGxpa2UgalF1ZXJ5LCBpdCBpcyBhIGJhc2UgbGlicmFyeSB0aGF0IGlzXG4gIC8vIHBvcHVsYXIgZW5vdWdoIHRvIGJlIGJ1bmRsZWQgaW4gYSB0aGlyZCBwYXJ0eSBsaWIsIGJ1dCBub3QgYmUgcGFydCBvZlxuICAvLyBhbiBBTUQgbG9hZCByZXF1ZXN0LiBUaG9zZSBjYXNlcyBjb3VsZCBnZW5lcmF0ZSBhbiBlcnJvciB3aGVuIGFuXG4gIC8vIGFub255bW91cyBkZWZpbmUoKSBpcyBjYWxsZWQgb3V0c2lkZSBvZiBhIGxvYWRlciByZXF1ZXN0LlxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKCd1bmRlcnNjb3JlJywgW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG5cbi8qIGV4cG9ydGVkIFdJREdFVF9DT01NT05fQ09ORklHICovXG52YXIgV0lER0VUX0NPTU1PTl9DT05GSUcgPSB7XG4gIEFVVEhfUEFUSF9VUkw6IFwidjEvd2lkZ2V0L2F1dGhcIixcbiAgTE9HR0VSX0NMSUVOVF9JRDogXCIxMDg4NTI3MTQ3MTA5LTZxMW8ydnRpaG4zNDI5MnBqdDRja2htaGNrMHJrMG83LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tXCIsXG4gIExPR0dFUl9DTElFTlRfU0VDUkVUOiBcIm5sWnlyY1BMZzZvRXdPOWY5V2ZuMjlXaFwiLFxuICBMT0dHRVJfUkVGUkVTSF9UT0tFTjogXCIxL3h6dDRrd3pFMUg3VzlWbktCOGNBYUN4NnpiNEVzNG5LRW9xYVlIZFREMTVJZ09ySkR0ZHVuNnpLNlhpQVRDS1RcIixcbiAgU1RPUkVfVVJMOiBcImh0dHBzOi8vc3RvcmUtZG90LXJ2YXNlcnZlcjIuYXBwc3BvdC5jb20vXCJcbn07XG4vKiBnbG9iYWwgV0lER0VUX0NPTU1PTl9DT05GSUcgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMgPSAoZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gICB2YXIgZGlzcGxheUlkID0gXCJcIixcbiAgICAgY29tcGFueUlkID0gXCJcIixcbiAgICAgdmVyc2lvbiA9IG51bGw7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cblxuICAvKiBSZXRyaWV2ZSBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIGV2ZW50IGxvZ2dlci4gKi9cbiAgZnVuY3Rpb24gZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBjYikge1xuICAgIHZhciBqc29uID0gbnVsbDtcblxuICAgIC8vIGV2ZW50IGlzIHJlcXVpcmVkLlxuICAgIGlmIChwYXJhbXMuZXZlbnQpIHtcbiAgICAgIGpzb24gPSBwYXJhbXM7XG5cbiAgICAgIGlmIChqc29uLmZpbGVfdXJsKSB7XG4gICAgICAgIGpzb24uZmlsZV9mb3JtYXQgPSBnZXRGaWxlRm9ybWF0KGpzb24uZmlsZV91cmwpO1xuICAgICAgfVxuXG4gICAgICBqc29uLmNvbXBhbnlfaWQgPSBjb21wYW55SWQ7XG4gICAgICBqc29uLmRpc3BsYXlfaWQgPSBkaXNwbGF5SWQ7XG5cbiAgICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgIGpzb24udmVyc2lvbiA9IHZlcnNpb247XG4gICAgICB9XG5cbiAgICAgIGNiKGpzb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNiKGpzb24pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBzdWZmaXggZm9yIEJRIHRhYmxlIG5hbWUuXG4gIGZ1bmN0aW9uIGdldFN1ZmZpeCgpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCksXG4gICAgICB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCkgKyAxLFxuICAgICAgZGF5ID0gZGF0ZS5nZXRVVENEYXRlKCk7XG5cbiAgICBpZiAobW9udGggPCAxMCkge1xuICAgICAgbW9udGggPSBcIjBcIiArIG1vbnRoO1xuICAgIH1cblxuICAgIGlmIChkYXkgPCAxMCkge1xuICAgICAgZGF5ID0gXCIwXCIgKyBkYXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHllYXIgKyBtb250aCArIGRheTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RmlsZUZvcm1hdCh1cmwpIHtcbiAgICB2YXIgaGFzUGFyYW1zID0gL1s/IyZdLyxcbiAgICAgIHN0cjtcblxuICAgIGlmICghdXJsIHx8IHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHN0ciA9IHVybC5zdWJzdHIodXJsLmxhc3RJbmRleE9mKFwiLlwiKSArIDEpO1xuXG4gICAgLy8gZG9uJ3QgaW5jbHVkZSBhbnkgcGFyYW1zIGFmdGVyIHRoZSBmaWxlbmFtZVxuICAgIGlmIChoYXNQYXJhbXMudGVzdChzdHIpKSB7XG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAgLChzdHIuaW5kZXhPZihcIj9cIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiP1wiKSA6IHN0ci5sZW5ndGgpO1xuXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIChzdHIuaW5kZXhPZihcIiNcIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiI1wiKSA6IHN0ci5sZW5ndGgpO1xuXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIChzdHIuaW5kZXhPZihcIiZcIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiJlwiKSA6IHN0ci5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluc2VydERhdGEocGFyYW1zKSB7XG4gICAgdmFyIEJBU0VfSU5TRVJUX1NDSEVNQSA9IHtcbiAgICAgIFwia2luZFwiOiBcImJpZ3F1ZXJ5I3RhYmxlRGF0YUluc2VydEFsbFJlcXVlc3RcIixcbiAgICAgIFwic2tpcEludmFsaWRSb3dzXCI6IGZhbHNlLFxuICAgICAgXCJpZ25vcmVVbmtub3duVmFsdWVzXCI6IGZhbHNlLFxuICAgICAgXCJ0ZW1wbGF0ZVN1ZmZpeFwiOiBnZXRTdWZmaXgoKSxcbiAgICAgIFwicm93c1wiOiBbe1xuICAgICAgICBcImluc2VydElkXCI6IFwiXCJcbiAgICAgIH1dXG4gICAgfSxcbiAgICBkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShCQVNFX0lOU0VSVF9TQ0hFTUEpKTtcblxuICAgIGRhdGEucm93c1swXS5pbnNlcnRJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyKS50b1VwcGVyQ2FzZSgpO1xuICAgIGRhdGEucm93c1swXS5qc29uID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICBkYXRhLnJvd3NbMF0uanNvbi50cyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQodGFibGUsIHBhcmFtcykge1xuICAgIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgZnVuY3Rpb24oanNvbikge1xuICAgICAgaWYgKGpzb24gIT09IG51bGwpIHtcbiAgICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyLmxvZyh0YWJsZSwganNvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiBTZXQgdGhlIENvbXBhbnkgYW5kIERpc3BsYXkgSURzLiAqL1xuICBmdW5jdGlvbiBzZXRJZHMoY29tcGFueSwgZGlzcGxheSkge1xuICAgIGNvbXBhbnlJZCA9IGNvbXBhbnk7XG4gICAgZGlzcGxheUlkID0gZGlzcGxheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFZlcnNpb24odmFsdWUpIHtcbiAgICB2ZXJzaW9uID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiZ2V0SW5zZXJ0RGF0YVwiOiBnZXRJbnNlcnREYXRhLFxuICAgIFwiZ2V0RmlsZUZvcm1hdFwiOiBnZXRGaWxlRm9ybWF0LFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJzZXRJZHNcIjogc2V0SWRzLFxuICAgIFwic2V0VmVyc2lvblwiOiBzZXRWZXJzaW9uXG4gIH07XG59KSgpO1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIgPSAoZnVuY3Rpb24odXRpbHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIFJFRlJFU0hfVVJMID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW4/Y2xpZW50X2lkPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9JRCArXG4gICAgICBcIiZjbGllbnRfc2VjcmV0PVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9TRUNSRVQgK1xuICAgICAgXCImcmVmcmVzaF90b2tlbj1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9SRUZSRVNIX1RPS0VOICtcbiAgICAgIFwiJmdyYW50X3R5cGU9cmVmcmVzaF90b2tlblwiO1xuXG4gIHZhciBzZXJ2aWNlVXJsID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9iaWdxdWVyeS92Mi9wcm9qZWN0cy9jbGllbnQtc2lkZS1ldmVudHMvZGF0YXNldHMvV2lkZ2V0X0V2ZW50cy90YWJsZXMvVEFCTEVfSUQvaW5zZXJ0QWxsXCIsXG4gICAgdGhyb3R0bGUgPSBmYWxzZSxcbiAgICB0aHJvdHRsZURlbGF5ID0gMTAwMCxcbiAgICBsYXN0RXZlbnQgPSBcIlwiLFxuICAgIHJlZnJlc2hEYXRlID0gMCxcbiAgICB0b2tlbiA9IFwiXCI7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVmcmVzaFRva2VuKGNiKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKG5ldyBEYXRlKCkgLSByZWZyZXNoRGF0ZSA8IDM1ODAwMDApIHtcbiAgICAgIHJldHVybiBjYih7fSk7XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJQT1NUXCIsIFJFRlJFU0hfVVJMLCB0cnVlKTtcbiAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzcCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKTtcblxuICAgICAgY2IoeyB0b2tlbjogcmVzcC5hY2Nlc3NfdG9rZW4sIHJlZnJlc2hlZEF0OiBuZXcgRGF0ZSgpIH0pO1xuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNUaHJvdHRsZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhyb3R0bGUgJiYgKGxhc3RFdmVudCA9PT0gZXZlbnQpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBsb2codGFibGVOYW1lLCBwYXJhbXMpIHtcbiAgICBpZiAoIXRhYmxlTmFtZSB8fCAhcGFyYW1zIHx8IChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiAhcGFyYW1zLmV2ZW50KSB8fFxuICAgICAgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmIGlzVGhyb3R0bGVkKHBhcmFtcy5ldmVudCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3R0bGUgPSB0cnVlO1xuICAgIGxhc3RFdmVudCA9IHBhcmFtcy5ldmVudDtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3R0bGUgPSBmYWxzZTtcbiAgICB9LCB0aHJvdHRsZURlbGF5KTtcblxuICAgIGZ1bmN0aW9uIGluc2VydFdpdGhUb2tlbihyZWZyZXNoRGF0YSkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICBpbnNlcnREYXRhLCB1cmw7XG5cbiAgICAgIHVybCA9IHNlcnZpY2VVcmwucmVwbGFjZShcIlRBQkxFX0lEXCIsIHRhYmxlTmFtZSk7XG4gICAgICByZWZyZXNoRGF0ZSA9IHJlZnJlc2hEYXRhLnJlZnJlc2hlZEF0IHx8IHJlZnJlc2hEYXRlO1xuICAgICAgdG9rZW4gPSByZWZyZXNoRGF0YS50b2tlbiB8fCB0b2tlbjtcbiAgICAgIGluc2VydERhdGEgPSB1dGlscy5nZXRJbnNlcnREYXRhKHBhcmFtcyk7XG5cbiAgICAgIC8vIEluc2VydCB0aGUgZGF0YS5cbiAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgdG9rZW4pO1xuXG4gICAgICBpZiAocGFyYW1zLmNiICYmIHR5cGVvZiBwYXJhbXMuY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGFyYW1zLmNiKHhoci5yZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGluc2VydERhdGEpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmcmVzaFRva2VuKGluc2VydFdpdGhUb2tlbik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwibG9nXCI6IGxvZ1xuICB9O1xufSkoUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMpO1xuLyogZ2xvYmFsIFdlYkZvbnQgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gZ2V0Rm9udENzc1N0eWxlKGNsYXNzTmFtZSwgZm9udE9iaikge1xuICAgIHZhciBmYW1pbHkgPSBcImZvbnQtZmFtaWx5OiBcIiArIGRlY29kZVVSSUNvbXBvbmVudChmb250T2JqLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpICsgXCI7IFwiO1xuICAgIHZhciBjb2xvciA9IFwiY29sb3I6IFwiICsgKGZvbnRPYmouY29sb3IgPyBmb250T2JqLmNvbG9yIDogZm9udE9iai5mb3JlY29sb3IpICsgXCI7IFwiO1xuICAgIHZhciBzaXplID0gXCJmb250LXNpemU6IFwiICsgKGZvbnRPYmouc2l6ZS5pbmRleE9mKFwicHhcIikgPT09IC0xID8gZm9udE9iai5zaXplICsgXCJweDsgXCIgOiBmb250T2JqLnNpemUgKyBcIjsgXCIpO1xuICAgIHZhciB3ZWlnaHQgPSBcImZvbnQtd2VpZ2h0OiBcIiArIChmb250T2JqLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciBpdGFsaWMgPSBcImZvbnQtc3R5bGU6IFwiICsgKGZvbnRPYmouaXRhbGljID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciB1bmRlcmxpbmUgPSBcInRleHQtZGVjb3JhdGlvbjogXCIgKyAoZm9udE9iai51bmRlcmxpbmUgPyBcInVuZGVybGluZVwiIDogXCJub25lXCIpICsgXCI7IFwiO1xuICAgIHZhciBoaWdobGlnaHQgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgKGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgPyBmb250T2JqLmhpZ2hsaWdodENvbG9yIDogZm9udE9iai5iYWNrY29sb3IpICsgXCI7XCI7XG5cbiAgICByZXR1cm4gXCIuXCIgKyBjbGFzc05hbWUgKyBcIiB7XCIgKyBmYW1pbHkgKyBjb2xvciArIHNpemUgKyB3ZWlnaHQgKyBpdGFsaWMgKyB1bmRlcmxpbmUgKyBoaWdobGlnaHQgKyBcIn1cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENTU1J1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJ1bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShydWxlc1tpXSkpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgLypcbiAgICogTG9hZHMgR29vZ2xlIG9yIGN1c3RvbSBmb250cywgaWYgYXBwbGljYWJsZSwgYW5kIGluamVjdHMgQ1NTIHN0eWxlc1xuICAgKiBpbnRvIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtICAgIGFycmF5ICAgIHNldHRpbmdzICAgIEFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIGZvcm06XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJkYXRlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvbnRTZXR0aW5nXCI6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJWZXJkYW5hXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdvb2dsZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly9jdXN0b20tZm9udC11cmxcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwiMjBcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICpcbiAgICogICAgICAgICAgIG9iamVjdCAgIGNvbnRlbnREb2MgICAgRG9jdW1lbnQgb2JqZWN0IGludG8gd2hpY2ggdG8gaW5qZWN0IHN0eWxlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgbG9hZCBmb250cyAob3B0aW9uYWwpLlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEZvbnRzKHNldHRpbmdzLCBjYikge1xuICAgIHZhciBmYW1pbGllcyA9IG51bGwsXG4gICAgICBnb29nbGVGYW1pbGllcyA9IFtdLFxuICAgICAgY3VzdG9tRmFtaWxpZXMgPSBbXSxcbiAgICAgIGN1c3RvbVVybHMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Hb29nbGVGb250c0xvYWRlZCgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaWYgKCFzZXR0aW5ncyB8fCBzZXR0aW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGN1c3RvbSBjc3MgY2xhc3MgbmFtZXMgYW5kIGFkZCBydWxlcyBpZiBzb1xuICAgIHNldHRpbmdzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uY2xhc3MgJiYgaXRlbS5mb250U3R5bGUpIHtcbiAgICAgICAgYWRkQ1NTUnVsZXMoWyBnZXRGb250Q3NzU3R5bGUoaXRlbS5jbGFzcywgaXRlbS5mb250U3R5bGUpIF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gR29vZ2xlIGZvbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImdvb2dsZVwiKSkge1xuICAgICAgICAvLyBSZW1vdmUgZmFsbGJhY2sgZm9udC5cbiAgICAgICAgZmFtaWxpZXMgPSBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC5mYW1pbHkuc3BsaXQoXCIsXCIpWzBdO1xuXG4gICAgICAgIC8vIHN0cmlwIHBvc3NpYmxlIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgZmFtaWxpZXMgPSBmYW1pbGllcy5yZXBsYWNlKC8nL2csIFwiXCIpO1xuXG4gICAgICAgIGdvb2dsZUZhbWlsaWVzLnB1c2goZmFtaWxpZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEN1c3RvbSBmb250c1xuICAgIGZvciAoaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImN1c3RvbVwiKSkge1xuICAgICAgICAvLyBkZWNvZGUgdmFsdWUgYW5kIHN0cmlwIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgY3VzdG9tRmFtaWxpZXMucHVzaChkZWNvZGVVUklDb21wb25lbnQoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpKTtcbiAgICAgICAgLy8gc3RyaXAgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBjdXN0b21VcmxzLnB1c2goc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudXJsLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdvb2dsZUZhbWlsaWVzLmxlbmd0aCA9PT0gMCAmJiBjdXN0b21GYW1pbGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gTG9hZCB0aGUgZm9udHNcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VzdG9tRmFtaWxpZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgbG9hZEN1c3RvbUZvbnQoY3VzdG9tRmFtaWxpZXNbal0sIGN1c3RvbVVybHNbal0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ29vZ2xlRmFtaWxpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBsb2FkR29vZ2xlRm9udHMoZ29vZ2xlRmFtaWxpZXMsIG9uR29vZ2xlRm9udHNMb2FkZWQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5LCB1cmwsIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc2hlZXQgPSBudWxsO1xuICAgIHZhciBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmYW1pbHkgKyBcIjsgXCIgKyBcInNyYzogdXJsKCdcIiArIHVybCArIFwiJyk7XCI7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHNoZWV0ID0gY29udGVudERvYy5zdHlsZVNoZWV0c1swXTtcblxuICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xuICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEdvb2dsZUZvbnRzKGZhbWlsaWVzLCBjYikge1xuICAgIFdlYkZvbnQubG9hZCh7XG4gICAgICBnb29nbGU6IHtcbiAgICAgICAgZmFtaWxpZXM6IGZhbWlsaWVzXG4gICAgICB9LFxuICAgICAgYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IDIwMDBcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModXJscykge1xuICAgIHZhciBsZW5ndGggPSB1cmxzLmxlbmd0aCxcbiAgICAgIGltYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZXNbaV0uc3JjID0gdXJsc1tpXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWVyeVBhcmFtZXRlcihwYXJhbSkge1xuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLFxuICAgICAgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKSxcbiAgICAgIHBhaXI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgaWYgKHBhaXJbMF0gPT0gcGFyYW0pIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSkge1xuICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIHN3aXRjaCAoc3RhdHVzQ29kZSkge1xuICAgICAgY2FzZSA0MDQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlIGZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTA3OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIGlzIG5vdCBlbm91Z2ggZGlzayBzcGFjZSB0byBzYXZlIHRoZSBmaWxlIG9uIFJpc2UgQ2FjaGUuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHJldHJpZXZpbmcgdGhlIGZpbGUgZnJvbSBSaXNlIENhY2hlLlwiO1xuICAgIH1cblxuICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XG4gIH1cblxuICBmdW5jdGlvbiB1bmVzY2FwZUhUTUwoaHRtbCkge1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICByZXR1cm4gZGl2LnRleHRDb250ZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzSW50ZXJuZXRDb25uZWN0aW9uKGZpbGVQYXRoLCBjYWxsYmFjaykge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGlmICghZmlsZVBhdGggfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJIRUFEXCIsIGZpbGVQYXRoICsgXCI/Y2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgZmFsc2UpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGNhbGxiYWNrKCh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzA0KSk7XG5cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGNocm9tZSB2ZXJzaW9uIGlzIHVuZGVyIGEgY2VydGFpbiB2ZXJzaW9uXG4gICAqL1xuICBmdW5jdGlvbiBpc0xlZ2FjeSgpIHtcbiAgICB2YXIgbGVnYWN5VmVyc2lvbiA9IDI1O1xuXG4gICAgdmFyIG1hdGNoID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcUyspLyk7XG4gICAgdmFyIHZlcnNpb24gPSBtYXRjaCA/IG1hdGNoWzFdIDogMDtcblxuICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gcGFyc2VJbnQodmVyc2lvbi5zdWJzdHJpbmcoMCx2ZXJzaW9uLmluZGV4T2YoXCIuXCIpKSk7XG5cbiAgICAgIGlmICh2ZXJzaW9uIDw9IGxlZ2FjeVZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRRdWVyeVBhcmFtZXRlcjogZ2V0UXVlcnlQYXJhbWV0ZXIsXG4gICAgZ2V0Rm9udENzc1N0eWxlOiAgZ2V0Rm9udENzc1N0eWxlLFxuICAgIGFkZENTU1J1bGVzOiAgICAgIGFkZENTU1J1bGVzLFxuICAgIGxvYWRGb250czogICAgICAgIGxvYWRGb250cyxcbiAgICBsb2FkQ3VzdG9tRm9udDogICBsb2FkQ3VzdG9tRm9udCxcbiAgICBsb2FkR29vZ2xlRm9udHM6ICAgbG9hZEdvb2dsZUZvbnRzLFxuICAgIHByZWxvYWRJbWFnZXM6ICAgIHByZWxvYWRJbWFnZXMsXG4gICAgZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlOiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2UsXG4gICAgdW5lc2NhcGVIVE1MOiB1bmVzY2FwZUhUTUwsXG4gICAgaGFzSW50ZXJuZXRDb25uZWN0aW9uOiBoYXNJbnRlcm5ldENvbm5lY3Rpb24sXG4gICAgaXNMZWdhY3k6IGlzTGVnYWN5XG4gIH07XG59KSgpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGUgPSAoZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgQkFTRV9DQUNIRV9VUkwgPSBcIi8vbG9jYWxob3N0Ojk0OTQvXCI7XG5cbiAgdmFyIF9waW5nUmVjZWl2ZWQgPSBmYWxzZSxcbiAgICBfaXNDYWNoZVJ1bm5pbmcgPSBmYWxzZSxcbiAgICBfaXNWMlJ1bm5pbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBwaW5nKGNhbGxiYWNrKSB7XG4gICAgdmFyIHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghX2lzVjJSdW5uaW5nKSB7XG4gICAgICByLm9wZW4oXCJHRVRcIiwgQkFTRV9DQUNIRV9VUkwgKyBcInBpbmc/Y2FsbGJhY2s9X1wiLCB0cnVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByLm9wZW4oXCJHRVRcIiwgQkFTRV9DQUNIRV9VUkwsIHRydWUpO1xuICAgIH1cblxuICAgIHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcbiAgICAgICAgICAvLyBzYXZlIHRoaXMgcmVzdWx0IGZvciB1c2UgaW4gZ2V0RmlsZSgpXG4gICAgICAgICAgX3BpbmdSZWNlaXZlZCA9IHRydWU7XG5cbiAgICAgICAgICBpZihyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBfaXNDYWNoZVJ1bm5pbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayh0cnVlLCByLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICAvLyBSaXNlIENhY2hlIFYyIGlzIHJ1bm5pbmdcbiAgICAgICAgICAgIF9pc1YyUnVubmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIGNhbGwgcGluZyBhZ2FpbiBzbyBjb3JyZWN0IHBpbmcgVVJMIGlzIHVzZWQgZm9yIFJpc2UgQ2FjaGUgVjJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnBpbmcoY2FsbGJhY2spO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiUmlzZSBDYWNoZSBpcyBub3QgcnVubmluZ1wiKTtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiQ2F1Z2h0IGV4Y2VwdGlvbjogXCIsIGUuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgfTtcbiAgICByLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpbGUoZmlsZVVybCwgY2FsbGJhY2ssIG5vY2FjaGVidXN0ZXIpIHtcbiAgICBpZiAoIWZpbGVVcmwgfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsZVJlcXVlc3QoKSB7XG4gICAgICB2YXIgdXJsLCBzdHIsIHNlcGFyYXRvcjtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICBpZiAoX2lzVjJSdW5uaW5nKSB7XG4gICAgICAgICAgdXJsID0gQkFTRV9DQUNIRV9VUkwgKyBcImZpbGVzP3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlVXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb25maWd1cmUgdXJsIHdpdGggY2FjaGVidXN0ZXIgb3Igbm90XG4gICAgICAgICAgdXJsID0gKG5vY2FjaGVidXN0ZXIpID8gQkFTRV9DQUNIRV9VUkwgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCkgOlxuICAgICAgICAgIEJBU0VfQ0FDSEVfVVJMICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9jYWNoZWJ1c3Rlcikge1xuICAgICAgICAgIHVybCA9IGZpbGVVcmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gZmlsZVVybC5zcGxpdChcIj9cIik7XG4gICAgICAgICAgc2VwYXJhdG9yID0gKHN0ci5sZW5ndGggPT09IDEpID8gXCI/XCIgOiBcIiZcIjtcbiAgICAgICAgICB1cmwgPSBmaWxlVXJsICsgc2VwYXJhdG9yICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1ha2VSZXF1ZXN0KFwiSEVBRFwiLCB1cmwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIHJlcXVlc3QgPSB7XG4gICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgfTtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyB8fCAwO1xuXG4gICAgICAgICAgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2VydmVyIG1heSBub3Qgc3VwcG9ydCBIRUFEIHJlcXVlc3QuIEZhbGxiYWNrIHRvIGEgR0VUIHJlcXVlc3QuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgICAgICAgICBtYWtlUmVxdWVzdChcIkdFVFwiLCB1cmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCwgbmV3IEVycm9yKFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgc3RhdHVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFJpc2UgQ2FjaGUgaXMgbm90IHJ1bm5pbmcgKHByZXZpZXcpLCBza2lwIEhFQUQgcmVxdWVzdCBhbmQgZXhlY3V0ZSBjYWxsYmFjayBpbW1lZGlhdGVseVxuICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmaWxlUmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWxlUmVxdWVzdCgpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gaXNSaXNlQ2FjaGVSdW5uaW5nKGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKF9pc0NhY2hlUnVubmluZyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soX2lzQ2FjaGVSdW5uaW5nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1YyUnVubmluZyhjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhfaXNWMlJ1bm5pbmcpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2soX2lzVjJSdW5uaW5nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEZpbGU6IGdldEZpbGUsXG4gICAgaXNSaXNlQ2FjaGVSdW5uaW5nOiBpc1Jpc2VDYWNoZVJ1bm5pbmcsXG4gICAgaXNWMlJ1bm5pbmc6IGlzVjJSdW5uaW5nLFxuICAgIHBpbmc6IHBpbmdcbiAgfTtcblxufSkoKTtcblxuLyogZXhwb3J0ZWQgdmVyc2lvbiAqL1xudmFyIHZlcnNpb24gPSBcIjEuMS4wXCI7XG4vKiBleHBvcnRlZCBjb25maWcgKi9cbmlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwibG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG59XG5cbnZhciAgY29uZmlnID0ge1xuICBTVE9SQUdFX0VOVjogXCJwcm9kXCIsXG4gIENPTVBPTkVOVFNfUEFUSDogXCJjb21wb25lbnRzL1wiXG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgXyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0ge307XG5cblJpc2VWaXNpb24uVmlkZW8gPSAoZnVuY3Rpb24gKHdpbmRvdywgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2FkZGl0aW9uYWxQYXJhbXMsIF9tb2RlO1xuXG4gIHZhciBfaXNMb2FkaW5nID0gdHJ1ZSxcbiAgICBfY29uZmlnRGV0YWlscyA9IG51bGw7XG5cbiAgdmFyIF9wcmVmcyA9IG51bGwsXG4gICAgX3N0b3JhZ2UgPSBudWxsLFxuICAgIF9ub25TdG9yYWdlID0gbnVsbCxcbiAgICBfbWVzc2FnZSA9IG51bGwsXG4gICAgX3BsYXllciA9IG51bGw7XG5cbiAgdmFyIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuXG4gIHZhciBfcmVzdW1lID0gdHJ1ZTtcblxuICB2YXIgX2N1cnJlbnRGaWxlcyA9IFtdO1xuXG4gIHZhciBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBudWxsO1xuXG4gIHZhciBfZXJyb3JMb2cgPSBudWxsLFxuICAgIF9lcnJvclRpbWVyID0gbnVsbCxcbiAgICBfZXJyb3JGbGFnID0gZmFsc2U7XG5cbiAgdmFyIF9zdG9yYWdlRXJyb3JGbGFnID0gZmFsc2UsXG4gICAgX3BsYXllckVycm9yRmxhZyA9IGZhbHNlLFxuICAgIF91bmF2YWlsYWJsZUZsYWcgPSBmYWxzZTtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfZG9uZSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9kb25lXCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSk7XG5cbiAgICAvLyBBbnkgZXJyb3JzIG5lZWQgdG8gYmUgbG9nZ2VkIGJlZm9yZSB0aGUgZG9uZSBldmVudC5cbiAgICBpZiAoX2Vycm9yTG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChfZXJyb3JMb2csIHRydWUpO1xuICAgIH1cblxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcImRvbmVcIiB9LCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpLFxuICAgICAgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xlYXJFcnJvclRpbWVyKCkge1xuICAgIGNsZWFyVGltZW91dChfZXJyb3JUaW1lcik7XG4gICAgX2Vycm9yVGltZXIgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0RXJyb3JUaW1lcigpIHtcbiAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG5cbiAgICBfZXJyb3JUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbm90aWZ5IFZpZXdlciB3aWRnZXQgaXMgZG9uZVxuICAgICAgX2RvbmUoKTtcbiAgICB9LCA1MDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRDdXJyZW50RmlsZSgpIHtcbiAgICBpZiAoX2N1cnJlbnRGaWxlcyAmJiBfY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbMF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgICBpZiAoX2N1cnJlbnRQbGF5bGlzdEluZGV4KSB7XG4gICAgICAgICAgLy8gcmV0cmlldmUgdGhlIGN1cnJlbnRseSBwbGF5ZWQgZmlsZVxuICAgICAgICAgIHJldHVybiBfY3VycmVudEZpbGVzW19jdXJyZW50UGxheWxpc3RJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaGFzU3RvcmFnZUVycm9yKCkge1xuICAgIHJldHVybiBfc3RvcmFnZUVycm9yRmxhZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc1BsYXllckVycm9yKCkge1xuICAgIHJldHVybiBfcGxheWVyRXJyb3JGbGFnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UsIGlzU3RvcmFnZUVycm9yKSB7XG4gICAgX2Vycm9yRmxhZyA9IHRydWU7XG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSB0eXBlb2YgaXNTdG9yYWdlRXJyb3IgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICBfbWVzc2FnZS5zaG93KG1lc3NhZ2UpO1xuXG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcblxuICAgIC8vIGlmIFdpZGdldCBpcyBwbGF5aW5nIHJpZ2h0IG5vdywgcnVuIHRoZSB0aW1lclxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQocGFyYW1zLCBpc0Vycm9yKSB7XG4gICAgaWYgKGlzRXJyb3IpIHtcbiAgICAgIF9lcnJvckxvZyA9IHBhcmFtcztcbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtcy5maWxlX3VybCkge1xuICAgICAgcGFyYW1zLmZpbGVfdXJsID0gX2dldEN1cnJlbnRGaWxlKCk7XG4gICAgfVxuXG4gICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMubG9nRXZlbnQoZ2V0VGFibGVOYW1lKCksIHBhcmFtcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVJbml0KHVybHMpIHtcbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYSBzdHJpbmdcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheVxuICAgICAgX2N1cnJlbnRGaWxlcyA9IHVybHM7XG4gICAgfVxuXG4gICAgX3VuYXZhaWxhYmxlRmxhZyA9IGZhbHNlO1xuXG4gICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBwbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlUmVmcmVzaCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nIG9mIG9uZSB1cmxcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheSBvZiB1cmxzXG4gICAgICBfY3VycmVudEZpbGVzID0gdXJscztcbiAgICB9XG5cbiAgICBpZiAoX3BsYXllcikge1xuICAgICAgX3BsYXllci51cGRhdGUoX2N1cnJlbnRGaWxlcyk7XG4gICAgfVxuXG4gICAgLy8gaW4gY2FzZSByZWZyZXNoZWQgZmlsZSBmaXhlcyBhbiBlcnJvciB3aXRoIHByZXZpb3VzIGZpbGUsIGVuc3VyZSBmbGFnIGlzIHJlbW92ZWQgc28gcGxheWJhY2sgaXMgYXR0ZW1wdGVkIGFnYWluXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlO1xuICAgIF9wbGF5ZXJFcnJvckZsYWcgPSBmYWxzZTtcbiAgICBfc3RvcmFnZUVycm9yRmxhZyA9IGZhbHNlO1xuICAgIF91bmF2YWlsYWJsZUZsYWcgPSBmYWxzZTtcbiAgICBfZXJyb3JMb2cgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlVW5hdmFpbGFibGUobWVzc2FnZSkge1xuICAgIF91bmF2YWlsYWJsZUZsYWcgPSB0cnVlO1xuXG4gICAgX21lc3NhZ2Uuc2hvdyhtZXNzYWdlKTtcblxuICAgIF9jdXJyZW50UGxheWxpc3RJbmRleCA9IG51bGw7XG5cbiAgICAvLyBpZiBXaWRnZXQgaXMgcGxheWluZyByaWdodCBub3csIHJ1biB0aGUgdGltZXJcbiAgICBpZiAoIV92aWV3ZXJQYXVzZWQpIHtcbiAgICAgIF9zdGFydEVycm9yVGltZXIoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcblxuICAgIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuXG4gICAgLy8gaW4gY2FzZSBlcnJvciB0aW1lciBzdGlsbCBydW5uaW5nIChubyBjb25kaXRpb25hbCBjaGVjayBvbiBlcnJvckZsYWcsIGl0IG1heSBoYXZlIGJlZW4gcmVzZXQgaW4gb25GaWxlUmVmcmVzaClcbiAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG5cbiAgICBpZiAoX3BsYXllcikge1xuICAgICAgaWYgKCFfcmVzdW1lKSB7XG4gICAgICAgIF9jdXJyZW50UGxheWxpc3RJbmRleCA9IG51bGw7XG4gICAgICAgIF9wbGF5ZXIucmVzZXQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBfcGxheWVyLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIExvZyBjb25maWd1cmF0aW9uIGV2ZW50LlxuICAgICAgbG9nRXZlbnQoe1xuICAgICAgICBldmVudDogXCJjb25maWd1cmF0aW9uXCIsXG4gICAgICAgIGV2ZW50X2RldGFpbHM6IF9jb25maWdEZXRhaWxzXG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX3ZpZXdlclBhdXNlZCA9IGZhbHNlO1xuXG4gICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwicGxheVwiIH0sIGZhbHNlKTtcblxuICAgIGlmIChfZXJyb3JGbGFnKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF91bmF2YWlsYWJsZUZsYWcpIHtcbiAgICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIgJiYgX3N0b3JhZ2UpIHtcbiAgICAgICAgX3N0b3JhZ2UucmV0cnkoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfcGxheWVyKSB7XG4gICAgICAvLyBFbnN1cmVzIHBvc3NpYmxlIGVycm9yIG1lc3NhZ2luZyBnZXRzIGhpZGRlbiBhbmQgdmlkZW8gZ2V0cyBzaG93blxuICAgICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgICBfcGxheWVyLnBsYXkoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoX2N1cnJlbnRGaWxlcyAmJiBfY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgX3BsYXllciA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLlBsYXllcihfYWRkaXRpb25hbFBhcmFtcywgX21vZGUpO1xuICAgICAgICBfcGxheWVyLmluaXQoX2N1cnJlbnRGaWxlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYWJsZU5hbWUoKSB7XG4gICAgcmV0dXJuIFwidmlkZW9fdjJfZXZlbnRzXCI7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5ZXJFbmRlZCgpIHtcbiAgICBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBudWxsO1xuXG4gICAgX2RvbmUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXllclJlYWR5KCkge1xuICAgIC8vIEVuc3VyZXMgbG9hZGluZyBtZXNzYWdpbmcgaXMgaGlkZGVuIGFuZCB2aWRlbyBnZXRzIHNob3duXG4gICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkICYmIF9wbGF5ZXIpIHtcbiAgICAgIF9wbGF5ZXIucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXllckl0ZW1DaGFuZ2UoaW5kZXgpIHtcbiAgICBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFkZGl0aW9uYWxQYXJhbXMocGFyYW1zLCBtb2RlKSB7XG4gICAgdmFyIGlzU3RvcmFnZUZpbGU7XG5cbiAgICBfYWRkaXRpb25hbFBhcmFtcyA9IF8uY2xvbmUocGFyYW1zKTtcbiAgICBfbW9kZSA9IG1vZGU7XG4gICAgX3ByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLnN0eWxlLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKSArIFwicHhcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMud2lkdGggPSBfcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIik7XG5cbiAgICBpZiAoX2FkZGl0aW9uYWxQYXJhbXMudmlkZW8uaGFzT3duUHJvcGVydHkoXCJyZXN1bWVcIikpIHtcbiAgICAgIF9yZXN1bWUgPSBfYWRkaXRpb25hbFBhcmFtcy52aWRlby5yZXN1bWU7XG4gICAgfVxuXG4gICAgX21lc3NhZ2UgPSBuZXcgUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZUNvbnRhaW5lclwiKSk7XG5cbiAgICBpZiAoUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLmlzTGVnYWN5KCkpIHtcbiAgICAgIHNob3dFcnJvcihcIlRoaXMgdmVyc2lvbiBvZiBWaWRlbyBXaWRnZXQgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIHZlcnNpb24gb2YgUmlzZSBQbGF5ZXIuIFwiICtcbiAgICAgICAgXCJQbGVhc2UgdXNlIHRoZSBsYXRlc3QgUmlzZSBQbGF5ZXIgdmVyc2lvbiBhdmFpbGFibGUgYXQgaHR0cHM6Ly9oZWxwLnJpc2V2aXNpb24uY29tL3VzZXIvY3JlYXRlLWEtZGlzcGxheVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2hvdyB3YWl0IG1lc3NhZ2Ugd2hpbGUgU3RvcmFnZSBpbml0aWFsaXplc1xuICAgICAgX21lc3NhZ2Uuc2hvdyhcIlBsZWFzZSB3YWl0IHdoaWxlIHlvdXIgdmlkZW8gaXMgZG93bmxvYWRlZC5cIik7XG5cbiAgICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgaXNTdG9yYWdlRmlsZSA9IChPYmplY3Qua2V5cyhfYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApO1xuXG4gICAgICAgIGlmICghaXNTdG9yYWdlRmlsZSkge1xuICAgICAgICAgIF9jb25maWdEZXRhaWxzID0gXCJjdXN0b21cIjtcblxuICAgICAgICAgIF9ub25TdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uTm9uU3RvcmFnZShfYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICAgICAgX25vblN0b3JhZ2UuaW5pdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jb25maWdEZXRhaWxzID0gXCJzdG9yYWdlIGZpbGVcIjtcblxuICAgICAgICAgIC8vIGNyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgU3RvcmFnZSBmaWxlIGluc3RhbmNlXG4gICAgICAgICAgX3N0b3JhZ2UgPSBuZXcgUmlzZVZpc2lvbi5WaWRlby5TdG9yYWdlRmlsZShfYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICAgICAgX3N0b3JhZ2UuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgICBfY29uZmlnRGV0YWlscyA9IFwic3RvcmFnZSBmb2xkZXJcIjtcblxuICAgICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZm9sZGVyIGluc3RhbmNlXG4gICAgICAgIF9zdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uU3RvcmFnZUZvbGRlcihfYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICAgIF9zdG9yYWdlLmluaXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVhZHkoKTtcbiAgfVxuXG4gIC8vIEFuIGVycm9yIG9jY3VycmVkIHdpdGggSlcgUGxheWVyLlxuICBmdW5jdGlvbiBwbGF5ZXJFcnJvcihlcnJvcikge1xuICAgIHZhciBkZXRhaWxzID0gbnVsbCxcbiAgICAgIHBhcmFtcyA9IHt9LFxuICAgICAgbWVzc2FnZSA9IFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gcGxheWluZyB0aGUgdmlkZW8uXCIsXG4gICAgICBNRURJQV9FUlJPUiA9IFwiRXJyb3IgbG9hZGluZyBtZWRpYTogRmlsZSBjb3VsZCBub3QgYmUgcGxheWVkXCIsXG4gICAgICBZT1VUVUJFX0VSUk9SID0gXCJFcnJvciBsb2FkaW5nIFlvdVR1YmU6IFZpZGVvIGNvdWxkIG5vdCBiZSBwbGF5ZWRcIixcbiAgICAgIFBMQVlFUl9FUlJPUiA9IFwiRXJyb3IgbG9hZGluZyBwbGF5ZXI6IE5vIG1lZGlhIHNvdXJjZXMgZm91bmRcIixcbiAgICAgIFBMQVlMSVNUX0VSUk9SID0gXCJFcnJvciBsb2FkaW5nIHBsYXlsaXN0OiBObyBwbGF5YWJsZSBzb3VyY2VzIGZvdW5kXCIsXG4gICAgICBFTkNPRElOR19NRVNTQUdFID0gXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHBsYXlpbmcgdGhhdCB2aWRlby4gSXQgY291bGQgYmUgdGhhdCB3ZSBkb24ndCBcIiArXG4gICAgICAgIFwic3VwcG9ydCB0aGF0IGZvcm1hdCBvciBpdCBpcyBub3QgZW5jb2RlZCBjb3JyZWN0bHkuXCIsXG4gICAgICBGT1JNQVRfTUVTU0FHRSA9IFwiVGhlIGZvcm1hdCBvZiB0aGF0IHZpZGVvIGlzIG5vdCBzdXBwb3J0ZWRcIjtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLnR5cGUgJiYgZXJyb3IubWVzc2FnZSkge1xuICAgICAgICBkZXRhaWxzID0gZXJyb3IudHlwZSArIFwiIC0gXCIgKyBlcnJvci5tZXNzYWdlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZXJyb3IudHlwZSkge1xuICAgICAgICBkZXRhaWxzID0gZXJyb3IudHlwZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICB9XG5cbiAgICAgIC8vIERpc3BsYXkgYXBwcm9wcmlhdGUgb24tc2NyZWVuIGVycm9yIG1lc3NhZ2UuXG4gICAgICBpZiAoZXJyb3IubWVzc2FnZSkge1xuICAgICAgICBpZiAoKGVycm9yLm1lc3NhZ2UgPT09IE1FRElBX0VSUk9SKSB8fCAoZXJyb3IubWVzc2FnZSA9PT0gWU9VVFVCRV9FUlJPUikpIHtcbiAgICAgICAgICBtZXNzYWdlID0gRU5DT0RJTkdfTUVTU0FHRTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlcnJvci5tZXNzYWdlID09PSBQTEFZRVJfRVJST1IgfHwgZXJyb3IubWVzc2FnZSA9PT0gUExBWUxJU1RfRVJST1IpIHtcbiAgICAgICAgICBtZXNzYWdlID0gRk9STUFUX01FU1NBR0U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJhbXMuZXZlbnQgPSBcInBsYXllciBlcnJvclwiO1xuICAgIHBhcmFtcy5ldmVudF9kZXRhaWxzID0gZGV0YWlscztcbiAgICBfcGxheWVyRXJyb3JGbGFnID0gdHJ1ZTtcblxuICAgIGxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgc2hvd0Vycm9yKG1lc3NhZ2UpO1xuXG4gICAgaWYgKF9zdG9yYWdlKSB7XG4gICAgICBfc3RvcmFnZS5nZXRNZXRhZGF0YSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRUYWJsZU5hbWVcIjogZ2V0VGFibGVOYW1lLFxuICAgIFwiaGFzUGxheWVyRXJyb3JcIjogaGFzUGxheWVyRXJyb3IsXG4gICAgXCJoYXNTdG9yYWdlRXJyb3JcIjogaGFzU3RvcmFnZUVycm9yLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJvbkZpbGVJbml0XCI6IG9uRmlsZUluaXQsXG4gICAgXCJvbkZpbGVSZWZyZXNoXCI6IG9uRmlsZVJlZnJlc2gsXG4gICAgXCJvbkZpbGVVbmF2YWlsYWJsZVwiOiBvbkZpbGVVbmF2YWlsYWJsZSxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwic2hvd0Vycm9yXCI6IHNob3dFcnJvcixcbiAgICBcInBsYXllckVuZGVkXCI6IHBsYXllckVuZGVkLFxuICAgIFwicGxheWVyUmVhZHlcIjogcGxheWVyUmVhZHksXG4gICAgXCJwbGF5ZXJFcnJvclwiOiBwbGF5ZXJFcnJvcixcbiAgICBcInBsYXllckl0ZW1DaGFuZ2VcIjogcGxheWVySXRlbUNoYW5nZSxcbiAgICBcInN0b3BcIjogc3RvcFxuICB9O1xuXG59KSh3aW5kb3csIGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXJVdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFBsYXlsaXN0IChsaXN0KSB7XG4gICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICBcbiAgICB2YXIgcGxheWxpc3QgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgcGxheWxpc3QucHVzaCh7XG4gICAgICAgIGZpbGU6IGxpc3RbaV0sXG4gICAgICAgIHR5cGU6IHRoaXMuZ2V0VmlkZW9GaWxlVHlwZShsaXN0W2ldKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBsYXlsaXN0O1xuICB9XG4gIFxuICBmdW5jdGlvbiBnZXRWaWRlb0ZpbGVUeXBlICh1cmwpIHtcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IFtcIi5tcDRcIiwgXCIud2VibVwiXSxcbiAgICAgIHVybExvd2VyY2FzZSA9IHVybC50b0xvd2VyQ2FzZSgpLFxuICAgICAgdHlwZSA9IG51bGwsXG4gICAgICBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8PSBleHRlbnNpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodXJsTG93ZXJjYXNlLmluZGV4T2YoZXh0ZW5zaW9uc1tpXSkgIT09IC0xKSB7XG4gICAgICAgIHR5cGUgPSBleHRlbnNpb25zW2ldLnN1YnN0cihleHRlbnNpb25zW2ldLmxhc3RJbmRleE9mKFwiLlwiKSArIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRQbGF5bGlzdFwiOiBnZXRQbGF5bGlzdCxcbiAgICBcImdldFZpZGVvRmlsZVR5cGVcIjogZ2V0VmlkZW9GaWxlVHlwZVxuICB9O1xuXG59KSgpO1xuXG4vKiBnbG9iYWwgY29uZmlnICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLlN0b3JhZ2VGaWxlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pbml0aWFsTG9hZCA9IHRydWU7XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1N0b3JhZ2VcIik7XG5cbiAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLnVybCkge1xuXG4gICAgICAgIGlmIChfaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICBfaW5pdGlhbExvYWQgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlSW5pdChlLmRldGFpbC51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGNoZWNrIGZvciBcImNoYW5nZWRcIiBwcm9wZXJ0eVxuICAgICAgICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikpIHtcbiAgICAgICAgICAgIGlmIChlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlUmVmcmVzaChlLmRldGFpbC51cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICAgICAgICAgIGlmIChSaXNlVmlzaW9uLlZpZGVvLmhhc1N0b3JhZ2VFcnJvcigpIHx8IFJpc2VWaXNpb24uVmlkZW8uaGFzUGxheWVyRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIC8vIHByb2NlZWQgd2l0aCByZWZyZXNoIGxvZ2ljIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSB2aWRlbyBhZ2FpbiBmcm9tIGEgbmV0d29yayByZWNvdmVyeVxuICAgICAgICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlUmVmcmVzaChlLmRldGFpbC51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtYXBpLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJSZXNwb25zZSBjb2RlOiBcIiArIGUuZGV0YWlsLmNvZGUgKyBcIiwgbWVzc2FnZTogXCIgKyBlLmRldGFpbC5tZXNzYWdlXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLW5vLWZpbGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZmlsZSBub3QgZm91bmRcIiwgXCJldmVudF9kZXRhaWxzXCI6IGUuZGV0YWlsIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIHZpZGVvIGRvZXMgbm90IGV4aXN0IG9yIGhhcyBiZWVuIG1vdmVkIHRvIFRyYXNoLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1maWxlLXRocm90dGxlZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBmaWxlIHRocm90dGxlZFwiLCBcImZpbGVfdXJsXCI6IGUuZGV0YWlsIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIHZpZGVvIGlzIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCIgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJSaXNlIFN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGlzIG5vdCBhY3RpdmUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXNcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1ub3QtcnVubmluZ1wiLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIGNhY2hlIG5vdCBydW5uaW5nXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3IpPyBlLmRldGFpbC5lcnJvci5tZXNzYWdlOiBcIlwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWZpbGUtdW5hdmFpbGFibGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVVbmF2YWlsYWJsZShcIkZpbGUgaXMgZG93bmxvYWRpbmdcIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBkYXRhLnN0b3JhZ2UuZm9sZGVyKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZpbGVOYW1lXCIsIGRhdGEuc3RvcmFnZS5maWxlTmFtZSk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgZGF0YS5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNZXRhZGF0YSgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9TdG9yYWdlXCIpO1xuXG4gICAgaWYgKHR5cGVvZiBzdG9yYWdlLmdldE1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHN0b3JhZ2UuZ2V0TWV0YWRhdGEoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXRyeSgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9TdG9yYWdlXCIpO1xuXG4gICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RvcmFnZS5nbygpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdCxcbiAgICBcInJldHJ5XCI6IHJldHJ5LFxuICAgIFwiZ2V0TWV0YWRhdGFcIjogZ2V0TWV0YWRhdGFcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBjb25maWcsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uU3RvcmFnZUZvbGRlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfaW5pdGlhbExvYWQgPSB0cnVlO1xuXG4gIHZhciBfZmlsZXMgPSBbXTtcblxuICBmdW5jdGlvbiBfZ2V0VXJscygpIHtcbiAgICByZXR1cm4gXy5wbHVjayhfZmlsZXMsIFwidXJsXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldEV4aXN0aW5nRmlsZShmaWxlKSB7XG4gICAgcmV0dXJuIF8uZmluZChfZmlsZXMsIGZ1bmN0aW9uIChmKSB7XG4gICAgICByZXR1cm4gZmlsZS5uYW1lID09PSBmLm5hbWU7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVsZXRlRmlsZShmaWxlKSB7XG4gICAgdmFyIGV4aXN0aW5nID0gX2dldEV4aXN0aW5nRmlsZShmaWxlKTtcblxuICAgIGlmIChleGlzdGluZykge1xuICAgICAgX2ZpbGVzLnNwbGljZShfZmlsZXMuaW5kZXhPZihleGlzdGluZyksIDEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jaGFuZ2VGaWxlKGZpbGUpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBfZ2V0RXhpc3RpbmdGaWxlKGZpbGUpO1xuXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICBleGlzdGluZy51cmwgPSBmaWxlLnVybDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfYWRkRmlsZShmaWxlKSB7XG4gICAgdmFyIGV4aXN0aW5nID0gX2dldEV4aXN0aW5nRmlsZShmaWxlKTtcblxuICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgIC8vIGV4dHJhY3QgdGhlIGFjdHVhbCBmaWxlIG5hbWUgYW5kIHN0b3JlIGluIG5ldyBwcm9wZXJ0eSBvbiBmaWxlIG9iamVjdFxuICAgICAgZmlsZS5maWxlTmFtZSA9IGZpbGUubmFtZS5zbGljZShmaWxlLm5hbWUubGFzdEluZGV4T2YoXCIvXCIpICsgMSwgZmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKSkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgLy8gaW5zZXJ0IGZpbGUgdG8gX2ZpbGVzIGxpc3QgYXQgc3BlY2lmaWMgaW5kZXggYmFzZWQgb24gYWxwaGFiZXRpY2FsIG9yZGVyIG9mIGZpbGUgbmFtZVxuICAgICAgX2ZpbGVzLnNwbGljZShfLnNvcnRlZEluZGV4KF9maWxlcywgZmlsZSwgXCJmaWxlTmFtZVwiKSwgMCwgZmlsZSk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1N0b3JhZ2VcIik7XG5cbiAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGZpbGUgPSBlLmRldGFpbDtcblxuICAgICAgLy8gQWRkZWRcbiAgICAgIGlmKGZpbGUuYWRkZWQpIHtcbiAgICAgICAgX2FkZEZpbGUoZmlsZSk7XG5cbiAgICAgICAgaWYgKF9pbml0aWFsTG9hZCkge1xuICAgICAgICAgIF9pbml0aWFsTG9hZCA9IGZhbHNlO1xuICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlSW5pdChfZ2V0VXJscygpKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDaGFuZ2VkIG9yIHVuY2hhbmdlZFxuICAgICAgaWYgKGZpbGUuaGFzT3duUHJvcGVydHkoXCJjaGFuZ2VkXCIpKSB7XG4gICAgICAgIGlmKGZpbGUuY2hhbmdlZCkge1xuICAgICAgICAgIF9jaGFuZ2VGaWxlKGZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICAgICAgaWYgKCFSaXNlVmlzaW9uLlZpZGVvLmhhc1N0b3JhZ2VFcnJvcigpICYmICFSaXNlVmlzaW9uLlZpZGVvLmhhc1BsYXllckVycm9yKCkpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgcHJvY2VlZCB3aXRoIHJlZnJlc2ggbG9naWMgYmVsb3cgaWYgdGhlcmUncyBiZWVuIGEgc3RvcmFnZSBlcnJvciwgb3RoZXJ3aXNlIGRvIG5vdGhpbmdcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgc28gdGhlIFdpZGdldCBjYW4gZXZlbnR1YWxseSBwbGF5IHZpZGVvIGFnYWluIGZyb20gYSBuZXR3b3JrIHJlY292ZXJ5XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIERlbGV0ZWRcbiAgICAgIGlmKGZpbGUuZGVsZXRlZCkge1xuICAgICAgICBfZGVsZXRlRmlsZShmaWxlKTtcbiAgICAgIH1cblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVSZWZyZXNoKF9nZXRVcmxzKCkpO1xuXG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtYXBpLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJSZXNwb25zZSBjb2RlOiBcIiArIGUuZGV0YWlsLmNvZGUgKyBcIiwgbWVzc2FnZTogXCIgKyBlLmRldGFpbC5tZXNzYWdlXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVtcHR5LWZvbGRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBmb2xkZXIgZW1wdHlcIiB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBmb2xkZXIgZG9lcyBub3QgY29udGFpbiBhbnkgdmlkZW9zLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1uby1mb2xkZXJcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIGZvbGRlciBkb2Vzbid0IGV4aXN0XCIsIFwiZXZlbnRfZGV0YWlsc1wiOiBlLmRldGFpbCB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBmb2xkZXIgZG9lcyBub3QgZXhpc3Qgb3IgaGFzIGJlZW4gbW92ZWQgdG8gVHJhc2guXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWZvbGRlci1pbnZhbGlkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIGZvbGRlciBmb3JtYXQocykgaW52YWxpZFwiIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSBzdXBwb3J0ZWQgdmlkZW8gZm9ybWF0cy5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utc3Vic2NyaXB0aW9uLWV4cGlyZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXhwaXJlZFwiIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiUmlzZSBTdG9yYWdlIHN1YnNjcmlwdGlvbiBpcyBub3QgYWN0aXZlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2Ugc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJUaGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZTogXCIgKyBlLmRldGFpbC5lcnJvci5jdXJyZW50VGFyZ2V0LnN0YXR1c1xuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2UgY2FjaGUgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcblxuICAgICAgdmFyIHN0YXR1c0NvZGUgPSAwO1xuICAgICAgLy8gU2hvdyBhIGRpZmZlcmVudCBtZXNzYWdlIGlmIHRoZXJlIGlzIGEgNDA0IGNvbWluZyBmcm9tIHJpc2UgY2FjaGVcbiAgICAgIGlmKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2Upe1xuICAgICAgICBzdGF0dXNDb2RlID0gK2UuZGV0YWlsLmVycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICB9XG5cbiAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtbm90LXJ1bm5pbmdcIiwgZnVuY3Rpb24oZSkge1xuXG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBub3QgcnVubmluZ1wiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogKGUuZGV0YWlsICYmIGUuZGV0YWlsLmVycm9yKT8gZS5kZXRhaWwuZXJyb3IubWVzc2FnZTogXCJcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlVHlwZVwiLCBcInZpZGVvXCIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGRhdGEuc3RvcmFnZS5jb21wYW55SWQpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZW52XCIsIGNvbmZpZy5TVE9SQUdFX0VOVik7XG5cbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5Ob25TdG9yYWdlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHJpc2VDYWNoZSA9IFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZTtcblxuICB2YXIgX3JlZnJlc2hEdXJhdGlvbiA9IDkwMDAwMCwgIC8vIDE1IG1pbnV0ZXNcbiAgICBfcmVmcmVzaEludGVydmFsSWQgPSBudWxsO1xuXG4gIHZhciBfaXNMb2FkaW5nID0gdHJ1ZTtcblxuICB2YXIgX3VybCA9IFwiXCI7XG5cbiAgZnVuY3Rpb24gX2dldEZpbGUob21pdENhY2hlQnVzdGVyKSB7XG4gICAgcmlzZUNhY2hlLmdldEZpbGUoX3VybCwgZnVuY3Rpb24gKHJlc3BvbnNlLCBlcnJvcikge1xuICAgICAgaWYgKCFlcnJvcikge1xuXG4gICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVJbml0KHJlc3BvbnNlLnVybCk7XG5cbiAgICAgICAgICAvLyBzdGFydCB0aGUgcmVmcmVzaCBpbnRlcnZhbFxuICAgICAgICAgIF9zdGFydFJlZnJlc2hJbnRlcnZhbCgpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVSZWZyZXNoKHJlc3BvbnNlLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXJyb3Igb2NjdXJyZWRcbiAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudCh7XG4gICAgICAgICAgXCJldmVudFwiOiBcIm5vbi1zdG9yYWdlIGVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgXCJmaWxlX3VybFwiOiByZXNwb25zZS51cmxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSAwO1xuICAgICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgICBpZihlcnJvci5tZXNzYWdlKXtcbiAgICAgICAgICBzdGF0dXNDb2RlID0gK2Vycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LCBvbWl0Q2FjaGVCdXN0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0UmVmcmVzaEludGVydmFsKCkge1xuICAgIGlmIChfcmVmcmVzaEludGVydmFsSWQgPT09IG51bGwpIHtcbiAgICAgIF9yZWZyZXNoSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2dldEZpbGUoZmFsc2UpO1xuICAgICAgfSwgX3JlZnJlc2hEdXJhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIC8vIEhhbmRsZSBwcmUtbWVyZ2UgdXNlIG9mIFwidXJsXCIgc2V0dGluZyBwcm9wZXJ0eVxuICAgIF91cmwgPSAoZGF0YS51cmwgJiYgZGF0YS51cmwgIT09IFwiXCIpID8gZGF0YS51cmwgOiBkYXRhLnNlbGVjdG9yLnVybDtcblxuICAgIF9nZXRGaWxlKHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxuLyogZ2xvYmFsIGp3cGxheWVyICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLlBsYXllciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hdXRvUGxheSwgX3N0cmV0Y2hpbmcsIF9wYXVzZUR1cmF0aW9uO1xuXG4gIHZhciBfcGxheWVySW5zdGFuY2UgPSBudWxsO1xuXG4gIHZhciBfdXRpbHMgPSBSaXNlVmlzaW9uLlZpZGVvLlBsYXllclV0aWxzO1xuXG4gIHZhciBfdmlld2VyUGF1c2VkID0gZmFsc2UsXG4gICAgX3BhdXNlVGltZXIgPSBudWxsO1xuXG4gIHZhciBfZmlsZXMgPSBudWxsLFxuICAgIF91cGRhdGVXYWl0aW5nID0gZmFsc2U7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX29uQ29tcGxldGUoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJFbmRlZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uUGF1c2UoKSB7XG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICAvLyB1c2VyIGhhcyBwYXVzZWQsIHNldCBhIHRpbWVyIHRvIHBsYXkgYWdhaW5cbiAgICAgIGNsZWFyVGltZW91dChfcGF1c2VUaW1lcik7XG5cbiAgICAgIF9wYXVzZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfcGxheWVySW5zdGFuY2UuZ2V0U3RhdGUoKS50b1VwcGVyQ2FzZSgpICE9PSBcIlBMQVlJTkdcIikge1xuICAgICAgICAgIC8vIGNvbnRpbnVlIHBsYXlpbmcgdGhlIGN1cnJlbnQgdmlkZW9cbiAgICAgICAgICBfcGxheWVySW5zdGFuY2UucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9LCBfcGF1c2VEdXJhdGlvbiAqIDEwMDApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblBsYXlsaXN0SXRlbShpbmRleCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheWVySXRlbUNoYW5nZShpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBfb25QbGF5ZXJFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJFcnJvcih7XG4gICAgICAgIHR5cGU6IFwidmlkZW9cIixcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX29uU2V0dXBFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJFcnJvcih7XG4gICAgICAgIHR5cGU6IFwic2V0dXBcIixcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvbmZpZ3VyZUhhbmRsZXJzKCkge1xuICAgIC8vdmFyIHBsYXlGbiA9IHBsYXk7XG5cbiAgICAvLyBoYW5kbGUgYSBKV1BsYXllciBzZXR1cCBlcnJvclxuICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInNldHVwRXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBfb25TZXR1cEVycm9yKGVycm9yKTtcbiAgICB9KTtcblxuICAgIC8vIGhhbmRsZSB3aGVuIEpXUGxheWVyIGlzIHJlYWR5XG4gICAgX3BsYXllckluc3RhbmNlLm9uKFwicmVhZHlcIiwgZnVuY3Rpb24oKSB7XG5cbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInBsYXlsaXN0Q29tcGxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfb25Db21wbGV0ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInBsYXlsaXN0SXRlbVwiLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIF9vblBsYXlsaXN0SXRlbShkYXRhLmluZGV4KTtcbiAgICAgIH0pO1xuXG4gICAgICBfcGxheWVySW5zdGFuY2Uub24oXCJlcnJvclwiLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgX29uUGxheWVyRXJyb3IoZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5zZXRWb2x1bWUocGFyYW1zLnZpZGVvLnZvbHVtZSk7XG5cbiAgICAgIGlmIChwYXJhbXMudmlkZW8uY29udHJvbHMgJiYgX3BhdXNlRHVyYXRpb24gPiAxKSB7XG4gICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInBhdXNlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfb25QYXVzZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gcGxheWVyIGlzIHJlYWR5XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllclJlYWR5KCk7XG5cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRTZXR1cERhdGEoZmlsZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29udHJvbHM6IHBhcmFtcy52aWRlby5jb250cm9scyxcbiAgICAgIGhlaWdodDogcGFyYW1zLmhlaWdodCxcbiAgICAgIHBsYXlsaXN0OiBfdXRpbHMuZ2V0UGxheWxpc3QoZmlsZXMpLFxuICAgICAgc2tpbjoge25hbWU6IFwicmlzZVwifSxcbiAgICAgIHN0cmV0Y2hpbmcgOiBfc3RyZXRjaGluZyxcbiAgICAgIHdpZHRoOiBwYXJhbXMud2lkdGhcbiAgICB9O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KGZpbGVzKSB7XG4gICAgX3BsYXllckluc3RhbmNlID0gandwbGF5ZXIoXCJwbGF5ZXJcIik7XG5cbiAgICBfZmlsZXMgPSBmaWxlcztcblxuICAgIF9zdHJldGNoaW5nID0gKHBhcmFtcy52aWRlby5zY2FsZVRvRml0KSA/IFwidW5pZm9ybVwiIDogXCJub25lXCI7XG5cbiAgICAvLyBlbnN1cmUgYXV0b1BsYXkgaXMgdHJ1ZSBpZiBjb250cm9scyB2YWx1ZSBpcyBmYWxzZSwgb3RoZXJ3aXNlIHVzZSBwYXJhbXMgdmFsdWVcbiAgICBfYXV0b1BsYXkgPSAoIXBhcmFtcy52aWRlby5jb250cm9scykgPyB0cnVlIDogcGFyYW1zLnZpZGVvLmF1dG9wbGF5O1xuXG4gICAgLy8gY2hlY2sgaWYgdGhpcyBzZXR0aW5nIGV4aXN0cyBkdWUgdG8gbWVyZ2Ugb2YgZmlsZSBhbmQgZm9sZGVyXG4gICAgaWYgKHBhcmFtcy52aWRlby5wYXVzZSkge1xuICAgICAgLy8gY29udmVydCBwYXVzZSB2YWx1ZSB0byBudW1iZXIgaWYgdHlwZSBpcyBcInN0cmluZ1wiXG4gICAgICBwYXJhbXMudmlkZW8ucGF1c2UgPSAodHlwZW9mIHBhcmFtcy52aWRlby5wYXVzZSA9PT0gXCJzdHJpbmdcIikgPyBwYXJzZUludChwYXJhbXMudmlkZW8ucGF1c2UsIDEwKSA6IHBhcmFtcy52aWRlby5wYXVzZTtcblxuICAgICAgLy8gaWYgbm90IG9mIHR5cGUgXCJudW1iZXJcIiwgc2V0IGl0cyB2YWx1ZSB0byAwIHNvIGEgcGF1c2UgZG9lcyBub3QgZ2V0IGFwcGxpZWRcbiAgICAgIF9wYXVzZUR1cmF0aW9uID0gKGlzTmFOKHBhcmFtcy52aWRlby5wYXVzZSkpID8gMCA6IHBhcmFtcy52aWRlby5wYXVzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZW5zdXJlIG5vIHBhdXNlIGR1cmF0aW9uIG9jY3Vyc1xuICAgICAgX3BhdXNlRHVyYXRpb24gPSAwO1xuICAgIH1cblxuICAgIC8vIHNldHVwIEpXUGxheWVyXG4gICAgX3BsYXllckluc3RhbmNlLnNldHVwKF9nZXRTZXR1cERhdGEoZmlsZXMpKTtcbiAgICBfY29uZmlndXJlSGFuZGxlcnMoKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBfdmlld2VyUGF1c2VkID0gZmFsc2U7XG5cbiAgICBpZiAoX3VwZGF0ZVdhaXRpbmcpIHtcbiAgICAgIF91cGRhdGVXYWl0aW5nID0gZmFsc2U7XG4gICAgICAvLyBsb2FkIGEgbmV3IHBsYXlsaXN0XG4gICAgICBfcGxheWVySW5zdGFuY2UubG9hZChfdXRpbHMuZ2V0UGxheWxpc3QoX2ZpbGVzKSk7XG4gICAgfVxuXG4gICAgaWYgKF9hdXRvUGxheSkge1xuICAgICAgX3BsYXllckluc3RhbmNlLnBsYXkoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuICAgIGNsZWFyVGltZW91dChfcGF1c2VUaW1lcik7XG5cbiAgICBpZiAoX3BsYXllckluc3RhbmNlLmdldFN0YXRlKCkudG9VcHBlckNhc2UoKSA9PT0gXCJQTEFZSU5HXCIpIHtcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuXG4gICAgcGF1c2UoKTtcblxuICAgIGZ1bmN0aW9uIG9uUGxheSgpIHtcbiAgICAgIC8vIHJlbW92ZSBoYW5kbGluZyB0aGUgcGxheSBldmVudFxuICAgICAgX3BsYXllckluc3RhbmNlLm9mZihcInBsYXlcIiwgb25QbGF5KTtcblxuICAgICAgLy8gcGF1c2UgdGhlIHZpZGVvIGF0IHRoZSBzdGFydFxuICAgICAgX3BsYXllckluc3RhbmNlLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TZWVrZWQoKSB7XG4gICAgICAvLyByZW1vdmUgaGFuZGxpbmcgdGhlIHNlZWtlZCBldmVudFxuICAgICAgX3BsYXllckluc3RhbmNlLm9mZihcInNlZWtlZFwiLCBvblNlZWtlZCk7XG5cbiAgICAgIC8vIHBhdXNlIHRoZSB2aWRlbyBhdCB0aGUgc3RhcnRcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5wYXVzZSgpO1xuICAgIH1cblxuICAgIC8vIGlmIHN0YXR1cyBpcyBDT01QTEVURSwgYSBmdXR1cmUgcGxheSBjYWxsIHdpbGwgc3RhcnQgcGxheWxpc3Qgb3ZlciBmcm9tIGJlZ2lubmluZyBhdXRvbWF0aWNhbGx5XG4gICAgaWYgKF9wbGF5ZXJJbnN0YW5jZS5nZXRTdGF0ZSgpLnRvVXBwZXJDYXNlKCkgIT09IFwiQ09NUExFVEVcIikge1xuXG4gICAgICAvLyBhdm9pZCBqd3BsYXllciBwcm9taXNlIGVycm9yIGluIGNvbnNvbGUgd2l0aCBzZXRUaW1lb3V0IC0gaHR0cDovL2dvby5nbC9MNGdrVG1cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3BsYXllckluc3RhbmNlLmdldFBsYXlsaXN0SW5kZXgoKSAhPT0gMCkge1xuICAgICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInBsYXlcIiwgb25QbGF5KTtcblxuICAgICAgICAgIC8vIGNoYW5nZSB0byBmaXJzdCB2aWRlbyBpbiBsaXN0XG4gICAgICAgICAgX3BsYXllckluc3RhbmNlLnBsYXlsaXN0SXRlbSgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBoYW5kbGUgd2hlbiB2aWRlbyBjb250aW51ZXMgcGxheWluZyBhZnRlciBzZWVraW5nIHRvIHBvc2l0aW9uXG4gICAgICAgICAgX3BsYXllckluc3RhbmNlLm9uKFwic2Vla2VkXCIsIG9uU2Vla2VkKTtcblxuICAgICAgICAgIC8vIG1vdmUgcG9zaXRpb24gYmFjayB0byBzdGFydCBvZiB2aWRlb1xuICAgICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5zZWVrKDApO1xuICAgICAgICB9XG4gICAgICB9LDEwMCk7XG4gICAgICBcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZShmaWxlcykge1xuICAgIF9maWxlcyA9IGZpbGVzO1xuICAgIF91cGRhdGVXYWl0aW5nID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXQsXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInJlc2V0XCI6IHJlc2V0LFxuICAgIFwidXBkYXRlXCI6IHVwZGF0ZVxuICB9O1xufTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZSA9IGZ1bmN0aW9uIChtYWluQ29udGFpbmVyLCBtZXNzYWdlQ29udGFpbmVyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWN0aXZlID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbWFpbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2FuJ3QgaW5pdGlhbGl6ZSBNZXNzYWdlIC0gXCIsIGUubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBoaWRlKCkge1xuICAgIGlmIChfYWN0aXZlKSB7XG4gICAgICAvLyBjbGVhciBjb250ZW50IG9mIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICB3aGlsZSAobWVzc2FnZUNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgIG1lc3NhZ2VDb250YWluZXIucmVtb3ZlQ2hpbGQobWVzc2FnZUNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgIH1cblxuICAgICAgLy8gaGlkZSBtZXNzYWdlIGNvbnRhaW5lclxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIC8vIHNob3cgbWFpbiBjb250YWluZXJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgX2FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3cobWVzc2FnZSkge1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHA7XG5cbiAgICBpZiAoIV9hY3RpdmUpIHtcbiAgICAgIC8vIGhpZGUgbWFpbiBjb250YWluZXJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBtZXNzYWdlIGVsZW1lbnRcbiAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgIHAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZXNzYWdlXCIpO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwKTtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWVzc2FnZSBhbHJlYWR5IGJlaW5nIHNob3duLCB1cGRhdGUgbWVzc2FnZSB0ZXh0XG4gICAgICBwID0gbWVzc2FnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgX2luaXQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiaGlkZVwiOiBoaWRlLFxuICAgIFwic2hvd1wiOiBzaG93XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgUmlzZVZpc2lvbiwgY29uZmlnICovXG5cbihmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICAvLyBEaXNhYmxlIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSlcbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMgPSBudWxsLFxuICAgICAgbW9kZSA9IFwiXCIsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKG5hbWVzWzBdID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICAgIGNvbXBhbnlJZCA9IHZhbHVlc1swXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWVzWzFdID09PSBcImRpc3BsYXlJZFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbMV0pIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSB2YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gXCJwcmV2aWV3XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMuc2V0SWRzKGNvbXBhbnlJZCwgZGlzcGxheUlkKTtcbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldFZlcnNpb24odmVyc2lvbik7XG5cbiAgICAgIGlmIChuYW1lc1syXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIpIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVzWzJdKTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAvLyBzdG9yYWdlIGZpbGUgb3IgZm9sZGVyIHNlbGVjdGVkXG4gICAgICAgICAgaWYgKCFhZGRpdGlvbmFsUGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIC8vIGZvbGRlciB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZvbGRlclwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgICAgbW9kZSA9IFwiZmlsZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub24tc3RvcmFnZSBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zLCBtb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnN0b3AoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcblxuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBjb25maWd1cmUpO1xuICAgICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzcGFyYW1fZ2V0XCIsIG51bGwsIGlkLCBbXCJjb21wYW55SWRcIiwgXCJkaXNwbGF5SWRcIiwgXCJhZGRpdGlvbmFsUGFyYW1zXCJdKTtcbiAgICB9XG4gIH1cblxuICAvLyBjaGVjayB3aGljaCB2ZXJzaW9uIG9mIFJpc2UgQ2FjaGUgaXMgcnVubmluZyBhbmQgZHluYW1pY2FsbHkgYWRkIHJpc2Utc3RvcmFnZSBkZXBlbmRlbmNpZXNcbiAgUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlLmlzVjJSdW5uaW5nKGZ1bmN0aW9uIChpc1YyKSB7XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpLFxuICAgICAgd2ViY29tcG9uZW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksXG4gICAgICBocmVmID0gY29uZmlnLkNPTVBPTkVOVFNfUEFUSCArICgoaXNWMikgPyBcInJpc2Utc3RvcmFnZS12MlwiIDogXCJyaXNlLXN0b3JhZ2VcIikgKyBcIi9yaXNlLXN0b3JhZ2UuaHRtbFwiLFxuICAgICAgc3RvcmFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJyaXNlLXN0b3JhZ2VcIiksXG4gICAgICBzdG9yYWdlUmVhZHkgPSBmYWxzZSxcbiAgICAgIHBvbHltZXJSZWFkeSA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gb25Qb2x5bWVyUmVhZHkoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCBvblBvbHltZXJSZWFkeSk7XG4gICAgICBwb2x5bWVyUmVhZHkgPSB0cnVlO1xuXG4gICAgICBpZiAoc3RvcmFnZVJlYWR5ICYmIHBvbHltZXJSZWFkeSkge1xuICAgICAgICBpbml0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TdG9yYWdlUmVhZHkoKSB7XG4gICAgICBzdG9yYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVhZHlcIiwgb25TdG9yYWdlUmVhZHkpO1xuICAgICAgc3RvcmFnZVJlYWR5ID0gdHJ1ZTtcblxuICAgICAgaWYgKHN0b3JhZ2VSZWFkeSAmJiBwb2x5bWVyUmVhZHkpIHtcbiAgICAgICAgaW5pdCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdlYmNvbXBvbmVudHMuc3JjID0gY29uZmlnLkNPTVBPTkVOVFNfUEFUSCArIFwid2ViY29tcG9uZW50c2pzL3dlYmNvbXBvbmVudHMtbGl0ZS5taW4uanNcIjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCBvblBvbHltZXJSZWFkeSk7XG5cbiAgICAvLyBhZGQgdGhlIHdlYmNvbXBvbmVudHMgcG9seWZpbGwgc291cmNlIHRvIHRoZSBkb2N1bWVudCBoZWFkXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHdlYmNvbXBvbmVudHMpO1xuXG4gICAgbGluay5zZXRBdHRyaWJ1dGUoXCJyZWxcIiwgXCJpbXBvcnRcIik7XG4gICAgbGluay5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGhyZWYpO1xuXG4gICAgLy8gYWRkIHRoZSByaXNlLXN0b3JhZ2UgPGxpbms+IGVsZW1lbnQgdG8gZG9jdW1lbnQgaGVhZFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChsaW5rKTtcblxuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ2aWRlb1N0b3JhZ2VcIik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJyZWZyZXNoXCIsIDUpO1xuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZWFkeVwiLCBvblN0b3JhZ2VSZWFkeSk7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoc3RvcmFnZSk7XG5cbiAgICAvLyBhZGQgdGhlIDxyaXNlLXN0b3JhZ2U+IGVsZW1lbnQgdG8gdGhlIGJvZHlcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgfSk7XG5cbn0pKHdpbmRvdywgZ2FkZ2V0cyk7XG5cblxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgX2dhcSA9IF9nYXEgfHwgW107XG5cbl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTU3MDkyMTU5LTInXSk7XG5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldyddKTtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgZ2EudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBnYS5hc3luYyA9IHRydWU7XG4gIGdhLnNyYyA9ICgnaHR0cHM6JyA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/ICdodHRwczovL3NzbCcgOiAnaHR0cDovL3d3dycpICsgJy5nb29nbGUtYW5hbHl0aWNzLmNvbS9nYS5qcyc7XG4gIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOyBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGdhLCBzKTtcbn0pKCk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
