if("undefined"==typeof config){var config={};"undefined"!=typeof angular&&(angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","components/rv-common-i18n/dist/locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.common.storage-selector.config").value("STORAGE_MODAL","http://storage.risevision.com/~rvi/storage-client-rva-test/storage-modal.html#/files/"))}var RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,n){"use strict";function t(){n.rpc.call("","rsevent_ready",null,s.getString("id"),!0,!0,!0,!0,!0)}function i(){t()}function o(e,n){e&&"companyId"===e&&(c=n)}function a(t){s=new n.Prefs,r=t,e.getElementById("container").style.height=s.getInt("rsH")+"px",d=new RiseVision.Video.Background(r,c),d.init()}var s=null,r={},c=null,d=null;return{backgroundReady:i,setCompanyId:o,setAdditionalParams:a}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Background=function(e,n){"use strict";function t(){var t=document.getElementById("background"),i=document.getElementById("backgroundStorage");document.body.style.background=e.background.color,e.background.useImage?(t.className=e.background.image.position,t.className=e.background.image.scale?t.className+" scale-to-fit":t.className,0===Object.keys(e.backgroundStorage).length?(t.style.backgroundImage="url("+e.background.image.url+")",RiseVision.Video.backgroundReady()):(i.addEventListener("rise-storage-response",function(e){t.style.backgroundImage="url("+e.detail[0]+")",RiseVision.Video.backgroundReady()}),i.setAttribute("folder",e.backgroundStorage.folder),i.setAttribute("fileName",e.backgroundStorage.fileName),i.setAttribute("companyId",n),i.go())):RiseVision.Video.backgroundReady()}return{init:t}},function(e,n){"use strict";function t(){}function i(){}function o(){}function a(e,n){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(n)&&n.length>0&&RiseVision.Video.setAdditionalParams(JSON.parse(n[0]))}function s(e,t){e&&"companyId"===e&&RiseVision.Video.setCompanyId(t),n.rpc.register("rsparam_set_"+c,a),n.rpc.call("","rsparam_get",null,c,["additionalParams"])}var r=new n.Prefs,c=r.getString("id");e.oncontextmenu=function(){return!1},c&&""!==c&&(n.rpc.register("rscmd_play_"+c,t),n.rpc.register("rscmd_pause_"+c,i),n.rpc.register("rscmd_stop_"+c,o),n.rpc.register("rsparam_set_"+c,s),n.rpc.call("","rsparam_get",null,c,"companyId"))}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY29uZmlnIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidmFsdWUiLCJSaXNlVmlzaW9uIiwiVmlkZW8iLCJkb2N1bWVudCIsImdhZGdldHMiLCJfcmVhZHkiLCJycGMiLCJjYWxsIiwiX3ByZWZzIiwiZ2V0U3RyaW5nIiwiYmFja2dyb3VuZFJlYWR5Iiwic2V0Q29tcGFueUlkIiwibmFtZSIsIl9jb21wYW55SWQiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwicGFyYW1zIiwiUHJlZnMiLCJfYWRkaXRpb25hbFBhcmFtcyIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJoZWlnaHQiLCJnZXRJbnQiLCJfYmFja2dyb3VuZCIsIkJhY2tncm91bmQiLCJpbml0IiwiZGF0YSIsImNvbXBhbnlJZCIsImJhY2tncm91bmQiLCJzdG9yYWdlIiwiYm9keSIsImNvbG9yIiwidXNlSW1hZ2UiLCJjbGFzc05hbWUiLCJpbWFnZSIsInBvc2l0aW9uIiwic2NhbGUiLCJPYmplY3QiLCJrZXlzIiwiYmFja2dyb3VuZFN0b3JhZ2UiLCJsZW5ndGgiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJ1cmwiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRldGFpbCIsInNldEF0dHJpYnV0ZSIsImZvbGRlciIsImZpbGVOYW1lIiwiZ28iLCJ3aW5kb3ciLCJwbGF5IiwicGF1c2UiLCJzdG9wIiwiYWRkaXRpb25hbFBhcmFtcyIsIm5hbWVzIiwidmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwicmVnaXN0ZXIiLCJpZCIsInByZWZzIiwib25jb250ZXh0bWVudSIsIl9nYXEiLCJwdXNoIiwiZ2EiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImFzeW5jIiwic3JjIiwibG9jYXRpb24iLCJwcm90b2NvbCIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFw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Y0FBZ0IsV0FDckIsT0FBTyxHQWdDTEYsR0FBYSxLQUFQQSxJQUNSekQsRUFBUUUsSUFBSXNELFNBQVMsY0FBZ0JDLEVBQUlYLEdBQ3pDOUMsRUFBUUUsSUFBSXNELFNBQVMsZUFBaUJDLEVBQUlWLEdBQzFDL0MsRUFBUUUsSUFBSXNELFNBQVMsY0FBZ0JDLEVBQUlULEdBQ3pDaEQsRUFBUUUsSUFBSXNELFNBQVMsZUFBaUJDLEVBQUluQyxHQUUxQ3RCLEVBQVFFLElBQUlDLEtBQUssR0FBSSxjQUFlLEtBQU1zRCxFQUFJLGVBSS9DWixPQUFRN0MsUUFLWCxJQUFJNEQsTUFBT0EsUUFFWEEsTUFBS0MsTUFBTSxjQUFlLGtCQUMxQkQsS0FBS0MsTUFBTSxtQkFFWCxXQUNFLEdBQUlDLEdBQUsvRCxTQUFTZ0UsY0FBYyxTQUFXRCxHQUFHRSxLQUFPLGtCQUFtQkYsRUFBR0csT0FBUSxFQUNuRkgsRUFBR0ksS0FBTyxVQUFZbkUsU0FBU29FLFNBQVNDLFNBQVcsY0FBZ0IsY0FBZ0IsNkJBQ25GLElBQUlDLEdBQUl0RSxTQUFTdUUscUJBQXFCLFVBQVUsRUFBSUQsR0FBRUUsV0FBV0MsYUFBYVYsRUFBSU8iLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBjb25maWc6IHRydWUgKi9cbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBjb25maWcgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgdmFyIGNvbmZpZyA9IHtcbiAgICAvLyB2YXJpYWJsZXMgZ28gaGVyZVxuICB9O1xuXG4gIGlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImNvbXBvbmVudHMvcnYtY29tbW9uLWkxOG4vZGlzdC9sb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc3RvcmFnZS1zZWxlY3Rvci5jb25maWdcIilcbiAgICAgIC52YWx1ZShcIlNUT1JBR0VfTU9EQUxcIiwgXCJodHRwOi8vc3RvcmFnZS5yaXNldmlzaW9uLmNvbS9+cnZpL3N0b3JhZ2UtY2xpZW50LXJ2YS10ZXN0L3N0b3JhZ2UtbW9kYWwuaHRtbCMvZmlsZXMvXCIpO1xuICB9XG59XG5cbi8qIGdsb2JhbCBnYWRnZXRzICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSB7fTtcblxuUmlzZVZpc2lvbi5WaWRlbyA9IChmdW5jdGlvbiAoZG9jdW1lbnQsIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9wcmVmcyA9IG51bGwsXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMgPSB7fSxcbiAgICBfY29tcGFueUlkID0gbnVsbCxcbiAgICBfYmFja2dyb3VuZCA9IG51bGw7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBiYWNrZ3JvdW5kUmVhZHkoKSB7XG4gICAgLy8gVE9ETzogdGVtcG9yYXJpbHkgY2FsbCBfcmVhZHkoKSBidXQgdmlkZW8gY29uZmlndXJhdGlvbiBpcyBzdGlsbCB0byBjb21lXG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDb21wYW55SWQobmFtZSwgdmFsdWUpIHtcbiAgICBpZiAobmFtZSAmJiBuYW1lID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICBfY29tcGFueUlkID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhwYXJhbXMpIHtcbiAgICBfcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpO1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0gcGFyYW1zO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKSArIFwicHhcIjtcblxuICAgIC8vIGNyZWF0ZSBuZXcgQmFja2dyb3VuZCBpbnN0YW5jZVxuICAgIF9iYWNrZ3JvdW5kID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uQmFja2dyb3VuZChfYWRkaXRpb25hbFBhcmFtcywgX2NvbXBhbnlJZCk7XG4gICAgX2JhY2tncm91bmQuaW5pdCgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImJhY2tncm91bmRSZWFkeVwiOiBiYWNrZ3JvdW5kUmVhZHksXG4gICAgXCJzZXRDb21wYW55SWRcIjogc2V0Q29tcGFueUlkLFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zXG4gIH07XG5cbn0pKGRvY3VtZW50LCBnYWRnZXRzKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uQmFja2dyb3VuZCA9IGZ1bmN0aW9uIChkYXRhLCBjb21wYW55SWQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBiYWNrZ3JvdW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWNrZ3JvdW5kXCIpLFxuICAgICAgc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja2dyb3VuZFN0b3JhZ2VcIik7XG5cbiAgICAvLyBzZXQgdGhlIGRvY3VtZW50IGJhY2tncm91bmRcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBkYXRhLmJhY2tncm91bmQuY29sb3I7XG5cbiAgICBpZiAoZGF0YS5iYWNrZ3JvdW5kLnVzZUltYWdlKSB7XG4gICAgICBiYWNrZ3JvdW5kLmNsYXNzTmFtZSA9IGRhdGEuYmFja2dyb3VuZC5pbWFnZS5wb3NpdGlvbjtcbiAgICAgIGJhY2tncm91bmQuY2xhc3NOYW1lID0gZGF0YS5iYWNrZ3JvdW5kLmltYWdlLnNjYWxlID8gYmFja2dyb3VuZC5jbGFzc05hbWUgKyBcIiBzY2FsZS10by1maXRcIlxuICAgICAgICA6IGJhY2tncm91bmQuY2xhc3NOYW1lO1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBkYXRhLmJhY2tncm91bmQuaW1hZ2UudXJsICsgXCIpXCI7XG4gICAgICAgIFJpc2VWaXNpb24uVmlkZW8uYmFja2dyb3VuZFJlYWR5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSaXNlIFN0b3JhZ2VcbiAgICAgICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgZS5kZXRhaWxbMF0gKyBcIilcIjtcbiAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLmJhY2tncm91bmRSZWFkeSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBkYXRhLmJhY2tncm91bmRTdG9yYWdlLmZvbGRlcik7XG4gICAgICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZS5maWxlTmFtZSk7XG4gICAgICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGNvbXBhbnlJZCk7XG4gICAgICAgIHN0b3JhZ2UuZ28oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5iYWNrZ3JvdW5kUmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgUmlzZVZpc2lvbiAqL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLFxuICAgIGlkID0gcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgLy8gRGlzYWJsZSBjb250ZXh0IG1lbnUgKHJpZ2h0IGNsaWNrIG1lbnUpXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBwbGF5KCkge1xuXG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcblxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcblxuICB9XG5cbiAgZnVuY3Rpb24gYWRkaXRpb25hbFBhcmFtcyhuYW1lcywgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgbmFtZXNbMF0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2V0QWRkaXRpb25hbFBhcmFtcyhKU09OLnBhcnNlKHZhbHVlc1swXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBhbnlJZChuYW1lLCB2YWx1ZSkge1xuICAgIGlmIChuYW1lICYmIG5hbWUgPT09IFwiY29tcGFueUlkXCIpIHtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2V0Q29tcGFueUlkKHZhbHVlKTtcbiAgICB9XG5cbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gIH1cblxuICBpZiAoaWQgJiYgaWQgIT09IFwiXCIpIHtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9zdG9wX1wiICsgaWQsIHN0b3ApO1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgY29tcGFueUlkKTtcblxuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgXCJjb21wYW55SWRcIik7XG5cbiAgfVxuXG59KSh3aW5kb3csIGdhZGdldHMpO1xuXG5cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xudmFyIF9nYXEgPSBfZ2FxIHx8IFtdO1xuXG5fZ2FxLnB1c2goWydfc2V0QWNjb3VudCcsICdVQS01NzA5MjE1OS0yJ10pO1xuX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnXSk7XG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIGdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IGdhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly9zc2wnIDogJ2h0dHA6Ly93d3cnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnO1xuICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7XG59KSgpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==