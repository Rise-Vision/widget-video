if("undefined"==typeof config){var config={};"undefined"!=typeof angular&&(angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","components/rv-common-i18n/dist/locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.common.storage-selector.config").value("STORAGE_MODAL","http://storage.risevision.com/~rvi/storage-client-rva-test/storage-modal.html#/files/"))}var RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,i){"use strict";function t(){i.rpc.call("","rsevent_done",null,g.getString("id"))}function n(){i.rpc.call("","rsevent_ready",null,g.getString("id"),!0,!0,!0,!0,!0)}function o(){y=new RiseVision.Video.Player(m,p),y.init()}function a(){y.pause()}function s(){y.isInitialPlay()?m.video.autoplay&&y.play():y.userPaused()||y.play()}function r(){n()}function d(e){p=e}function c(t){g=new i.Prefs,m=t,e.getElementById("videoContainer").style.height=g.getInt("rsH")+"px",f=new RiseVision.Video.Background(m,p),f.init()}function u(){a()}function l(){t()}var g=null,m={},p=null,f=null,y=null;return{backgroundReady:o,pause:a,play:s,setCompanyId:d,setAdditionalParams:c,playerReady:r,stop:u,videoEnded:l}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Background=function(e,i){"use strict";function t(){var t=document.getElementById("background"),n=document.getElementById("backgroundStorage");document.body.style.background=e.background.color,e.background.useImage?(t.className=e.background.image.position,t.className=e.background.image.scale?t.className+" scale-to-fit":t.className,0===Object.keys(e.backgroundStorage).length?(t.style.backgroundImage="url("+e.background.image.url+")",RiseVision.Video.backgroundReady()):(n.addEventListener("rise-storage-response",function(e){t.style.backgroundImage="url("+e.detail[0]+")",RiseVision.Video.backgroundReady()}),n.setAttribute("folder",e.backgroundStorage.folder),n.setAttribute("fileName",e.backgroundStorage.fileName),n.setAttribute("companyId",i),n.go())):RiseVision.Video.backgroundReady()}return{init:t}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Player=function(e,i){"use strict";function t(){m.style.visibility="visible",g.removeEventListener("loadeddata",t,!1)}function n(){RiseVision.Video.playerReady(),g.removeEventListener("canplay",n,!1)}function o(){f=!1,RiseVision.Video.videoEnded()}function a(){f=!y}function s(){p=!1,f=!1}function r(){return p}function d(){var r=document.getElementById("videoStorage"),d=document.createDocumentFragment(),c=d.appendChild(document.createElement("source")),u=document.createAttribute("src"),l=document.createAttribute("type");g.volume=e.video.volume/100,l.value="video/webm",c.setAttributeNode(l),g.addEventListener("loadeddata",t,!1),g.addEventListener("canplay",n,!1),g.addEventListener("ended",o,!1),g.addEventListener("pause",a,!1),g.addEventListener("play",s,!1),0===Object.keys(e.videoStorage).length?(u.value=e.url,c.setAttributeNode(u),g.appendChild(d)):(r.addEventListener("rise-storage-response",function(e){u.value=e.detail[0],c.setAttributeNode(u),g.appendChild(d)}),r.setAttribute("folder",e.videoStorage.folder),r.setAttribute("fileName",e.videoStorage.fileName),r.setAttribute("companyId",i),r.go())}function c(){y=!0,g.pause()}function u(){p=!1,y=!1,g.play()}function l(){return f}var g=document.getElementById("video"),m=document.getElementById("videoContainer"),p=!0,f=!1,y=!1;return{isInitialPlay:r,init:d,pause:c,play:u,userPaused:l}},function(e,i){"use strict";function t(){RiseVision.Video.play()}function n(){RiseVision.Video.pause()}function o(){RiseVision.Video.stop()}function a(e,i){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(i)&&i.length>0&&RiseVision.Video.setAdditionalParams(JSON.parse(i[0]))}function s(e,t){e&&"companyId"===e&&RiseVision.Video.setCompanyId(t),i.rpc.register("rsparam_set_"+d,a),i.rpc.call("","rsparam_get",null,d,["additionalParams"])}var r=new i.Prefs,d=r.getString("id");e.oncontextmenu=function(){return!1},d&&""!==d&&(i.rpc.register("rscmd_play_"+d,t),i.rpc.register("rscmd_pause_"+d,n),i.rpc.register("rscmd_stop_"+d,o),i.rpc.register("rsparam_set_"+d,s),i.rpc.call("","rsparam_get",null,d,"companyId"))}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY29uZmlnIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidmFsdWUiLCJSaXNlVmlzaW9uIiwiVmlkZW8iLCJkb2N1bWVudCIsImdhZGdldHMiLCJfZG9uZSIsInJwYyIsImNhbGwiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJfcmVhZHkiLCJiYWNrZ3JvdW5kUmVhZHkiLCJfcGxheWVyIiwiUGxheWVyIiwiX2FkZGl0aW9uYWxQYXJhbXMiLCJfY29tcGFueUlkIiwiaW5pdCIsInBhdXNlIiwicGxheSIsImlzSW5pdGlhbFBsYXkiLCJ2aWRlbyIsImF1dG9wbGF5IiwidXNlclBhdXNlZCIsInBsYXllclJlYWR5Iiwic2V0Q29tcGFueUlkIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsInBhcmFtcyIsIlByZWZzIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImhlaWdodCIsImdldEludCIsIl9iYWNrZ3JvdW5kIiwiQmFja2dyb3VuZCIsInN0b3AiLCJ2aWRlb0VuZGVkIiwiZGF0YSIsImNvbXBhbnlJZCIsImJhY2tncm91bmQiLCJzdG9yYWdlIiwiYm9keSIsImNvbG9yIiwidXNlSW1hZ2UiLCJjbGFzc05hbWUiLCJpbWFnZSIsInBvc2l0aW9uIiwic2NhbGUiLCJPYmplY3QiLCJrZXlzIiwiYmFja2dyb3VuZFN0b3JhZ2UiLCJsZW5ndGgiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJ1cmwiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRldGFpbCIsInNldEF0dHJpYnV0ZSIsImZvbGRlciIsImZpbGVOYW1lIiwiZ28iLCJfb25Mb2FkZWREYXRhIiwiX3ZpZGVvQ29udGFpbmVyIiwidmlzaWJpbGl0eSIsIl92aWRlbyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfb25DYW5QbGF5IiwiX29uRW5kZWQiLCJfdXNlclBhdXNlZCIsIl9vblBhdXNlIiwiX3ZpZXdlclBhdXNlZCIsIl9vblBsYXkiLCJfaW5pdGlhbFBsYXkiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJzb3VyY2UiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJzcmNBdHRyIiwiY3JlYXRlQXR0cmlidXRlIiwidHlwZUF0dHIiLCJ2b2x1bWUiLCJzZXRBdHRyaWJ1dGVOb2RlIiwidmlkZW9TdG9yYWdlIiwid2luZG93IiwiYWRkaXRpb25hbFBhcmFtcyIsIm5hbWVzIiwidmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwibmFtZSIsInJlZ2lzdGVyIiwiaWQiLCJwcmVmcyIsIm9uY29udGV4dG1lbnUiLCJfZ2FxIiwicHVzaCIsImdhIiwidHlwZSIsImFzeW5jIiwic3JjIiwibG9jYXRpb24iLCJwcm90b2NvbCIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiJBQUVBLEdBQXNCLG1CQUFYQSxRQUF3QixDQUNqQyxHQUFJQSxVQUltQixvQkFBWkMsV0FDVEEsUUFBUUMsT0FBTyxvQ0FDWkMsU0FBUyxpQkFBa0IsdURBQzNCQSxTQUFTLGdCQUFpQixTQUU3QkYsUUFBUUMsT0FBTyxvREFDWkUsTUFBTSxnQkFBaUIsMEZBTTlCLEdBQUlDLFlBQWFBLGNBQ2pCQSxZQUFXQyxTQUVYRCxXQUFXQyxNQUFRLFNBQVdDLEVBQVVDLEdBQ3RDLFlBV0EsU0FBU0MsS0FDUEQsRUFBUUUsSUFBSUMsS0FBSyxHQUFJLGVBQWdCLEtBQU1DLEVBQU9DLFVBQVUsT0FJOUQsUUFBU0MsS0FDUE4sRUFBUUUsSUFBSUMsS0FBSyxHQUFJLGdCQUFpQixLQUFNQyxFQUFPQyxVQUFVLE9BQzNELEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FNNUIsUUFBU0UsS0FFUEMsRUFBVSxHQUFJWCxZQUFXQyxNQUFNVyxPQUFPQyxFQUFtQkMsR0FDekRILEVBQVFJLE9BR1YsUUFBU0MsS0FDUEwsRUFBUUssUUFHVixRQUFTQyxLQUNITixFQUFRTyxnQkFFTkws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cy93aWRnZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGNvbmZpZzogdHJ1ZSAqL1xuLyogZXhwb3J0ZWQgY29uZmlnICovXG5pZiAodHlwZW9mIGNvbmZpZyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICB2YXIgY29uZmlnID0ge1xuICAgIC8vIHZhcmlhYmxlcyBnbyBoZXJlXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSlcbiAgICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwiY29tcG9uZW50cy9ydi1jb21tb24taTE4bi9kaXN0L2xvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5zdG9yYWdlLXNlbGVjdG9yLmNvbmZpZ1wiKVxuICAgICAgLnZhbHVlKFwiU1RPUkFHRV9NT0RBTFwiLCBcImh0dHA6Ly9zdG9yYWdlLnJpc2V2aXNpb24uY29tL35ydmkvc3RvcmFnZS1jbGllbnQtcnZhLXRlc3Qvc3RvcmFnZS1tb2RhbC5odG1sIy9maWxlcy9cIik7XG4gIH1cbn1cblxuLyogZ2xvYmFsIGdhZGdldHMgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvID0gKGZ1bmN0aW9uIChkb2N1bWVudCwgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX3ByZWZzID0gbnVsbCxcbiAgICBfYWRkaXRpb25hbFBhcmFtcyA9IHt9LFxuICAgIF9jb21wYW55SWQgPSBudWxsLFxuICAgIF9iYWNrZ3JvdW5kID0gbnVsbCxcbiAgICBfcGxheWVyID0gbnVsbDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfZG9uZSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9kb25lXCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksXG4gICAgICB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gYmFja2dyb3VuZFJlYWR5KCkge1xuICAgIC8vIGNyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgUGxheWVyIGluc3RhbmNlXG4gICAgX3BsYXllciA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLlBsYXllcihfYWRkaXRpb25hbFBhcmFtcywgX2NvbXBhbnlJZCk7XG4gICAgX3BsYXllci5pbml0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBfcGxheWVyLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmIChfcGxheWVyLmlzSW5pdGlhbFBsYXkoKSkge1xuICAgICAgLy8gXCJhdXRvcGxheVwiIHdhcyBzZWxlY3RlZCBpbiBzZXR0aW5nc1xuICAgICAgaWYgKF9hZGRpdGlvbmFsUGFyYW1zLnZpZGVvLmF1dG9wbGF5KSB7XG4gICAgICAgIF9wbGF5ZXIucGxheSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIV9wbGF5ZXIudXNlclBhdXNlZCgpKSB7XG4gICAgICAgIF9wbGF5ZXIucGxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXllclJlYWR5KCkge1xuICAgIF9yZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q29tcGFueUlkKHZhbHVlKSB7XG4gICAgX2NvbXBhbnlJZCA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhwYXJhbXMpIHtcbiAgICBfcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpO1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0gcGFyYW1zO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb0NvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuXG4gICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBCYWNrZ3JvdW5kIGluc3RhbmNlXG4gICAgX2JhY2tncm91bmQgPSBuZXcgUmlzZVZpc2lvbi5WaWRlby5CYWNrZ3JvdW5kKF9hZGRpdGlvbmFsUGFyYW1zLCBfY29tcGFueUlkKTtcbiAgICBfYmFja2dyb3VuZC5pbml0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9SaXNlLVZpc2lvbi92aWV3ZXIvaXNzdWVzLzMwXG4gICAgLy8gSGF2ZSB0byBjYWxsIHBhdXNlKCkgZHVlIHRvIFZpZXdlciBpc3N1ZVxuICAgIHBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiB2aWRlb0VuZGVkKCkge1xuICAgIF9kb25lKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiYmFja2dyb3VuZFJlYWR5XCI6IGJhY2tncm91bmRSZWFkeSxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0Q29tcGFueUlkXCI6IHNldENvbXBhbnlJZCxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcInBsYXllclJlYWR5XCI6IHBsYXllclJlYWR5LFxuICAgIFwic3RvcFwiOiBzdG9wLFxuICAgIFwidmlkZW9FbmRlZFwiOiB2aWRlb0VuZGVkXG4gIH07XG5cbn0pKGRvY3VtZW50LCBnYWRnZXRzKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uQmFja2dyb3VuZCA9IGZ1bmN0aW9uIChkYXRhLCBjb21wYW55SWQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBiYWNrZ3JvdW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWNrZ3JvdW5kXCIpLFxuICAgICAgc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja2dyb3VuZFN0b3JhZ2VcIik7XG5cbiAgICAvLyBzZXQgdGhlIGRvY3VtZW50IGJhY2tncm91bmRcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBkYXRhLmJhY2tncm91bmQuY29sb3I7XG5cbiAgICBpZiAoZGF0YS5iYWNrZ3JvdW5kLnVzZUltYWdlKSB7XG4gICAgICBiYWNrZ3JvdW5kLmNsYXNzTmFtZSA9IGRhdGEuYmFja2dyb3VuZC5pbWFnZS5wb3NpdGlvbjtcbiAgICAgIGJhY2tncm91bmQuY2xhc3NOYW1lID0gZGF0YS5iYWNrZ3JvdW5kLmltYWdlLnNjYWxlID8gYmFja2dyb3VuZC5jbGFzc05hbWUgKyBcIiBzY2FsZS10by1maXRcIlxuICAgICAgICA6IGJhY2tncm91bmQuY2xhc3NOYW1lO1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBkYXRhLmJhY2tncm91bmQuaW1hZ2UudXJsICsgXCIpXCI7XG4gICAgICAgIFJpc2VWaXNpb24uVmlkZW8uYmFja2dyb3VuZFJlYWR5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSaXNlIFN0b3JhZ2VcbiAgICAgICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgZS5kZXRhaWxbMF0gKyBcIilcIjtcbiAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLmJhY2tncm91bmRSZWFkeSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBkYXRhLmJhY2tncm91bmRTdG9yYWdlLmZvbGRlcik7XG4gICAgICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZS5maWxlTmFtZSk7XG4gICAgICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGNvbXBhbnlJZCk7XG4gICAgICAgIHN0b3JhZ2UuZ28oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5iYWNrZ3JvdW5kUmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXIgPSBmdW5jdGlvbiAoZGF0YSwgY29tcGFueUlkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfdmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvXCIpLFxuICAgIF92aWRlb0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9Db250YWluZXJcIiksXG4gICAgX2luaXRpYWxQbGF5ID0gdHJ1ZSxcbiAgICBfdXNlclBhdXNlZCA9IGZhbHNlLFxuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcblxuICAvKlxuICAgKiBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9vbkxvYWRlZERhdGEoKSB7XG4gICAgLy8gYXQgbGVhc2UgMXN0IGZyYW1lIG9mIHZpZGVvIGhhcyBsb2FkZWRcbiAgICBfdmlkZW9Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgIC8vIHJlbW92ZSB0aGlzIGxpc3RlbmVyXG4gICAgX3ZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkZWRkYXRhXCIsIF9vbkxvYWRlZERhdGEsIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vbkNhblBsYXkoKSB7XG4gICAgLy8gZW5vdWdoIGRhdGEgaGFzIGxvYWRlZCB0byBzYWZlbHkgcGxheSB3aXRob3V0IGludGVycnVwdGlvblxuICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheWVyUmVhZHkoKTtcbiAgICAvLyByZW1vdmUgdGhpcyBsaXN0ZW5lclxuICAgIF92aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2FucGxheVwiLCBfb25DYW5QbGF5LCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfb25FbmRlZCgpIHtcbiAgICAvLyBhIFwicGF1c2VcIiBldmVudCBpcyBhbHdheXMgZmlyZWQgYmVmb3JlIFwiZW5kZWRcIiBldmVudCwgZW5zdXJlIF91c2VyUGF1c2VkIGlzIGZhbHNlXG4gICAgX3VzZXJQYXVzZWQgPSBmYWxzZTtcbiAgICAvLyB2aWRlbyBlbmRlZFxuICAgIFJpc2VWaXNpb24uVmlkZW8udmlkZW9FbmRlZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uUGF1c2UoKSB7XG4gICAgLy8gdGhpcyBoYW5kbGVyIGFsc28gZ2V0cyBjYWxsZWQgdmlhIHB1YmxpYyBcInBhdXNlKClcIiBmdW5jdGlvbiwgb25seSBzZXQgXCJfdXNlclBhdXNlZCA9IHRydWVcIiBpZiBub3QgdGhlIGNhc2VcbiAgICBfdXNlclBhdXNlZCA9ICFfdmlld2VyUGF1c2VkO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uUGxheSgpIHtcbiAgICBfaW5pdGlhbFBsYXkgPSBmYWxzZTtcbiAgICBfdXNlclBhdXNlZCA9IGZhbHNlO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpc0luaXRpYWxQbGF5KCkge1xuICAgIHJldHVybiBfaW5pdGlhbFBsYXk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1N0b3JhZ2VcIiksXG4gICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHNvdXJjZSA9IGZyYWdtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIikpLFxuICAgICAgc3JjQXR0ciA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcInNyY1wiKSxcbiAgICAgIHR5cGVBdHRyID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKFwidHlwZVwiKTtcblxuICAgIC8vIHNldCBpbml0aWFsIHZvbHVtZSBvbiA8dmlkZW8+XG4gICAgX3ZpZGVvLnZvbHVtZSA9IGRhdGEudmlkZW8udm9sdW1lIC8gMTAwO1xuXG4gICAgLy8gc2V0IHRoZSBcInR5cGVcIiBhdHRyaWJ1dGUgb24gPHNvdXJjZT5cbiAgICB0eXBlQXR0ci52YWx1ZSA9IFwidmlkZW8vd2VibVwiO1xuICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGVOb2RlKHR5cGVBdHRyKTtcblxuICAgIC8vIHZpZGVvIGV2ZW50c1xuICAgIF92aWRlby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkZGF0YVwiLCBfb25Mb2FkZWREYXRhLCBmYWxzZSk7XG4gICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsIF9vbkNhblBsYXksIGZhbHNlKTtcbiAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIF9vbkVuZGVkLCBmYWxzZSk7XG4gICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXVzZVwiLCBfb25QYXVzZSwgZmFsc2UpO1xuICAgIF92aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheVwiLCBfb25QbGF5LCBmYWxzZSk7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoZGF0YS52aWRlb1N0b3JhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gTm9uIHN0b3JhZ2UgVVJMXG4gICAgICBzcmNBdHRyLnZhbHVlID0gZGF0YS51cmw7XG4gICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlTm9kZShzcmNBdHRyKTtcbiAgICAgIF92aWRlby5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmlzZSBTdG9yYWdlXG4gICAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3JjQXR0ci52YWx1ZSA9IGUuZGV0YWlsWzBdO1xuICAgICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlTm9kZShzcmNBdHRyKTtcbiAgICAgICAgX3ZpZGVvLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgIH0pO1xuXG4gICAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBkYXRhLnZpZGVvU3RvcmFnZS5mb2xkZXIpO1xuICAgICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlTmFtZVwiLCBkYXRhLnZpZGVvU3RvcmFnZS5maWxlTmFtZSk7XG4gICAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBjb21wYW55SWQpO1xuICAgICAgc3RvcmFnZS5nbygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuICAgIF92aWRlby5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBfaW5pdGlhbFBsYXkgPSBmYWxzZTtcbiAgICBfdmlld2VyUGF1c2VkID0gZmFsc2U7XG4gICAgX3ZpZGVvLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZXJQYXVzZWQoKSB7XG4gICAgcmV0dXJuIF91c2VyUGF1c2VkO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImlzSW5pdGlhbFBsYXlcIjogaXNJbml0aWFsUGxheSxcbiAgICBcImluaXRcIjogaW5pdCxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwidXNlclBhdXNlZFwiOiB1c2VyUGF1c2VkXG4gIH07XG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgUmlzZVZpc2lvbiAqL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLFxuICAgIGlkID0gcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgLy8gRGlzYWJsZSBjb250ZXh0IG1lbnUgKHJpZ2h0IGNsaWNrIG1lbnUpXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnN0b3AoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZGl0aW9uYWxQYXJhbXMobmFtZXMsIHZhbHVlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIG5hbWVzWzBdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLnNldEFkZGl0aW9uYWxQYXJhbXMoSlNPTi5wYXJzZSh2YWx1ZXNbMF0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21wYW55SWQobmFtZSwgdmFsdWUpIHtcbiAgICBpZiAobmFtZSAmJiBuYW1lID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNldENvbXBhbnlJZCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xuICB9XG5cbiAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfcGF1c2VfXCIgKyBpZCwgcGF1c2UpO1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGNvbXBhbnlJZCk7XG5cbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFwiY29tcGFueUlkXCIpO1xuXG4gIH1cblxufSkod2luZG93LCBnYWRnZXRzKTtcblxuXG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMiddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=