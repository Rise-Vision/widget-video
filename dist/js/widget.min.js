(function(){function e(e){function n(n,t,r,i,o,s){for(;o>=0&&s>o;o+=e){var a=i?i[o]:o;r=t(r,n[a],a,n)}return r}return function(t,r,i,o){r=V(r,o,4);var s=!O(t)&&y.keys(t),a=(s||t).length,u=e>0?0:a-1;return arguments.length<3&&(i=t[s?s[u]:u],u+=e),n(t,r,i,s,u,a)}}function n(e){return function(n,t,r){t=R(t,r);for(var i=C(n),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(t(n[o],o,n))return o;return-1}}function t(e,n,t){return function(r,i,o){var s=0,a=C(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(t&&o&&a)return o=t(r,i),r[o]===i?o:-1;if(i!==i)return o=n(c.call(r,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&a>o;o+=e)if(r[o]===i)return o;return-1}}function r(e,n){var t=A.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||a,o="constructor";for(y.has(e,o)&&!y.contains(n,o)&&n.push(o);t--;)o=A[t],o in e&&e[o]!==i[o]&&!y.contains(n,o)&&n.push(o)}var i=this,o=i._,s=Array.prototype,a=Object.prototype,u=Function.prototype,l=s.push,c=s.slice,f=a.toString,d=a.hasOwnProperty,p=Array.isArray,g=Object.keys,v=u.bind,h=Object.create,m=function(){},y=function(e){return e instanceof y?e:this instanceof y?(this._wrapped=e,void 0):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var V=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)};case 4:return function(t,r,i,o){return e.call(n,t,r,i,o)}}return function(){return e.apply(n,arguments)}},R=function(e,n,t){return null==e?y.identity:y.isFunction(e)?V(e,n,t):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,n){return R(e,n,1/0)};var E=function(e,n){return function(t){var r=arguments.length;if(2>r||null==t)return t;for(var i=1;r>i;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;a>u;u++){var l=s[u];n&&void 0!==t[l]||(t[l]=o[l])}return t}},w=function(e){if(!y.isObject(e))return{};if(h)return h(e);m.prototype=e;var n=new m;return m.prototype=null,n},b=function(e){return function(n){return null==n?void 0:n[e]}},_=Math.pow(2,53)-1,C=b("length"),O=function(e){var n=C(e);return"number"==typeof n&&n>=0&&_>=n};y.each=y.forEach=function(e,n,t){n=V(n,t);var r,i;if(O(e))for(r=0,i=e.length;i>r;r++)n(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;i>r;r++)n(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,n,t){n=R(n,t);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=Array(i),s=0;i>s;s++){var a=r?r[s]:s;o[s]=n(e[a],a,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,n,t){var r;return r=O(e)?y.findIndex(e,n,t):y.findKey(e,n,t),void 0!==r&&-1!==r?e[r]:void 0},y.filter=y.select=function(e,n,t){var r=[];return n=R(n,t),y.each(e,function(e,t,i){n(e,t,i)&&r.push(e)}),r},y.reject=function(e,n,t){return y.filter(e,y.negate(R(n)),t)},y.every=y.all=function(e,n,t){n=R(n,t);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var s=r?r[o]:o;if(!n(e[s],s,e))return!1}return!0},y.some=y.any=function(e,n,t){n=R(n,t);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var s=r?r[o]:o;if(n(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,n,t,r){return O(e)||(e=y.values(e)),("number"!=typeof t||r)&&(t=0),y.indexOf(e,n,t)>=0},y.invoke=function(e,n){var t=c.call(arguments,2),r=y.isFunction(n);return y.map(e,function(e){var i=r?n:e[n];return null==i?i:i.apply(e,t)})},y.pluck=function(e,n){return y.map(e,y.property(n))},y.where=function(e,n){return y.filter(e,y.matcher(n))},y.findWhere=function(e,n){return y.find(e,y.matcher(n))},y.max=function(e,n,t){var r,i,o=-1/0,s=-1/0;if(null==n&&null!=e){e=O(e)?e:y.values(e);for(var a=0,u=e.length;u>a;a++)r=e[a],r>o&&(o=r)}else n=R(n,t),y.each(e,function(e,t,r){i=n(e,t,r),(i>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},y.min=function(e,n,t){var r,i,o=1/0,s=1/0;if(null==n&&null!=e){e=O(e)?e:y.values(e);for(var a=0,u=e.length;u>a;a++)r=e[a],o>r&&(o=r)}else n=R(n,t),y.each(e,function(e,t,r){i=n(e,t,r),(s>i||1/0===i&&1/0===o)&&(o=e,s=i)});return o},y.shuffle=function(e){for(var n,t=O(e)?e:y.values(e),r=t.length,i=Array(r),o=0;r>o;o++)n=y.random(0,o),n!==o&&(i[o]=i[n]),i[n]=t[o];return i},y.sample=function(e,n,t){return null==n||t?(O(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,n))},y.sortBy=function(e,n,t){return n=R(n,t),y.pluck(y.map(e,function(e,t,r){return{value:e,index:t,criteria:n(e,t,r)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(r>t||void 0===r)return-1}return e.index-n.index}),"value")};var T=function(e){return function(n,t,r){var i={};return t=R(t,r),y.each(n,function(r,o){var s=t(r,o,n);e(i,r,s)}),i}};y.groupBy=T(function(e,n,t){y.has(e,t)?e[t].push(n):e[t]=[n]}),y.indexBy=T(function(e,n,t){e[t]=n}),y.countBy=T(function(e,n,t){y.has(e,t)?e[t]++:e[t]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):O(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:O(e)?e.length:y.keys(e).length},y.partition=function(e,n,t){n=R(n,t);var r=[],i=[];return y.each(e,function(e,t,o){(n(e,t,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:y.initial(e,e.length-n)},y.initial=function(e,n,t){return c.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},y.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:y.rest(e,Math.max(0,e.length-n))},y.rest=y.tail=y.drop=function(e,n,t){return c.call(e,null==n||t?1:n)},y.compact=function(e){return y.filter(e,y.identity)};var S=function(e,n,t,r){for(var i=[],o=0,s=r||0,a=C(e);a>s;s++){var u=e[s];if(O(u)&&(y.isArray(u)||y.isArguments(u))){n||(u=S(u,n,t));var l=0,c=u.length;for(i.length+=c;c>l;)i[o++]=u[l++]}else t||(i[o++]=u)}return i};y.flatten=function(e,n){return S(e,n,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,n,t,r){y.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=R(t,r));for(var i=[],o=[],s=0,a=C(e);a>s;s++){var u=e[s],l=t?t(u,s,e):u;n?(s&&o===l||i.push(u),o=l):t?y.contains(o,l)||(o.push(l),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(S(arguments,!0,!0))},y.intersection=function(e){for(var n=[],t=arguments.length,r=0,i=C(e);i>r;r++){var o=e[r];if(!y.contains(n,o)){for(var s=1;t>s&&y.contains(arguments[s],o);s++);s===t&&n.push(o)}}return n},y.difference=function(e){var n=S(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(n,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var n=e&&y.max(e,C).length||0,t=Array(n),r=0;n>r;r++)t[r]=y.pluck(e,r);return t},y.object=function(e,n){for(var t={},r=0,i=C(e);i>r;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t},y.findIndex=n(1),y.findLastIndex=n(-1),y.sortedIndex=function(e,n,t,r){t=R(t,r,1);for(var i=t(n),o=0,s=C(e);s>o;){var a=Math.floor((o+s)/2);t(e[a])<i?o=a+1:s=a}return o},y.indexOf=t(1,y.findIndex,y.sortedIndex),y.lastIndexOf=t(-1,y.findLastIndex),y.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var r=Math.max(Math.ceil((n-e)/t),0),i=Array(r),o=0;r>o;o++,e+=t)i[o]=e;return i};var I=function(e,n,t,r,i){if(!(r instanceof n))return e.apply(t,i);var o=w(e.prototype),s=e.apply(o,i);return y.isObject(s)?s:o};y.bind=function(e,n){if(v&&e.bind===v)return v.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var t=c.call(arguments,2),r=function(){return I(e,r,n,this,t.concat(c.call(arguments)))};return r},y.partial=function(e){var n=c.call(arguments,1),t=function(){for(var r=0,i=n.length,o=Array(i),s=0;i>s;s++)o[s]=n[s]===y?arguments[r++]:n[s];for(;r<arguments.length;)o.push(arguments[r++]);return I(e,t,this,this,o)};return t},y.bindAll=function(e){var n,t,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(n=1;r>n;n++)t=arguments[n],e[t]=y.bind(e[t],e);return e},y.memoize=function(e,n){var t=function(r){var i=t.cache,o=""+(n?n.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return t.cache={},t},y.delay=function(e,n){var t=c.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,n,t){var r,i,o,s=null,a=0;t||(t={});var u=function(){a=t.leading===!1?0:y.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){var l=y.now();a||t.leading!==!1||(a=l);var c=n-(l-a);return r=this,i=arguments,0>=c||c>n?(s&&(clearTimeout(s),s=null),a=l,o=e.apply(r,i),s||(r=i=null)):s||t.trailing===!1||(s=setTimeout(u,c)),o}},y.debounce=function(e,n,t){var r,i,o,s,a,u=function(){var l=y.now()-s;n>l&&l>=0?r=setTimeout(u,n-l):(r=null,t||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=y.now();var l=t&&!r;return r||(r=setTimeout(u,n)),l&&(a=e.apply(o,i),o=i=null),a}},y.wrap=function(e,n){return y.partial(n,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},y.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},y.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),1>=e&&(n=null),t}},y.once=y.partial(y.before,2);var x=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(g)return g(e);var n=[];for(var t in e)y.has(e,t)&&n.push(t);return x&&r(e,n),n},y.allKeys=function(e){if(!y.isObject(e))return[];var n=[];for(var t in e)n.push(t);return x&&r(e,n),n},y.values=function(e){for(var n=y.keys(e),t=n.length,r=Array(t),i=0;t>i;i++)r[i]=e[n[i]];return r},y.mapObject=function(e,n,t){n=R(n,t);for(var r,i=y.keys(e),o=i.length,s={},a=0;o>a;a++)r=i[a],s[r]=n(e[r],r,e);return s},y.pairs=function(e){for(var n=y.keys(e),t=n.length,r=Array(t),i=0;t>i;i++)r[i]=[n[i],e[n[i]]];return r},y.invert=function(e){for(var n={},t=y.keys(e),r=0,i=t.length;i>r;r++)n[e[t[r]]]=t[r];return n},y.functions=y.methods=function(e){var n=[];for(var t in e)y.isFunction(e[t])&&n.push(t);return n.sort()},y.extend=E(y.allKeys),y.extendOwn=y.assign=E(y.keys),y.findKey=function(e,n,t){n=R(n,t);for(var r,i=y.keys(e),o=0,s=i.length;s>o;o++)if(r=i[o],n(e[r],r,e))return r},y.pick=function(e,n,t){var r,i,o={},s=e;if(null==s)return o;y.isFunction(n)?(i=y.allKeys(s),r=V(n,t)):(i=S(arguments,!1,!1,1),r=function(e,n,t){return n in t},s=Object(s));for(var a=0,u=i.length;u>a;a++){var l=i[a],c=s[l];r(c,l,s)&&(o[l]=c)}return o},y.omit=function(e,n,t){if(y.isFunction(n))n=y.negate(n);else{var r=y.map(S(arguments,!1,!1,1),String);n=function(e,n){return!y.contains(r,n)}}return y.pick(e,n,t)},y.defaults=E(y.allKeys,!0),y.create=function(e,n){var t=w(e);return n&&y.extendOwn(t,n),t},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,n){return n(e),e},y.isMatch=function(e,n){var t=y.keys(n),r=t.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var s=t[o];if(n[s]!==i[s]||!(s in i))return!1}return!0};var L=function(e,n,t,r){if(e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof y&&(e=e._wrapped),n instanceof y&&(n=n._wrapped);var i=f.call(e);if(i!==f.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,a=n.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],r=r||[];for(var u=t.length;u--;)if(t[u]===e)return r[u]===n;if(t.push(e),r.push(n),o){if(u=e.length,u!==n.length)return!1;for(;u--;)if(!L(e[u],n[u],t,r))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(n).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(n,l)||!L(e[l],n[l],t,r))return!1}return t.pop(),r.pop(),!0};y.isEqual=function(e,n){return L(e,n)},y.isEmpty=function(e){return null==e?!0:O(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(n){return f.call(n)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,n){return null!=e&&d.call(e,n)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=b,y.propertyOf=function(e){return null==e?function(){}:function(n){return e[n]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(n){return y.isMatch(n,e)}},y.times=function(e,n,t){var r=Array(Math.max(0,e));n=V(n,t,1);for(var i=0;e>i;i++)r[i]=n(i);return r},y.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=y.invert(N),F=function(e){var n=function(n){return e[n]},t="(?:"+y.keys(e).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,n):e}};y.escape=F(N),y.unescape=F(k),y.result=function(e,n,t){var r=null==e?void 0:e[n];return void 0===r&&(r=t),y.isFunction(r)?r.call(e):r};var j=0;y.uniqueId=function(e){var n=++j+"";return e?e+n:n},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,D=function(e){return"\\"+M[e]};y.template=function(e,n,t){!n&&t&&(n=t),n=y.defaults({},n,y.templateSettings);var r=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(n,t,r,s,a){return o+=e.slice(i,a).replace(U,D),i=a+n.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(e){return s.call(this,e,y)},l=n.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},y.chain=function(e){var n=y(e);return n._chain=!0,n};var G=function(e,n){return e._chain?y(n).chain():n};y.mixin=function(e){y.each(y.functions(e),function(n){var t=y[n]=e[n];y.prototype[n]=function(){var e=[this._wrapped];return l.apply(e,arguments),G(this,t.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=s[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],G(this,t)}}),y.each(["concat","join","slice"],function(e){var n=s[e];y.prototype[e]=function(){return G(this,n.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,n){var r=null;e.event?(r=e,r.file_url&&(r.file_format=t(r.file_url)),r.company_id=u,r.display_id=a,l&&(r.version=l),n(r)):n(r)}function n(){var e=new Date,n=e.getUTCFullYear(),t=e.getUTCMonth()+1,r=e.getUTCDate();return 10>t&&(t="0"+t),10>r&&(r="0"+r),n+t+r}function t(e){var n,t=/[?#&]/;return e&&"string"==typeof e?(n=e.substr(e.lastIndexOf(".")+1),t.test(n)&&(n=n.substr(0,-1!==n.indexOf("?")?n.indexOf("?"):n.length),n=n.substr(0,-1!==n.indexOf("#")?n.indexOf("#"):n.length),n=n.substr(0,-1!==n.indexOf("&")?n.indexOf("&"):n.length)),n.toLowerCase()):null}function r(e){var t={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:n(),rows:[{insertId:""}]},r=JSON.parse(JSON.stringify(t));return r.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),r.rows[0].json=JSON.parse(JSON.stringify(e)),r.rows[0].json.ts=(new Date).toISOString(),r}function i(n,t){e(t,function(e){null!==e&&RiseVision.Common.Logger.log(n,e)})}function o(e,n){u=e,a=n}function s(e){l=e}var a="",u="",l=null;return{getInsertData:r,getFileFormat:t,logEvent:i,setIds:o,setVersion:s}}(),RiseVision.Common.Logger=function(e){"use strict";function n(e){var n=new XMLHttpRequest;return new Date-l<358e4?e({}):(n.open("POST",i,!0),n.onloadend=function(){var t=JSON.parse(n.response);e({token:t.access_token,refreshedAt:new Date})},n.send(),void 0)}function t(e){return s&&u===e}function r(r,i){function f(n){var t,s,a=new XMLHttpRequest;s=o.replace("TABLE_ID",r),l=n.refreshedAt||l,c=n.token||c,t=e.getInsertData(i),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+c),i.cb&&"function"==typeof i.cb&&(a.onloadend=function(){i.cb(a.response)}),a.send(JSON.stringify(t))}if(!(!r||!i||i.hasOwnProperty("event")&&!i.event||i.hasOwnProperty("event")&&t(i.event)))return s=!0,u=i.event,setTimeout(function(){s=!1},a),n(f)}var i="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",o="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,u="",l=0,c="";return{log:r}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,n){var t="font-family: "+decodeURIComponent(n.font.family).replace(/'/g,"")+"; ",r="color: "+(n.color?n.color:n.forecolor)+"; ",i="font-size: "+(-1===n.size.indexOf("px")?n.size+"px; ":n.size+"; "),o="font-weight: "+(n.bold?"bold":"normal")+"; ",s="font-style: "+(n.italic?"italic":"normal")+"; ",a="text-decoration: "+(n.underline?"underline":"none")+"; ",u="background-color: "+(n.highlightColor?n.highlightColor:n.backcolor)+";";return"."+e+" {"+t+r+i+o+s+a+u+"}"}function n(e){for(var n=document.createElement("style"),t=0,r=e.length;r>t;t++)n.appendChild(document.createTextNode(e[t]));document.head.appendChild(n)}function t(t,o){function s(){o&&"function"==typeof o&&o()}function a(){s()}var u=null,l=[],c=[],f=[];if(!t||0===t.length)return s(),void 0;t.forEach(function(t){t.class&&t.fontStyle&&n([e(t.class,t.fontStyle)])});for(var d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"google"===t[d].fontStyle.font.type&&(u=t[d].fontStyle.font.family.split(",")[0],u=u.replace(/'/g,""),l.push(u));for(d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"custom"===t[d].fontStyle.font.type&&(c.push(decodeURIComponent(t[d].fontStyle.font.family).replace(/'/g,"")),f.push(t[d].fontStyle.font.url.replace(/'/g,"\\'")));if(0===l.length&&0===c.length)s();else{for(var p=0;p<c.length;p+=1)r(c[p],f[p]);l.length>0?i(l,a):s()}}function r(e,n,t){var r=null,i="font-family: "+e+"; src: url('"+n+"');";t=t||document,r=t.styleSheets[0],null!==r&&r.addRule("@font-face",i)}function i(e,n){WebFont.load({google:{families:e},active:function(){n&&"function"==typeof n&&n()},inactive:function(){n&&"function"==typeof n&&n()},timeout:2e3})}function o(e){for(var n=e.length,t=[],r=0;n>r;r++)t[r]=new Image,t[r].src=e[r]}function s(e){for(var n,t=window.location.search.substring(1),r=t.split("&"),i=0;i<r.length;i++)if(n=r[i].split("="),n[0]==e)return decodeURIComponent(n[1]);return""}function a(e){var n="";switch(e){case 404:n="The file does not exist or cannot be accessed.";break;case 507:n="There is not enough disk space to save the file on Rise Cache.";break;default:n="There was a problem retrieving the file from Rise Cache."}return n}function u(e){var n=document.createElement("div");return n.innerHTML=e,n.textContent}function l(e,n){var t=new XMLHttpRequest;if(e&&n&&"function"==typeof n){t.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{t.send(),n(t.status>=200&&t.status<304)}catch(r){n(!1)}}}function c(){var e=25,n=navigator.userAgent.match(/Chrome\/(\S+)/),t=n?n[1]:0;return t&&(t=parseInt(t.substring(0,t.indexOf("."))),e>=t)?!0:!1}return{getQueryParameter:s,getFontCssStyle:e,addCSSRules:n,loadFonts:t,loadCustomFont:r,loadGoogleFonts:i,preloadImages:o,getRiseCacheErrorMessage:a,unescapeHTML:u,hasInternetConnection:l,isLegacy:c}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var n=new XMLHttpRequest,t=this;e&&"function"==typeof e&&(a?n.open("GET",i,!0):n.open("GET",i+"ping?callback=_",!0),n.onreadystatechange=function(){try{if(4===n.readyState)if(o=!0,200===n.status)s=!0,e(!0,n.responseText);else{if(404===n.status)return a=!0,t.ping(e);console.debug("Rise Cache is not running"),s=!1,e(!1,null)}}catch(r){console.debug("Caught exception: ",r.description)}},n.send())}function n(e,n,t){function r(){var n,r,o;s?n=a?i+"files?url="+encodeURIComponent(e):t?i+"?url="+encodeURIComponent(e):i+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):t?n=e:(r=e.split("?"),o=1===r.length?"?":"&",n=e+o+"cb="+(new Date).getTime()),u("HEAD",n)}function u(e,t){var r=new XMLHttpRequest,i={xhr:r,url:t};s?(r.open(e,t,!0),r.addEventListener("loadend",function(){var o=r.status||0;o>=200&&300>o?n(i):"HEAD"===e?u("GET",t):n(i,new Error("The request failed with status code: "+o))}),r.send()):n(i)}if(e&&n&&"function"==typeof n)return o?r():this.ping(r)}function t(e){return e&&"function"==typeof e?o?(e(s),void 0):this.ping(function(){e(s)}):void 0}function r(e){return e&&"function"==typeof e?o?(e(a),void 0):this.ping(function(){e(a)}):void 0}var i="//localhost:9494/",o=!1,s=!1,a=!1;return{getFile:n,isRiseCacheRunning:t,isV2Running:r,ping:e}}();var version="1.1.0";"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod",COMPONENTS_PATH:"components/"},RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,n){"use strict";function t(){n.rpc.call("","rsevent_done",null,S.getString("id")),null!==P&&c(P,!0),c({event:"done"},!1)}function r(){n.rpc.call("","rsevent_ready",null,S.getString("id"),!0,!0,!0,!0,!0)}function i(){clearTimeout(M),M=null}function o(){i(),M=setTimeout(function(){t()},5e3)}function s(){if(F&&F.length>0){if("file"===C)return F[0];if("folder"===C&&j)return F[j]}return null}function a(){return D}function u(){return G}function l(e,n){U=!0,D="undefined"!=typeof n,A.show(e),j=null,N||o()}function c(e,n){n&&(P=e),e.file_url||(e.file_url=s()),RiseVision.Common.LoggerUtils.logEvent(h(),e)}function f(e){"file"===C?F[0]=e:"folder"===C&&(F=e),q=!1,A.hide(),N||v()}function d(e){"file"===C?F[0]=e:"folder"===C&&(F=e),L&&L.update(F),U=!1,G=!1,D=!1,q=!1,P=null}function p(e){q=!0,A.show(e),j=null,N||o()}function g(){N=!0,i(),L&&(k?L.pause():(j=null,L.reset()))}function v(){return O&&(O=!1,c({event:"configuration",event_details:T},!1)),N=!1,c({event:"play"},!1),U?(o(),void 0):q?("file"===C&&I&&I.retry(),void 0):(L?(A.hide(),L.play()):F&&F.length>0&&(L=new RiseVision.Video.Player(b,C),L.init(F)),void 0)}function h(){return"video_v2_events"}function m(){j=null,t()}function y(){A.hide(),!N&&L&&L.play()}function V(e){j=e}function R(e,t){var i;b=_.clone(e),C=t,S=new n.Prefs,document.getElementById("container").style.width=S.getInt("rsW")+"px",document.getElementById("container").style.height=S.getInt("rsH")+"px",b.width=S.getInt("rsW"),b.height=S.getInt("rsH"),b.video.hasOwnProperty("resume")&&(k=b.video.resume),A=new RiseVision.Common.Message(document.getElementById("container"),document.getElementById("messageContainer")),RiseVision.Common.Utilities.isLegacy()?l("This version of Video Widget is not supported on this version of Rise Player. Please use the latest Rise Player version available at https://help.risevision.com/user/create-a-display"):(A.show("Please wait while your video is downloaded."),"file"===C?(i=0!==Object.keys(b.storage).length,i?(T="storage file",I=new RiseVision.Video.StorageFile(b),I.init()):(T="custom",x=new RiseVision.Video.NonStorage(b),x.init())):"folder"===C&&(T="storage folder",I=new RiseVision.Video.StorageFolder(b),I.init())),r()}function E(e){var n=null,t={},r="Sorry, there was a problem playing the video.",i="Error loading media: File could not be played",o="Error loading YouTube: Video could not be played",s="Error loading player: No media sources found",a="Error loading playlist: No playable sources found",u="There was a problem playing that video. It could be that we don't support that format or it is not encoded correctly.",f="The format of that video is not supported";e&&(e.type&&e.message?n=e.type+" - "+e.message:e.type?n=e.type:e.message&&(n=e.message),e.message&&(e.message===i||e.message===o?r=u:(e.message===s||e.message===a)&&(r=f))),t.event="player error",t.event_details=n,G=!0,c(t,!0),l(r)}function w(){g()}var b,C,O=!0,T=null,S=null,I=null,x=null,A=null,L=null,N=!0,k=!0,F=[],j=null,P=null,M=null,U=!1,D=!1,G=!1,q=!1;return{getTableName:h,hasPlayerError:u,hasStorageError:a,logEvent:c,onFileInit:f,onFileRefresh:d,onFileUnavailable:p,pause:g,play:v,setAdditionalParams:R,showError:l,playerEnded:m,playerReady:y,playerError:E,playerItemChange:V,stop:w}}(window,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.PlayerUtils=function(){"use strict";function e(e){for(var n=[],t=0;t<e.length;t+=1)n.push({file:e[t],type:this.getVideoFileType(e[t])});return n}function n(e){var n,t=[".mp4",".webm"],r=e.toLowerCase(),i=null;for(n=0;n<=t.length;n+=1)if(-1!==r.indexOf(t[n])){i=t[n].substr(t[n].lastIndexOf(".")+1);break}return i}return{getPlaylist:e,getVideoFileType:n}}();var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFile=function(e){"use strict";function n(){var n=document.getElementById("videoStorage");n&&(n.addEventListener("rise-storage-response",function(e){e.detail&&e.detail.url&&(r?(r=!1,RiseVision.Video.onFileInit(e.detail.url)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Video.onFileRefresh(e.detail.url):(RiseVision.Video.hasStorageError()||RiseVision.Video.hasPlayerError())&&RiseVision.Video.onFileRefresh(e.detail.url)))}),n.addEventListener("rise-storage-api-error",function(e){var n={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),n.addEventListener("rise-storage-no-file",function(e){var n={event:"storage file not found",event_details:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected video does not exist or has been moved to Trash.")}),n.addEventListener("rise-storage-file-throttled",function(e){var n={event:"storage file throttled",file_url:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected video is temporarily unavailable.")}),n.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),n.addEventListener("rise-storage-subscription-error",function(e){var n={event:"storage subscription error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0)}),n.addEventListener("rise-storage-error",function(e){var n={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),n.addEventListener("rise-cache-error",function(e){var n={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Video.logEvent(n,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var r=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Video.showError(r)}),n.addEventListener("rise-cache-not-running",function(e){var n={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(n,!0)}),n.addEventListener("rise-cache-file-unavailable",function(){RiseVision.Video.onFileUnavailable("File is downloading")}),n.setAttribute("folder",e.storage.folder),n.setAttribute("fileName",e.storage.fileName),n.setAttribute("companyId",e.storage.companyId),n.setAttribute("env",config.STORAGE_ENV),n.go())}function t(){var e=document.getElementById("videoStorage");e&&e.go()}var r=!0;return{init:n,retry:t}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFolder=function(e){"use strict";function n(){return _.pluck(u,"url")}function t(e){return _.find(u,function(n){return e.name===n.name})}function r(e){var n=t(e);n&&u.splice(u.indexOf(n),1)}function i(e){var n=t(e);n&&(n.url=e.url)}function o(e){var n=t(e);n||(e.fileName=e.name.slice(e.name.lastIndexOf("/")+1,e.name.lastIndexOf(".")).toLowerCase(),u.splice(_.sortedIndex(u,e,"fileName"),0,e))}function s(){var t=document.getElementById("videoStorage");t&&(t.addEventListener("rise-storage-response",function(e){var t=e.detail;if(t.added&&(o(t),a))return a=!1,RiseVision.Video.onFileInit(n()),void 0;if(t.hasOwnProperty("changed"))if(t.changed)i(t);else if(!RiseVision.Video.hasStorageError()&&!RiseVision.Video.hasPlayerError())return;t.deleted&&r(t),RiseVision.Video.onFileRefresh(n())}),t.addEventListener("rise-storage-api-error",function(e){var n={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-empty-folder",function(){var e={event:"storage folder empty"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any videos.")}),t.addEventListener("rise-storage-no-folder",function(e){var n={event:"storage folder doesn't exist",event_details:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected folder does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-folder-invalid",function(){var e={event:"storage folder format(s) invalid"};
RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any supported video formats.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-subscription-error",function(e){var n={event:"storage subscription error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0)}),t.addEventListener("rise-storage-error",function(e){var n={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var n={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Video.logEvent(n,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var r=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Video.showError(r)}),t.addEventListener("rise-cache-not-running",function(e){var n={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(n,!0)}),t.setAttribute("fileType","video"),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("folder",e.storage.folder),t.setAttribute("env",config.STORAGE_ENV),t.go())}var a=!0,u=[];return{init:s}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.NonStorage=function(e){"use strict";function n(e){i.getFile(u,function(e,n){if(n){RiseVision.Video.logEvent({event:"non-storage error",event_details:n.message,file_url:e.url},!0);var r=0;n.message&&(r=+n.message.substring(n.message.indexOf(":")+2));var i=RiseVision.Common.Utilities.getRiseCacheErrorMessage(r);RiseVision.Video.showError(i)}else a?(a=!1,RiseVision.Video.onFileInit(e.url),t()):RiseVision.Video.onFileRefresh(e.url)},e)}function t(){null===s&&(s=setInterval(function(){n(!1)},o))}function r(){u=e.url&&""!==e.url?e.url:e.selector.url,n(!0)}var i=RiseVision.Common.RiseCache,o=9e5,s=null,a=!0,u="";return{init:r}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Player=function(e){"use strict";function n(){RiseVision.Video.playerEnded()}function t(){y||(clearTimeout(V),V=setTimeout(function(){"PLAYING"!==h.getState().toUpperCase()&&h.play()},1e3*v))}function r(e){RiseVision.Video.playerItemChange(e)}function i(e){e&&RiseVision.Video.playerError({type:"video",message:e.message})}function o(e){e&&RiseVision.Video.playerError({type:"setup",message:e.message})}function s(){h.on("setupError",function(e){o(e)}),h.on("ready",function(){h.on("playlistComplete",function(){n()}),h.on("playlistItem",function(e){r(e.index)}),h.on("error",function(e){i(e)}),h.setVolume(e.video.volume),e.video.controls&&v>1&&h.on("pause",function(){t()}),RiseVision.Video.playerReady()})}function a(n){return{controls:e.video.controls,height:e.height,playlist:m.getPlaylist(n),skin:{name:"rise"},stretching:g,width:e.width}}function u(n){h=jwplayer("player"),R=n,g=e.video.scaleToFit?"uniform":"none",p=e.video.controls?e.video.autoplay:!0,e.video.pause?(e.video.pause="string"==typeof e.video.pause?parseInt(e.video.pause,10):e.video.pause,v=isNaN(e.video.pause)?0:e.video.pause):v=0,h.setup(a(n)),s()}function l(){y=!1,E&&(E=!1,h.load(m.getPlaylist(R))),p&&h.play()}function c(){y=!0,clearTimeout(V),"PLAYING"===h.getState().toUpperCase()&&h.pause()}function f(){function e(){h.off("play",e),h.pause()}function n(){h.off("seeked",n),h.pause()}c(),"COMPLETE"!==h.getState().toUpperCase()&&setTimeout(function(){0!==h.getPlaylistIndex()?(h.on("play",e),h.playlistItem(0)):(h.on("seeked",n),h.seek(0))},100)}function d(e){R=e,E=!0}var p,g,v,h=null,m=RiseVision.Video.PlayerUtils,y=!1,V=null,R=null,E=!1;return{init:u,pause:c,play:l,reset:f,update:d}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,n){"use strict";function t(){try{n.style.height=e.style.height}catch(t){console.warn("Can't initialize Message - ",t.message)}}function r(){if(o){for(;n.firstChild;)n.removeChild(n.firstChild);n.style.display="none",e.style.display="block",o=!1}}function i(t){var r,i=document.createDocumentFragment();o?(r=n.querySelector(".message"),r.innerHTML=t):(e.style.display="none",n.style.display="block",r=document.createElement("p"),r.innerHTML=t,r.setAttribute("class","message"),i.appendChild(r),n.appendChild(i),o=!0)}var o=!1;return t(),{hide:r,show:i}},function(e,n){"use strict";function t(e,n){var t=null,r="",i="",o="";Array.isArray(e)&&e.length>0&&Array.isArray(n)&&n.length>0&&("companyId"===e[0]&&(i=n[0]),"displayId"===e[1]&&(o=n[1]?n[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(i,o),RiseVision.Common.LoggerUtils.setVersion(version),"additionalParams"===e[2]&&(t=JSON.parse(n[2]),r=0!==Object.keys(t.storage).length?t.storage.fileName?"file":"folder":"file",RiseVision.Video.setAdditionalParams(t,r)))}function r(){RiseVision.Video.play()}function i(){RiseVision.Video.pause()}function o(){RiseVision.Video.stop()}function s(){u&&""!==u&&(n.rpc.register("rscmd_play_"+u,r),n.rpc.register("rscmd_pause_"+u,i),n.rpc.register("rscmd_stop_"+u,o),n.rpc.register("rsparam_set_"+u,t),n.rpc.call("","rsparam_get",null,u,["companyId","displayId","additionalParams"]))}var a=new n.Prefs,u=a.getString("id");e.oncontextmenu=function(){return!1},RiseVision.Common.RiseCache.isV2Running(function(n){function t(){e.removeEventListener("WebComponentsReady",t),f=!0,c&&f&&s()}function r(){l.removeEventListener("rise-storage-ready",r),c=!0,c&&f&&s()}var i=document.createDocumentFragment(),o=document.createElement("link"),a=document.createElement("script"),u=config.COMPONENTS_PATH+(n?"rise-storage-v2":"rise-storage")+"/rise-storage.html",l=document.createElement("rise-storage"),c=!1,f=!1;a.src=config.COMPONENTS_PATH+"webcomponentsjs/webcomponents-lite.min.js",e.addEventListener("WebComponentsReady",t),document.getElementsByTagName("head")[0].appendChild(a),o.setAttribute("rel","import"),o.setAttribute("href",u),document.getElementsByTagName("head")[0].appendChild(o),l.setAttribute("id","videoStorage"),l.setAttribute("refresh",5),l.addEventListener("rise-storage-ready",r),i.appendChild(l),document.body.appendChild(i)})}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY3JlYXRlUmVkdWNlIiwiZGlyIiwiaXRlcmF0b3IiLCJvYmoiLCJpdGVyYXRlZSIsIm1lbW8iLCJrZXlzIiwiaW5kZXgiLCJsZW5ndGgiLCJjdXJyZW50S2V5IiwiY29udGV4dCIsIm9wdGltaXplQ2IiLCJpc0FycmF5TGlrZSIsIl8iLCJhcmd1bWVudHMiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsImFycmF5IiwicHJlZGljYXRlIiwiY2IiLCJnZXRMZW5ndGgiLCJjcmVhdGVJbmRleEZpbmRlciIsInByZWRpY2F0ZUZpbmQiLCJzb3J0ZWRJbmRleCIsIml0ZW0iLCJpZHgiLCJpIiwiTWF0aCIsIm1heCIsIm1pbiIsInNsaWNlIiwiY2FsbCIsImlzTmFOIiwiY29sbGVjdE5vbkVudW1Qcm9wcyIsIm5vbkVudW1JZHgiLCJub25FbnVtZXJhYmxlUHJvcHMiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiaXNGdW5jdGlvbiIsInByb3RvdHlwZSIsIk9ialByb3RvIiwicHJvcCIsImhhcyIsImNvbnRhaW5zIiwicHVzaCIsInJvb3QiLCJ0aGlzIiwicHJldmlvdXNVbmRlcnNjb3JlIiwiQXJyYXlQcm90byIsIkFycmF5IiwiT2JqZWN0IiwiRnVuY1Byb3RvIiwiRnVuY3Rpb24iLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwibmF0aXZlSXNBcnJheSIsImlzQXJyYXkiLCJuYXRpdmVLZXlzIiwibmF0aXZlQmluZCIsImJpbmQiLCJuYXRpdmVDcmVhdGUiLCJjcmVhdGUiLCJDdG9yIiwiX3dyYXBwZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiVkVSU0lPTiIsImZ1bmMiLCJhcmdDb3VudCIsInZhbHVlIiwib3RoZXIiLCJjb2xsZWN0aW9uIiwiYWNjdW11bGF0b3IiLCJhcHBseSIsImlkZW50aXR5IiwiaXNPYmplY3QiLCJtYXRjaGVyIiwicHJvcGVydHkiLCJJbmZpbml0eSIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJ1bmRlZmluZWRPbmx5Iiwic291cmNlIiwibCIsImtleSIsImJhc2VDcmVhdGUiLCJyZXN1bHQiLCJNQVhfQVJSQVlfSU5ERVgiLCJwb3ciLCJlYWNoIiwiZm9yRWFjaCIsIm1hcCIsImNvbGxlY3QiLCJyZXN1bHRzIiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJsaXN0IiwicmVqZWN0IiwibmVnYXRlIiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiaW5jbHVkZXMiLCJpbmNsdWRlIiwiZnJvbUluZGV4IiwiZ3VhcmQiLCJ2YWx1ZXMiLCJpbmRleE9mIiwiaW52b2tlIiwibWV0aG9kIiwiYXJncyIsImlzRnVuYyIsInBsdWNrIiwid2hlcmUiLCJhdHRycyIsImZpbmRXaGVyZSIsImNvbXB1dGVkIiwibGFzdENvbXB1dGVkIiwic2h1ZmZsZSIsInJhbmQiLCJzZXQiLCJzaHVmZmxlZCIsInJhbmRvbSIsInNhbXBsZSIsIm4iLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJ0b0FycmF5Iiwic2l6ZSIsInBhcnRpdGlvbiIsInBhc3MiLCJmYWlsIiwiZmlyc3QiLCJoZWFkIiwidGFrZSIsImluaXRpYWwiLCJsYXN0IiwicmVzdCIsInRhaWwiLCJkcm9wIiwiY29tcGFjdCIsImZsYXR0ZW4iLCJpbnB1dCIsInNoYWxsb3ciLCJzdHJpY3QiLCJzdGFydEluZGV4Iiwib3V0cHV0IiwiaXNBcmd1bWVudHMiLCJqIiwibGVuIiwid2l0aG91dCIsImRpZmZlcmVuY2UiLCJ1bmlxIiwidW5pcXVlIiwiaXNTb3J0ZWQiLCJpc0Jvb2xlYW4iLCJzZWVuIiwidW5pb24iLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwiemlwIiwidW56aXAiLCJvYmplY3QiLCJmaW5kTGFzdEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsImZsb29yIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiZXhlY3V0ZUJvdW5kIiwic291cmNlRnVuYyIsImJvdW5kRnVuYyIsImNhbGxpbmdDb250ZXh0Iiwic2VsZiIsIlR5cGVFcnJvciIsImJvdW5kIiwiY29uY2F0IiwicGFydGlhbCIsImJvdW5kQXJncyIsInBvc2l0aW9uIiwiYmluZEFsbCIsIkVycm9yIiwibWVtb2l6ZSIsImhhc2hlciIsImNhY2hlIiwiYWRkcmVzcyIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwib3B0aW9ucyIsInRpbWVvdXQiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsIm5vdyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsInRyYWlsaW5nIiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJ0aW1lc3RhbXAiLCJjYWxsTm93Iiwid3JhcCIsIndyYXBwZXIiLCJjb21wb3NlIiwiYWZ0ZXIiLCJ0aW1lcyIsImJlZm9yZSIsIm9uY2UiLCJoYXNFbnVtQnVnIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJhbGxLZXlzIiwibWFwT2JqZWN0IiwicGFpcnMiLCJpbnZlcnQiLCJmdW5jdGlvbnMiLCJtZXRob2RzIiwibmFtZXMiLCJleHRlbmQiLCJleHRlbmRPd24iLCJhc3NpZ24iLCJwaWNrIiwib2l0ZXJhdGVlIiwib21pdCIsIlN0cmluZyIsImRlZmF1bHRzIiwicHJvcHMiLCJjbG9uZSIsInRhcCIsImludGVyY2VwdG9yIiwiaXNNYXRjaCIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiYXJlQXJyYXlzIiwiYUN0b3IiLCJiQ3RvciIsInBvcCIsImlzRXF1YWwiLCJpc0VtcHR5IiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsInR5cGUiLCJuYW1lIiwiSW50OEFycmF5IiwiaXNGaW5pdGUiLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJjb25zdGFudCIsIm5vb3AiLCJwcm9wZXJ0eU9mIiwibWF0Y2hlcyIsImFjY3VtIiwiRGF0ZSIsImdldFRpbWUiLCJlc2NhcGVNYXAiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJgIiwidW5lc2NhcGVNYXAiLCJjcmVhdGVFc2NhcGVyIiwiZXNjYXBlciIsIm1hdGNoIiwiam9pbiIsInRlc3RSZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlUmVnZXhwIiwic3RyaW5nIiwidGVzdCIsInJlcGxhY2UiLCJlc2NhcGUiLCJ1bmVzY2FwZSIsImZhbGxiYWNrIiwiaWRDb3VudGVyIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJpZCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwibm9NYXRjaCIsImVzY2FwZXMiLCJcXCIsIlxyIiwiXG4iLCLigKgiLCLigKkiLCJlc2NhcGVDaGFyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJvbGRTZXR0aW5ncyIsIm9mZnNldCIsInZhcmlhYmxlIiwicmVuZGVyIiwiZSIsImRhdGEiLCJhcmd1bWVudCIsImNoYWluIiwiaW5zdGFuY2UiLCJfY2hhaW4iLCJtaXhpbiIsInZhbHVlT2YiLCJ0b0pTT04iLCJkZWZpbmUiLCJhbWQiLCJXSURHRVRfQ09NTU9OX0NPTkZJRyIsIkFVVEhfUEFUSF9VUkwiLCJMT0dHRVJfQ0xJRU5UX0lEIiwiTE9HR0VSX0NMSUVOVF9TRUNSRVQiLCJMT0dHRVJfUkVGUkVTSF9UT0tFTiIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwianNvbiIsImV2ZW50IiwiZmlsZV91cmwiLCJmaWxlX2Zvcm1hdCIsImdldEZpbGVGb3JtYXQiLCJjb21wYW55X2lkIiwiY29tcGFueUlkIiwiZGlzcGxheV9pZCIsImRpc3BsYXlJZCIsInZlcnNpb24iLCJnZXRTdWZmaXgiLCJkYXRlIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJ1cmwiLCJzdHIiLCJoYXNQYXJhbXMiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwidG9VcHBlckNhc2UiLCJ0cyIsInRvSVNPU3RyaW5nIiwibG9nRXZlbnQiLCJ0YWJsZSIsIkxvZ2dlciIsImxvZyIsInNldElkcyIsImNvbXBhbnkiLCJkaXNwbGF5Iiwic2V0VmVyc2lvbiIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwic2V0UmVxdWVzdEhlYWRlciIsInRocm90dGxlRGVsYXkiLCJVdGlsaXRpZXMiLCJnZXRGb250Q3NzU3R5bGUiLCJmb250T2JqIiwiZmFtaWx5IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZm9udCIsImNvbG9yIiwiZm9yZWNvbG9yIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImxvYWRGb250cyIsImNhbGxiYWNrIiwib25Hb29nbGVGb250c0xvYWRlZCIsImZhbWlsaWVzIiwiZ29vZ2xlRmFtaWxpZXMiLCJjdXN0b21GYW1pbGllcyIsImN1c3RvbVVybHMiLCJjbGFzcyIsImZvbnRTdHlsZSIsInNwbGl0IiwibG9hZEN1c3RvbUZvbnQiLCJsb2FkR29vZ2xlRm9udHMiLCJjb250ZW50RG9jIiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiV2ViRm9udCIsImxvYWQiLCJnb29nbGUiLCJhY3RpdmUiLCJpbmFjdGl2ZSIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJzcmMiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwicGFpciIsInF1ZXJ5Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJ2YXJzIiwiZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsImVycm9yTWVzc2FnZSIsInVuZXNjYXBlSFRNTCIsImh0bWwiLCJkaXYiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImhhc0ludGVybmV0Q29ubmVjdGlvbiIsImZpbGVQYXRoIiwic3RhdHVzIiwiaXNMZWdhY3kiLCJsZWdhY3lWZXJzaW9uIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwicGFyc2VJbnQiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiciIsIl9pc1YyUnVubmluZyIsIkJBU0VfQ0FDSEVfVVJMIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIl9waW5nUmVjZWl2ZWQiLCJfaXNDYWNoZVJ1bm5pbmciLCJyZXNwb25zZVRleHQiLCJjb25zb2xlIiwiZGVidWciLCJkZXNjcmlwdGlvbiIsImdldEZpbGUiLCJmaWxlVXJsIiwibm9jYWNoZWJ1c3RlciIsImZpbGVSZXF1ZXN0Iiwic2VwYXJhdG9yIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWFrZVJlcXVlc3QiLCJyZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImlzUmlzZUNhY2hlUnVubmluZyIsImlzVjJSdW5uaW5nIiwiYW5ndWxhciIsImNvbmZpZyIsIlNUT1JBR0VfRU5WIiwiQ09NUE9ORU5UU19QQVRIIiwiVmlkZW8iLCJnYWRnZXRzIiwiX2RvbmUiLCJycGMiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJfZXJyb3JMb2ciLCJfcmVhZHkiLCJfY2xlYXJFcnJvclRpbWVyIiwiX2Vycm9yVGltZXIiLCJfc3RhcnRFcnJvclRpbWVyIiwiX2dldEN1cnJlbnRGaWxlIiwiX2N1cnJlbnRGaWxlcyIsIl9tb2RlIiwiX2N1cnJlbnRQbGF5bGlzdEluZGV4IiwiaGFzU3RvcmFnZUVycm9yIiwiX3N0b3JhZ2VFcnJvckZsYWciLCJoYXNQbGF5ZXJFcnJvciIsIl9wbGF5ZXJFcnJvckZsYWciLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwiaXNTdG9yYWdlRXJyb3IiLCJfZXJyb3JGbGFnIiwiX21lc3NhZ2UiLCJzaG93IiwiX3ZpZXdlclBhdXNlZCIsImlzRXJyb3IiLCJnZXRUYWJsZU5hbWUiLCJvbkZpbGVJbml0IiwiX3VuYXZhaWxhYmxlRmxhZyIsImhpZGUiLCJwbGF5Iiwib25GaWxlUmVmcmVzaCIsIl9wbGF5ZXIiLCJ1cGRhdGUiLCJvbkZpbGVVbmF2YWlsYWJsZSIsInBhdXNlIiwiX3Jlc3VtZSIsInJlc2V0IiwiX2lzTG9hZGluZyIsImV2ZW50X2RldGFpbHMiLCJfY29uZmlnRGV0YWlscyIsIl9zdG9yYWdlIiwicmV0cnkiLCJQbGF5ZXIiLCJfYWRkaXRpb25hbFBhcmFtcyIsImluaXQiLCJwbGF5ZXJFbmRlZCIsInBsYXllclJlYWR5IiwicGxheWVySXRlbUNoYW5nZSIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJtb2RlIiwiaXNTdG9yYWdlRmlsZSIsIlByZWZzIiwiZ2V0RWxlbWVudEJ5SWQiLCJ3aWR0aCIsImdldEludCIsImhlaWdodCIsInZpZGVvIiwicmVzdW1lIiwiTWVzc2FnZSIsInN0b3JhZ2UiLCJTdG9yYWdlRmlsZSIsIl9ub25TdG9yYWdlIiwiTm9uU3RvcmFnZSIsIlN0b3JhZ2VGb2xkZXIiLCJwbGF5ZXJFcnJvciIsImVycm9yIiwiZGV0YWlscyIsIk1FRElBX0VSUk9SIiwiWU9VVFVCRV9FUlJPUiIsIlBMQVlFUl9FUlJPUiIsIlBMQVlMSVNUX0VSUk9SIiwiRU5DT0RJTkdfTUVTU0FHRSIsIkZPUk1BVF9NRVNTQUdFIiwiUGxheWVyVXRpbHMiLCJnZXRQbGF5bGlzdCIsInBsYXlsaXN0IiwiZmlsZSIsImdldFZpZGVvRmlsZVR5cGUiLCJleHRlbnNpb25zIiwidXJsTG93ZXJjYXNlIiwiZGV0YWlsIiwiX2luaXRpYWxMb2FkIiwiY2hhbmdlZCIsImNvZGUiLCJjdXJyZW50VGFyZ2V0Iiwic2V0QXR0cmlidXRlIiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJnbyIsIl9nZXRVcmxzIiwiX2ZpbGVzIiwiX2dldEV4aXN0aW5nRmlsZSIsImYiLCJfZGVsZXRlRmlsZSIsImV4aXN0aW5nIiwic3BsaWNlIiwiX2NoYW5nZUZpbGUiLCJfYWRkRmlsZSIsImFkZGVkIiwiZGVsZXRlZCIsIl9nZXRGaWxlIiwib21pdENhY2hlQnVzdGVyIiwicmlzZUNhY2hlIiwiX3VybCIsIl9zdGFydFJlZnJlc2hJbnRlcnZhbCIsIl9yZWZyZXNoSW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiX3JlZnJlc2hEdXJhdGlvbiIsInNlbGVjdG9yIiwiX29uQ29tcGxldGUiLCJfb25QYXVzZSIsIl9wYXVzZVRpbWVyIiwiX3BsYXllckluc3RhbmNlIiwiZ2V0U3RhdGUiLCJfcGF1c2VEdXJhdGlvbiIsIl9vblBsYXlsaXN0SXRlbSIsIl9vblBsYXllckVycm9yIiwiX29uU2V0dXBFcnJvciIsIl9jb25maWd1cmVIYW5kbGVycyIsIm9uIiwic2V0Vm9sdW1lIiwidm9sdW1lIiwiY29udHJvbHMiLCJfZ2V0U2V0dXBEYXRhIiwiZmlsZXMiLCJfdXRpbHMiLCJza2luIiwic3RyZXRjaGluZyIsIl9zdHJldGNoaW5nIiwiandwbGF5ZXIiLCJfYXV0b1BsYXkiLCJhdXRvcGxheSIsInNldHVwIiwiX3VwZGF0ZVdhaXRpbmciLCJvblBsYXkiLCJvZmYiLCJvblNlZWtlZCIsImdldFBsYXlsaXN0SW5kZXgiLCJwbGF5bGlzdEl0ZW0iLCJzZWVrIiwibWFpbkNvbnRhaW5lciIsIm1lc3NhZ2VDb250YWluZXIiLCJfaW5pdCIsIndhcm4iLCJfYWN0aXZlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwicCIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb25maWd1cmUiLCJhZGRpdGlvbmFsUGFyYW1zIiwicmVnaXN0ZXIiLCJwcmVmcyIsIm9uY29udGV4dG1lbnUiLCJpc1YyIiwib25Qb2x5bWVyUmVhZHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicG9seW1lclJlYWR5Iiwic3RvcmFnZVJlYWR5Iiwib25TdG9yYWdlUmVhZHkiLCJsaW5rIiwid2ViY29tcG9uZW50cyIsImhyZWYiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImJvZHkiLCJfZ2FxIiwiZ2EiLCJhc3luYyIsInByb3RvY29sIiwicyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiJDQUtDLFdBNEtDLFFBQVNBLEdBQWFDLEdBR3BCLFFBQVNDLEdBQVNDLEVBQUtDLEVBQVVDLEVBQU1DLEVBQU1DLEVBQU9DLEdBQ2xELEtBQU9ELEdBQVMsR0FBYUMsRUFBUkQsRUFBZ0JBLEdBQVNOLEVBQUssQ0FDakQsR0FBSVEsR0FBYUgsRUFBT0EsRUFBS0MsR0FBU0EsQ0FDdENGLEdBQU9ELEVBQVNDLEVBQU1GLEVBQUlNLEdBQWFBLEVBQVlOLEdBRXJELE1BQU9FLEdBR1QsTUFBTyxVQUFTRixFQUFLQyxFQUFVQyxFQUFNSyxHQUNuQ04sRUFBV08sRUFBV1AsRUFBVU0sRUFBUyxF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LFNBQVMyTyx5QkFDdEJhLEVBQU94UCxTQUFTQyxjQUFjLFFBQzlCd1AsRUFBZ0J6UCxTQUFTQyxjQUFjLFVBQ3ZDeVAsRUFBT3pLLE9BQU9FLGlCQUFtQixFQUFTLGtCQUFvQixnQkFBa0IscUJBQ2hGOEQsRUFBVWpKLFNBQVNDLGNBQWMsZ0JBQ2pDcVAsR0FBZSxFQUNmRCxHQUFlLENBb0JqQkksR0FBYzNOLElBQU1tRCxPQUFPRSxnQkFBa0IsNENBQzdDaEQsRUFBTzBDLGlCQUFpQixxQkFBc0JzSyxHQUc5Q25QLFNBQVMyUCxxQkFBcUIsUUFBUSxHQUFHelAsWUFBWXVQLEdBRXJERCxFQUFLN0UsYUFBYSxNQUFPLFVBQ3pCNkUsRUFBSzdFLGFBQWEsT0FBUStFLEdBRzFCMVAsU0FBUzJQLHFCQUFxQixRQUFRLEdBQUd6UCxZQUFZc1AsR0FFckR2RyxFQUFRMEIsYUFBYSxLQUFNLGdCQUMzQjFCLEVBQVEwQixhQUFhLFVBQVcsR0FDaEMxQixFQUFRcEUsaUJBQWlCLHFCQUFzQjBLLEdBQy9DYixFQUFTeE8sWUFBWStJLEdBR3JCakosU0FBUzRQLEtBQUsxUCxZQUFZd08sTUFHM0J2TSxPQUFRa0QsUUFLWCxJQUFJd0ssTUFBT0EsUUFFWEEsTUFBS3ZvQixNQUFNLGNBQWUsa0JBQzFCdW9CLEtBQUt2b0IsTUFBTSxtQkFFWCxXQUNFLEdBQUl3b0IsR0FBSzlQLFNBQVNDLGNBQWMsU0FBVzZQLEdBQUdyYSxLQUFPLGtCQUFtQnFhLEVBQUdDLE9BQVEsRUFDbkZELEVBQUdoTyxLQUFPLFVBQVk5QixTQUFTb0MsU0FBUzROLFNBQVcsY0FBZ0IsY0FBZ0IsNkJBQ25GLElBQUlDLEdBQUlqUSxTQUFTMlAscUJBQXFCLFVBQVUsRUFBSU0sR0FBRUMsV0FBV0MsYUFBYUwsRUFBSUciLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vICAgICBVbmRlcnNjb3JlLmpzIDEuOC4zXG4vLyAgICAgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vIEJhc2VsaW5lIHNldHVwXG4gIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgaW4gdGhlIGJyb3dzZXIsIG9yIGBleHBvcnRzYCBvbiB0aGUgc2VydmVyLlxuICB2YXIgcm9vdCA9IHRoaXM7XG5cbiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS5cbiAgdmFyIHByZXZpb3VzVW5kZXJzY29yZSA9IHJvb3QuXztcblxuICAvLyBTYXZlIGJ5dGVzIGluIHRoZSBtaW5pZmllZCAoYnV0IG5vdCBnemlwcGVkKSB2ZXJzaW9uOlxuICB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBGdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG4gIHZhclxuICAgIHB1c2ggICAgICAgICAgICAgPSBBcnJheVByb3RvLnB1c2gsXG4gICAgc2xpY2UgICAgICAgICAgICA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgdG9TdHJpbmcgICAgICAgICA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgIGhhc093blByb3BlcnR5ICAgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhclxuICAgIG5hdGl2ZUlzQXJyYXkgICAgICA9IEFycmF5LmlzQXJyYXksXG4gICAgbmF0aXZlS2V5cyAgICAgICAgID0gT2JqZWN0LmtleXMsXG4gICAgbmF0aXZlQmluZCAgICAgICAgID0gRnVuY1Byb3RvLmJpbmQsXG4gICAgbmF0aXZlQ3JlYXRlICAgICAgID0gT2JqZWN0LmNyZWF0ZTtcblxuICAvLyBOYWtlZCBmdW5jdGlvbiByZWZlcmVuY2UgZm9yIHN1cnJvZ2F0ZS1wcm90b3R5cGUtc3dhcHBpbmcuXG4gIHZhciBDdG9yID0gZnVuY3Rpb24oKXt9O1xuXG4gIC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgdXNlIGJlbG93LlxuICB2YXIgXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBfKSkgcmV0dXJuIG5ldyBfKG9iaik7XG4gICAgdGhpcy5fd3JhcHBlZCA9IG9iajtcbiAgfTtcblxuICAvLyBFeHBvcnQgdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciAqKk5vZGUuanMqKiwgd2l0aFxuICAvLyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCBgcmVxdWlyZSgpYCBBUEkuIElmIHdlJ3JlIGluXG4gIC8vIHRoZSBicm93c2VyLCBhZGQgYF9gIGFzIGEgZ2xvYmFsIG9iamVjdC5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gXztcbiAgICB9XG4gICAgZXhwb3J0cy5fID0gXztcbiAgfSBlbHNlIHtcbiAgICByb290Ll8gPSBfO1xuICB9XG5cbiAgLy8gQ3VycmVudCB2ZXJzaW9uLlxuICBfLlZFUlNJT04gPSAnMS44LjMnO1xuXG4gIC8vIEludGVybmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBlZmZpY2llbnQgKGZvciBjdXJyZW50IGVuZ2luZXMpIHZlcnNpb25cbiAgLy8gb2YgdGhlIHBhc3NlZC1pbiBjYWxsYmFjaywgdG8gYmUgcmVwZWF0ZWRseSBhcHBsaWVkIGluIG90aGVyIFVuZGVyc2NvcmVcbiAgLy8gZnVuY3Rpb25zLlxuICB2YXIgb3B0aW1pemVDYiA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgcmV0dXJuIGZ1bmM7XG4gICAgc3dpdGNoIChhcmdDb3VudCA9PSBudWxsID8gMyA6IGFyZ0NvdW50KSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEEgbW9zdGx5LWludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGNhbGxiYWNrcyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gIC8vIHRvIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyB0aGUgZGVzaXJlZCByZXN1bHQg4oCUIGVpdGhlclxuICAvLyBpZGVudGl0eSwgYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gXy5pZGVudGl0eTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuIG9wdGltaXplQ2IodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KTtcbiAgICBpZiAoXy5pc09iamVjdCh2YWx1ZSkpIHJldHVybiBfLm1hdGNoZXIodmFsdWUpO1xuICAgIHJldHVybiBfLnByb3BlcnR5KHZhbHVlKTtcbiAgfTtcbiAgXy5pdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNiKHZhbHVlLCBjb250ZXh0LCBJbmZpbml0eSk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGFzc2lnbmVyIGZ1bmN0aW9ucy5cbiAgdmFyIGNyZWF0ZUFzc2lnbmVyID0gZnVuY3Rpb24oa2V5c0Z1bmMsIHVuZGVmaW5lZE9ubHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyIHx8IG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XSxcbiAgICAgICAgICAgIGtleXMgPSBrZXlzRnVuYyhzb3VyY2UpLFxuICAgICAgICAgICAgbCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmICghdW5kZWZpbmVkT25seSB8fCBvYmpba2V5XSA9PT0gdm9pZCAwKSBvYmpba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gYW5vdGhlci5cbiAgdmFyIGJhc2VDcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICBpZiAoIV8uaXNPYmplY3QocHJvdG90eXBlKSkgcmV0dXJuIHt9O1xuICAgIGlmIChuYXRpdmVDcmVhdGUpIHJldHVybiBuYXRpdmVDcmVhdGUocHJvdG90eXBlKTtcbiAgICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEN0b3I7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHByb3BlcnR5ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZm9yIGNvbGxlY3Rpb24gbWV0aG9kcyB0byBkZXRlcm1pbmUgd2hldGhlciBhIGNvbGxlY3Rpb25cbiAgLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdFxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHByb3BlcnR5KCdsZW5ndGgnKTtcbiAgdmFyIGlzQXJyYXlMaWtlID0gZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoY29sbGVjdGlvbik7XG4gICAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgbGVuZ3RoID49IDAgJiYgbGVuZ3RoIDw9IE1BWF9BUlJBWV9JTkRFWDtcbiAgfTtcblxuICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuICAvLyBIYW5kbGVzIHJhdyBvYmplY3RzIGluIGFkZGl0aW9uIHRvIGFycmF5LWxpa2VzLiBUcmVhdHMgYWxsXG4gIC8vIHNwYXJzZSBhcnJheS1saWtlcyBhcyBpZiB0aGV5IHdlcmUgZGVuc2UuXG4gIF8uZWFjaCA9IF8uZm9yRWFjaCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBpLCBsZW5ndGg7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudC5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICByZXN1bHRzW2luZGV4XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24gaXRlcmF0aW5nIGxlZnQgb3IgcmlnaHQuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlZHVjZShkaXIpIHtcbiAgICAvLyBPcHRpbWl6ZWQgaXRlcmF0b3IgZnVuY3Rpb24gYXMgdXNpbmcgYXJndW1lbnRzLmxlbmd0aFxuICAgIC8vIGluIHRoZSBtYWluIGZ1bmN0aW9uIHdpbGwgZGVvcHRpbWl6ZSB0aGUsIHNlZSAjMTk5MS5cbiAgICBmdW5jdGlvbiBpdGVyYXRvcihvYmosIGl0ZXJhdGVlLCBtZW1vLCBrZXlzLCBpbmRleCwgbGVuZ3RoKSB7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRlZShtZW1vLCBvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCA0KTtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIGluaXRpYWwgdmFsdWUgaWYgbm9uZSBpcyBwcm92aWRlZC5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgICBtZW1vID0gb2JqW2tleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4XTtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpO1xuICAgIH07XG4gIH1cblxuICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4gIC8vIG9yIGBmb2xkbGAuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gY3JlYXRlUmVkdWNlKDEpO1xuXG4gIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGNyZWF0ZVJlZHVjZSgtMSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAga2V5ID0gXy5maW5kSW5kZXgob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBfLmZpbmRLZXkob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoa2V5ICE9PSB2b2lkIDAgJiYga2V5ICE9PSAtMSkgcmV0dXJuIG9ialtrZXldO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgcGFzcyBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuXG4gIF8uZmlsdGVyID0gXy5zZWxlY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5uZWdhdGUoY2IocHJlZGljYXRlKSksIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbGxgLlxuICBfLmV2ZXJ5ID0gXy5hbGwgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmICghcHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIG9iamVjdCBtYXRjaGVzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgYW55YC5cbiAgXy5zb21lID0gXy5hbnkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gaXRlbSAodXNpbmcgYD09PWApLlxuICAvLyBBbGlhc2VkIGFzIGBpbmNsdWRlc2AgYW5kIGBpbmNsdWRlYC5cbiAgXy5jb250YWlucyA9IF8uaW5jbHVkZXMgPSBfLmluY2x1ZGUgPSBmdW5jdGlvbihvYmosIGl0ZW0sIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggIT0gJ251bWJlcicgfHwgZ3VhcmQpIGZyb21JbmRleCA9IDA7XG4gICAgcmV0dXJuIF8uaW5kZXhPZihvYmosIGl0ZW0sIGZyb21JbmRleCkgPj0gMDtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IGZ1bmMgOiBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBfLnByb3BlcnR5KGtleSkpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbHRlcmA6IHNlbGVjdGluZyBvbmx5IG9iamVjdHNcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy53aGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaW5kYDogZ2V0dGluZyB0aGUgZmlyc3Qgb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uZmluZFdoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbmQob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkID4gbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSAtSW5maW5pdHkgJiYgcmVzdWx0ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IEluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24sIHVzaW5nIHRoZSBtb2Rlcm4gdmVyc2lvbiBvZiB0aGVcbiAgLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc2V0ID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IHNldC5sZW5ndGg7XG4gICAgdmFyIHNodWZmbGVkID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIHJhbmQ7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByYW5kID0gXy5yYW5kb20oMCwgaW5kZXgpO1xuICAgICAgaWYgKHJhbmQgIT09IGluZGV4KSBzaHVmZmxlZFtpbmRleF0gPSBzaHVmZmxlZFtyYW5kXTtcbiAgICAgIHNodWZmbGVkW3JhbmRdID0gc2V0W2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHNodWZmbGVkO1xuICB9O1xuXG4gIC8vIFNhbXBsZSAqKm4qKiByYW5kb20gdmFsdWVzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAvLyBJZiAqKm4qKiBpcyBub3Qgc3BlY2lmaWVkLCByZXR1cm5zIGEgc2luZ2xlIHJhbmRvbSBlbGVtZW50LlxuICAvLyBUaGUgaW50ZXJuYWwgYGd1YXJkYCBhcmd1bWVudCBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBtYXBgLlxuICBfLnNhbXBsZSA9IGZ1bmN0aW9uKG9iaiwgbiwgZ3VhcmQpIHtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgICByZXR1cm4gb2JqW18ucmFuZG9tKG9iai5sZW5ndGggLSAxKV07XG4gICAgfVxuICAgIHJldHVybiBfLnNodWZmbGUob2JqKS5zbGljZSgwLCBNYXRoLm1heCgwLCBuKSk7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gXy5wbHVjayhfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGNyaXRlcmlhOiBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIHZhbHVlLCBrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xuICB9KTtcblxuICAvLyBJbmRleGVzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24sIHNpbWlsYXIgdG8gYGdyb3VwQnlgLCBidXQgZm9yXG4gIC8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZS5cbiAgXy5pbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICAvLyBTYWZlbHkgY3JlYXRlIGEgcmVhbCwgbGl2ZSBhcnJheSBmcm9tIGFueXRoaW5nIGl0ZXJhYmxlLlxuICBfLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIF8udmFsdWVzKG9iaik7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LlxuICBfLnNpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmopID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4gIC8vIHByZWRpY2F0ZSwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAgXy5wYXJ0aXRpb24gPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIHBhc3MgPSBbXSwgZmFpbCA9IFtdO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikge1xuICAgICAgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBvYmopID8gcGFzcyA6IGZhaWwpLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBbcGFzcywgZmFpbF07XG4gIH07XG5cbiAgLy8gQXJyYXkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYCBhbmQgYHRha2VgLiBUaGUgKipndWFyZCoqIGNoZWNrXG4gIC8vIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5maXJzdCA9IF8uaGVhZCA9IF8udGFrZSA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gXy5yZXN0KGFycmF5LCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSBuKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBBbGlhc2VkIGFzIGB0YWlsYCBhbmQgYGRyb3BgLlxuICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyBhbiAqKm4qKiB3aWxsIHJldHVyblxuICAvLyB0aGUgcmVzdCBOIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCBuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbik7XG4gIH07XG5cbiAgLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuICBfLmNvbXBhY3QgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgXy5pZGVudGl0eSk7XG4gIH07XG5cbiAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgYSByZWN1cnNpdmUgYGZsYXR0ZW5gIGZ1bmN0aW9uLlxuICB2YXIgZmxhdHRlbiA9IGZ1bmN0aW9uKGlucHV0LCBzaGFsbG93LCBzdHJpY3QsIHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgb3V0cHV0ID0gW10sIGlkeCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGlucHV0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpbnB1dFtpXTtcbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiYgKF8uaXNBcnJheSh2YWx1ZSkgfHwgXy5pc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIC8vZmxhdHRlbiBjdXJyZW50IGxldmVsIG9mIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3RcbiAgICAgICAgaWYgKCFzaGFsbG93KSB2YWx1ZSA9IGZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIHN0cmljdCk7XG4gICAgICAgIHZhciBqID0gMCwgbGVuID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICBvdXRwdXQubGVuZ3RoICs9IGxlbjtcbiAgICAgICAgd2hpbGUgKGogPCBsZW4pIHtcbiAgICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWVbaisrXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghc3RyaWN0KSB7XG4gICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICAvLyBGbGF0dGVuIG91dCBhbiBhcnJheSwgZWl0aGVyIHJlY3Vyc2l2ZWx5IChieSBkZWZhdWx0KSwgb3IganVzdCBvbmUgbGV2ZWwuXG4gIF8uZmxhdHRlbiA9IGZ1bmN0aW9uKGFycmF5LCBzaGFsbG93KSB7XG4gICAgcmV0dXJuIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3csIGZhbHNlKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS5cbiAgXy53aXRob3V0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5kaWZmZXJlbmNlKGFycmF5LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGhhcyBhbHJlYWR5XG4gIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCkge1xuICAgICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgfSBlbHNlIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoc2VlbiwgY29tcHV0ZWQpKSB7XG4gICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIV8uY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdW5pb246IGVhY2ggZGlzdGluY3QgZWxlbWVudCBmcm9tIGFsbCBvZlxuICAvLyB0aGUgcGFzc2VkLWluIGFycmF5cy5cbiAgXy51bmlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgICBpZiAoXy5jb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhhcmd1bWVudHNbal0sIGl0ZW0pKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChqID09PSBhcmdzTGVuZ3RoKSByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4gIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4gIF8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSwgMSk7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICByZXR1cm4gIV8uY29udGFpbnMocmVzdCwgdmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbiAgLy8gYW4gaW5kZXggZ28gdG9nZXRoZXIuXG4gIF8uemlwID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW56aXAoYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBDb21wbGVtZW50IG9mIF8uemlwLiBVbnppcCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyBhbmQgZ3JvdXBzXG4gIC8vIGVhY2ggYXJyYXkncyBlbGVtZW50cyBvbiBzaGFyZWQgaW5kaWNlc1xuICBfLnVuemlwID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgJiYgXy5tYXgoYXJyYXksIGdldExlbmd0aCkubGVuZ3RoIHx8IDA7XG4gICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gXy5wbHVjayhhcnJheSwgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgXy5vYmplY3QgPSBmdW5jdGlvbihsaXN0LCB2YWx1ZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChsaXN0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldWzBdXSA9IGxpc3RbaV1bMV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZmluZEluZGV4IGFuZCBmaW5kTGFzdEluZGV4IGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH1cblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBpbmRleCBvbiBhbiBhcnJheS1saWtlIHRoYXQgcGFzc2VzIGEgcHJlZGljYXRlIHRlc3RcbiAgXy5maW5kSW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigxKTtcbiAgXy5maW5kTGFzdEluZGV4ID0gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoLTEpO1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbWlkXSkgPCB2YWx1ZSkgbG93ID0gbWlkICsgMTsgZWxzZSBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRvciBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGluZGV4T2YgYW5kIGxhc3RJbmRleE9mIGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVJbmRleEZpbmRlcihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgICBpID0gaWR4ID49IDAgPyBpZHggOiBNYXRoLm1heChpZHggKyBsZW5ndGgsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gaWR4ID49IDAgPyBNYXRoLm1pbihpZHggKyAxLCBsZW5ndGgpIDogaWR4ICsgbGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzb3J0ZWRJbmRleCAmJiBpZHggJiYgbGVuZ3RoKSB7XG4gICAgICAgIGlkeCA9IHNvcnRlZEluZGV4KGFycmF5LCBpdGVtKTtcbiAgICAgICAgcmV0dXJuIGFycmF5W2lkeF0gPT09IGl0ZW0gPyBpZHggOiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtICE9PSBpdGVtKSB7XG4gICAgICAgIGlkeCA9IHByZWRpY2F0ZUZpbmQoc2xpY2UuY2FsbChhcnJheSwgaSwgbGVuZ3RoKSwgXy5pc05hTik7XG4gICAgICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCArIGkgOiAtMTtcbiAgICAgIH1cbiAgICAgIGZvciAoaWR4ID0gZGlyID4gMCA/IGkgOiBsZW5ndGggLSAxOyBpZHggPj0gMCAmJiBpZHggPCBsZW5ndGg7IGlkeCArPSBkaXIpIHtcbiAgICAgICAgaWYgKGFycmF5W2lkeF0gPT09IGl0ZW0pIHJldHVybiBpZHg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHN0ZXAgPSBzdGVwIHx8IDE7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50c1xuICB2YXIgZXhlY3V0ZUJvdW5kID0gZnVuY3Rpb24oc291cmNlRnVuYywgYm91bmRGdW5jLCBjb250ZXh0LCBjYWxsaW5nQ29udGV4dCwgYXJncykge1xuICAgIGlmICghKGNhbGxpbmdDb250ZXh0IGluc3RhbmNlb2YgYm91bmRGdW5jKSkgcmV0dXJuIHNvdXJjZUZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgdmFyIHNlbGYgPSBiYXNlQ3JlYXRlKHNvdXJjZUZ1bmMucHJvdG90eXBlKTtcbiAgICB2YXIgcmVzdWx0ID0gc291cmNlRnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICBpZiAoXy5pc09iamVjdChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuICAvLyBvcHRpb25hbGx5KS4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmXG4gIC8vIGF2YWlsYWJsZS5cbiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIGlmIChuYXRpdmVCaW5kICYmIGZ1bmMuYmluZCA9PT0gbmF0aXZlQmluZCkgcmV0dXJuIG5hdGl2ZUJpbmQuYXBwbHkoZnVuYywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBpZiAoIV8uaXNGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uJyk7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfTtcblxuICAvLyBQYXJ0aWFsbHkgYXBwbHkgYSBmdW5jdGlvbiBieSBjcmVhdGluZyBhIHZlcnNpb24gdGhhdCBoYXMgaGFkIHNvbWUgb2YgaXRzXG4gIC8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBfIGFjdHNcbiAgLy8gYXMgYSBwbGFjZWhvbGRlciwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZSBwcmUtZmlsbGVkLlxuICBfLnBhcnRpYWwgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IF8gPyBhcmd1bWVudHNbcG9zaXRpb24rK10gOiBib3VuZEFyZ3NbaV07XG4gICAgICB9XG4gICAgICB3aGlsZSAocG9zaXRpb24gPCBhcmd1bWVudHMubGVuZ3RoKSBhcmdzLnB1c2goYXJndW1lbnRzW3Bvc2l0aW9uKytdKTtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIHRoaXMsIHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIEJpbmQgYSBudW1iZXIgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gUmVtYWluaW5nIGFyZ3VtZW50c1xuICAvLyBhcmUgdGhlIG1ldGhvZCBuYW1lcyB0byBiZSBib3VuZC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0IGFsbCBjYWxsYmFja3NcbiAgLy8gZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwga2V5O1xuICAgIGlmIChsZW5ndGggPD0gMSkgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzJyk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbaV07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHtcbiAgICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGNhY2hlID0gbWVtb2l6ZS5jYWNoZTtcbiAgICAgIHZhciBhZGRyZXNzID0gJycgKyAoaGFzaGVyID8gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXkpO1xuICAgICAgaWYgKCFfLmhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfTtcblxuICAvLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbiAgLy8gY2xlYXJlZC5cbiAgXy5kZWZlciA9IF8ucGFydGlhbChfLmRlbGF5LCBfLCAxKTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4gIC8vIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcbiAgLy8gYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3NcbiAgLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG4gIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICB2YXIgdGltZW91dCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBfLm5vdygpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm93ID0gXy5ub3coKTtcbiAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBub3c7XG4gICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3RcbiAgLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuICAvLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbiAgLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbiAgXy5kZWJvdW5jZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgIHZhciB0aW1lb3V0LCBhcmdzLCBjb250ZXh0LCB0aW1lc3RhbXAsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxhc3QgPSBfLm5vdygpIC0gdGltZXN0YW1wO1xuXG4gICAgICBpZiAobGFzdCA8IHdhaXQgJiYgbGFzdCA+PSAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHRpbWVzdGFtcCA9IF8ubm93KCk7XG4gICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgIGlmICghdGltZW91dCkgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4gIC8vIGFsbG93aW5nIHlvdSB0byBhZGp1c3QgYXJndW1lbnRzLCBydW4gY29kZSBiZWZvcmUgYW5kIGFmdGVyLCBhbmRcbiAgLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgXy53cmFwID0gZnVuY3Rpb24oZnVuYywgd3JhcHBlcikge1xuICAgIHJldHVybiBfLnBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIG5lZ2F0ZWQgdmVyc2lvbiBvZiB0aGUgcGFzc2VkLWluIHByZWRpY2F0ZS5cbiAgXy5uZWdhdGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpID0gc3RhcnQ7XG4gICAgICB2YXIgcmVzdWx0ID0gYXJnc1tzdGFydF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHdoaWxlIChpLS0pIHJlc3VsdCA9IGFyZ3NbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCBvbiBhbmQgYWZ0ZXIgdGhlIE50aCBjYWxsLlxuICBfLmFmdGVyID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCB1cCB0byAoYnV0IG5vdCBpbmNsdWRpbmcpIHRoZSBOdGggY2FsbC5cbiAgXy5iZWZvcmUgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHZhciBtZW1vO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzID4gMCkge1xuICAgICAgICBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVzIDw9IDEpIGZ1bmMgPSBudWxsO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGF0IG1vc3Qgb25lIHRpbWUsIG5vIG1hdHRlciBob3dcbiAgLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbiAgXy5vbmNlID0gXy5wYXJ0aWFsKF8uYmVmb3JlLCAyKTtcblxuICAvLyBPYmplY3QgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBLZXlzIGluIElFIDwgOSB0aGF0IHdvbid0IGJlIGl0ZXJhdGVkIGJ5IGBmb3Iga2V5IGluIC4uLmAgYW5kIHRodXMgbWlzc2VkLlxuICB2YXIgaGFzRW51bUJ1ZyA9ICF7dG9TdHJpbmc6IG51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xuICB2YXIgbm9uRW51bWVyYWJsZVByb3BzID0gWyd2YWx1ZU9mJywgJ2lzUHJvdG90eXBlT2YnLCAndG9TdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdoYXNPd25Qcm9wZXJ0eScsICd0b0xvY2FsZVN0cmluZyddO1xuXG4gIGZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKSB7XG4gICAgdmFyIG5vbkVudW1JZHggPSBub25FbnVtZXJhYmxlUHJvcHMubGVuZ3RoO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgcHJvdG8gPSAoXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUpIHx8IE9ialByb3RvO1xuXG4gICAgLy8gQ29uc3RydWN0b3IgaXMgYSBzcGVjaWFsIGNhc2UuXG4gICAgdmFyIHByb3AgPSAnY29uc3RydWN0b3InO1xuICAgIGlmIChfLmhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcy5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYE9iamVjdC5rZXlzYFxuICBfLmtleXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICAgIGlmIChuYXRpdmVLZXlzKSByZXR1cm4gbmF0aXZlS2V5cyhvYmopO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0XG4gIC8vIEluIGNvbnRyYXN0IHRvIF8ubWFwIGl0IHJldHVybnMgYW4gb2JqZWN0XG4gIF8ubWFwT2JqZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIF8ua2V5cyhvYmopLFxuICAgICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdHMgPSB7fSxcbiAgICAgICAgICBjdXJyZW50S2V5O1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjdXJyZW50S2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgIHJlc3VsdHNbY3VycmVudEtleV0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGEgbGlzdCBvZiBgW2tleSwgdmFsdWVdYCBwYWlycy5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2BcbiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXMuc29ydCgpO1xuICB9O1xuXG4gIC8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICBfLmV4dGVuZCA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cyk7XG5cbiAgLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pbiBvYmplY3QocylcbiAgLy8gKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24pXG4gIF8uZXh0ZW5kT3duID0gXy5hc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihfLmtleXMpO1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgb25seSBjb250YWluaW5nIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLnBpY2sgPSBmdW5jdGlvbihvYmplY3QsIG9pdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSB7fSwgb2JqID0gb2JqZWN0LCBpdGVyYXRlZSwga2V5cztcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihvaXRlcmF0ZWUpKSB7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2Iob2l0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cyA9IGZsYXR0ZW4oYXJndW1lbnRzLCBmYWxzZSwgZmFsc2UsIDEpO1xuICAgICAgaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmopIHsgcmV0dXJuIGtleSBpbiBvYmo7IH07XG4gICAgICBvYmogPSBPYmplY3Qob2JqKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICBpZiAoaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqKSkgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ub21pdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgICAgaXRlcmF0ZWUgPSBfLm5lZ2F0ZShpdGVyYXRlZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5tYXAoZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIF8uZGVmYXVsdHMgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMsIHRydWUpO1xuXG4gIC8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbiAgLy8gSWYgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBwcm92aWRlZCB0aGVuIHRoZXkgd2lsbCBiZSBhZGRlZCB0byB0aGVcbiAgLy8gY3JlYXRlZCBvYmplY3QuXG4gIF8uY3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlLCBwcm9wcykge1xuICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgaWYgKHByb3BzKSBfLmV4dGVuZE93bihyZXN1bHQsIHByb3BzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIChzaGFsbG93LWNsb25lZCkgZHVwbGljYXRlIG9mIGFuIG9iamVjdC5cbiAgXy5jbG9uZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICAgIHJldHVybiBfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy5leHRlbmQoe30sIG9iaik7XG4gIH07XG5cbiAgLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuICAvLyBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiwgaW5cbiAgLy8gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpbiB0aGUgY2hhaW4uXG4gIF8udGFwID0gZnVuY3Rpb24ob2JqLCBpbnRlcmNlcHRvcikge1xuICAgIGludGVyY2VwdG9yKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5pc01hdGNoID0gZnVuY3Rpb24ob2JqZWN0LCBhdHRycykge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKGF0dHJzKSwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gIWxlbmd0aDtcbiAgICB2YXIgb2JqID0gT2JqZWN0KG9iamVjdCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoYXR0cnNba2V5XSAhPT0gb2JqW2tleV0gfHwgIShrZXkgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgW0hhcm1vbnkgYGVnYWxgIHByb3Bvc2FsXShodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICAgIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PT0gMSAvIGI7XG4gICAgLy8gQSBzdHJpY3QgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBgbnVsbCA9PSB1bmRlZmluZWRgLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gYSA9PT0gYjtcbiAgICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgICBpZiAoYSBpbnN0YW5jZW9mIF8pIGEgPSBhLl93cmFwcGVkO1xuICAgIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cbiAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncyBmb3IgY29tcGFyaXNvbiAoTm90ZTogJycgKyAvYS9pID09PSAnL2EvaScpXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICAgIHJldHVybiAnJyArIGEgPT09ICcnICsgYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOXG4gICAgICAgIGlmICgrYSAhPT0gK2EpIHJldHVybiArYiAhPT0gK2I7XG4gICAgICAgIC8vIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3Igb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICAgIHJldHVybiArYSA9PT0gMCA/IDEgLyArYSA9PT0gMSAvIGIgOiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIH1cblxuICAgIHZhciBhcmVBcnJheXMgPSBjbGFzc05hbWUgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHMgb3IgYEFycmF5YHNcbiAgICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiBhQ3RvciBpbnN0YW5jZW9mIGFDdG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKGJDdG9yKSAmJiBiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gICAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG5cbiAgICAvLyBJbml0aWFsaXppbmcgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICAgIGFTdGFjayA9IGFTdGFjayB8fCBbXTtcbiAgICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gICAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgIGlmIChhU3RhY2tbbGVuZ3RoXSA9PT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09PSBiO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgIGlmIChhcmVBcnJheXMpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoIWVxKGFbbGVuZ3RoXSwgYltsZW5ndGhdLCBhU3RhY2ssIGJTdGFjaykpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVlcCBjb21wYXJlIG9iamVjdHMuXG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhhKSwga2V5O1xuICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcyBiZWZvcmUgY29tcGFyaW5nIGRlZXAgZXF1YWxpdHkuXG4gICAgICBpZiAoXy5rZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICAgIGtleSA9IGtleXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKCEoXy5oYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvci5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIF9bJ2lzJyArIG5hbWVdID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgICB9O1xuICB9KTtcblxuICAvLyBEZWZpbmUgYSBmYWxsYmFjayB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgaW4gYnJvd3NlcnMgKGFoZW0sIElFIDwgOSksIHdoZXJlXG4gIC8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4gIGlmICghXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cblxuICAvLyBPcHRpbWl6ZSBgaXNGdW5jdGlvbmAgaWYgYXBwcm9wcmlhdGUuIFdvcmsgYXJvdW5kIHNvbWUgdHlwZW9mIGJ1Z3MgaW4gb2xkIHY4LFxuICAvLyBJRSAxMSAoIzE2MjEpLCBhbmQgaW4gU2FmYXJpIDggKCMxOTI5KS5cbiAgaWYgKHR5cGVvZiAvLi8gIT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgSW50OEFycmF5ICE9ICdvYmplY3QnKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICAgIH07XG4gIH1cblxuICAvLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG4gIF8uaXNGaW5pdGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IChOYU4gaXMgdGhlIG9ubHkgbnVtYmVyIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZikuXG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIG9iaiAhPT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb25zLiBPZnRlbiB1c2VmdWwgb3V0c2lkZSBvZiBVbmRlcnNjb3JlLlxuICBfLmNvbnN0YW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcblxuICBfLm5vb3AgPSBmdW5jdGlvbigpe307XG5cbiAgXy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PSBudWxsID8gZnVuY3Rpb24oKXt9IDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlc2NhcGVNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgICAnYCc6ICcmI3g2MDsnXG4gIH07XG4gIHZhciB1bmVzY2FwZU1hcCA9IF8uaW52ZXJ0KGVzY2FwZU1hcCk7XG5cbiAgLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuICB2YXIgY3JlYXRlRXNjYXBlciA9IGZ1bmN0aW9uKG1hcCkge1xuICAgIHZhciBlc2NhcGVyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICAgIH07XG4gICAgLy8gUmVnZXhlcyBmb3IgaWRlbnRpZnlpbmcgYSBrZXkgdGhhdCBuZWVkcyB0byBiZSBlc2NhcGVkXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gSWYgdGhlIHZhbHVlIG9mIHRoZSBuYW1lZCBgcHJvcGVydHlgIGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQgd2l0aCB0aGVcbiAgLy8gYG9iamVjdGAgYXMgY29udGV4dDsgb3RoZXJ3aXNlLCByZXR1cm4gaXQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgZmFsbGJhY2spIHtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHZhbHVlID0gZmFsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbiAgLy8gVXNlZnVsIGZvciB0ZW1wb3JhcnkgRE9NIGlkcy5cbiAgdmFyIGlkQ291bnRlciA9IDA7XG4gIF8udW5pcXVlSWQgPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgaWQgPSArK2lkQ291bnRlciArICcnO1xuICAgIHJldHVybiBwcmVmaXggPyBwcmVmaXggKyBpZCA6IGlkO1xuICB9O1xuXG4gIC8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycywgY2hhbmdlIHRoZVxuICAvLyBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICBldmFsdWF0ZSAgICA6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGUgOiAvPCU9KFtcXHNcXFNdKz8pJT4vZyxcbiAgICBlc2NhcGUgICAgICA6IC88JS0oW1xcc1xcU10rPyklPi9nXG4gIH07XG5cbiAgLy8gV2hlbiBjdXN0b21pemluZyBgdGVtcGxhdGVTZXR0aW5nc2AsIGlmIHlvdSBkb24ndCB3YW50IHRvIGRlZmluZSBhblxuICAvLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4gIC8vIGd1YXJhbnRlZWQgbm90IHRvIG1hdGNoLlxuICB2YXIgbm9NYXRjaCA9IC8oLileLztcblxuICAvLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuICAvLyBzdHJpbmcgbGl0ZXJhbC5cbiAgdmFyIGVzY2FwZXMgPSB7XG4gICAgXCInXCI6ICAgICAgXCInXCIsXG4gICAgJ1xcXFwnOiAgICAgJ1xcXFwnLFxuICAgICdcXHInOiAgICAgJ3InLFxuICAgICdcXG4nOiAgICAgJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlciA9IC9cXFxcfCd8XFxyfFxcbnxcXHUyMDI4fFxcdTIwMjkvZztcblxuICB2YXIgZXNjYXBlQ2hhciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xuICB9O1xuXG4gIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uXG4gIC8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gIC8vIE5COiBgb2xkU2V0dGluZ3NgIG9ubHkgZXhpc3RzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgXy50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHRleHQsIHNldHRpbmdzLCBvbGRTZXR0aW5ncykge1xuICAgIGlmICghc2V0dGluZ3MgJiYgb2xkU2V0dGluZ3MpIHNldHRpbmdzID0gb2xkU2V0dGluZ3M7XG4gICAgc2V0dGluZ3MgPSBfLmRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAgIC8vIENvbWJpbmUgZGVsaW1pdGVycyBpbnRvIG9uZSByZWd1bGFyIGV4cHJlc3Npb24gdmlhIGFsdGVybmF0aW9uLlxuICAgIHZhciBtYXRjaGVyID0gUmVnRXhwKFtcbiAgICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmludGVycG9sYXRlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5ldmFsdWF0ZSB8fCBub01hdGNoKS5zb3VyY2VcbiAgICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgICAvLyBDb21waWxlIHRoZSB0ZW1wbGF0ZSBzb3VyY2UsIGVzY2FwaW5nIHN0cmluZyBsaXRlcmFscyBhcHByb3ByaWF0ZWx5LlxuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gICAgdGV4dC5yZXBsYWNlKG1hdGNoZXIsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGUsIGludGVycG9sYXRlLCBldmFsdWF0ZSwgb2Zmc2V0KSB7XG4gICAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsIGVzY2FwZUNoYXIpO1xuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkb2JlIFZNcyBuZWVkIHRoZSBtYXRjaCByZXR1cm5lZCB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IG9mZmVzdC5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gICAgc291cmNlID0gXCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIgK1xuICAgICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHJlbmRlciA9IG5ldyBGdW5jdGlvbihzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJywgJ18nLCBzb3VyY2UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGUuc291cmNlID0gc291cmNlO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gcmVuZGVyLmNhbGwodGhpcywgZGF0YSwgXyk7XG4gICAgfTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIHNvdXJjZSBhcyBhIGNvbnZlbmllbmNlIGZvciBwcmVjb21waWxhdGlvbi5cbiAgICB2YXIgYXJndW1lbnQgPSBzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJztcbiAgICB0ZW1wbGF0ZS5zb3VyY2UgPSAnZnVuY3Rpb24oJyArIGFyZ3VtZW50ICsgJyl7XFxuJyArIHNvdXJjZSArICd9JztcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfTtcblxuICAvLyBBZGQgYSBcImNoYWluXCIgZnVuY3Rpb24uIFN0YXJ0IGNoYWluaW5nIGEgd3JhcHBlZCBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5jaGFpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpbnN0YW5jZSA9IF8ob2JqKTtcbiAgICBpbnN0YW5jZS5fY2hhaW4gPSB0cnVlO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICAvLyBPT1BcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gIC8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0XG4gIC8vIGNhbiBiZSB1c2VkIE9PLXN0eWxlLiBUaGlzIHdyYXBwZXIgaG9sZHMgYWx0ZXJlZCB2ZXJzaW9ucyBvZiBhbGwgdGhlXG4gIC8vIHVuZGVyc2NvcmUgZnVuY3Rpb25zLiBXcmFwcGVkIG9iamVjdHMgbWF5IGJlIGNoYWluZWQuXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnRpbnVlIGNoYWluaW5nIGludGVybWVkaWF0ZSByZXN1bHRzLlxuICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24oaW5zdGFuY2UsIG9iaikge1xuICAgIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubWl4aW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICBfLmVhY2goXy5mdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveHkgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4gIC8vIHN1Y2ggYXMgYXJpdGhtZXRpYyBhbmQgSlNPTiBzdHJpbmdpZmljYXRpb24uXG4gIF8ucHJvdG90eXBlLnZhbHVlT2YgPSBfLnByb3RvdHlwZS50b0pTT04gPSBfLnByb3RvdHlwZS52YWx1ZTtcblxuICBfLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gQU1EIHJlZ2lzdHJhdGlvbiBoYXBwZW5zIGF0IHRoZSBlbmQgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBBTUQgbG9hZGVyc1xuICAvLyB0aGF0IG1heSBub3QgZW5mb3JjZSBuZXh0LXR1cm4gc2VtYW50aWNzIG9uIG1vZHVsZXMuIEV2ZW4gdGhvdWdoIGdlbmVyYWxcbiAgLy8gcHJhY3RpY2UgZm9yIEFNRCByZWdpc3RyYXRpb24gaXMgdG8gYmUgYW5vbnltb3VzLCB1bmRlcnNjb3JlIHJlZ2lzdGVyc1xuICAvLyBhcyBhIG5hbWVkIG1vZHVsZSBiZWNhdXNlLCBsaWtlIGpRdWVyeSwgaXQgaXMgYSBiYXNlIGxpYnJhcnkgdGhhdCBpc1xuICAvLyBwb3B1bGFyIGVub3VnaCB0byBiZSBidW5kbGVkIGluIGEgdGhpcmQgcGFydHkgbGliLCBidXQgbm90IGJlIHBhcnQgb2ZcbiAgLy8gYW4gQU1EIGxvYWQgcmVxdWVzdC4gVGhvc2UgY2FzZXMgY291bGQgZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhblxuICAvLyBhbm9ueW1vdXMgZGVmaW5lKCkgaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBsb2FkZXIgcmVxdWVzdC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59LmNhbGwodGhpcykpO1xuXG4vKiBleHBvcnRlZCBXSURHRVRfQ09NTU9OX0NPTkZJRyAqL1xudmFyIFdJREdFVF9DT01NT05fQ09ORklHID0ge1xuICBBVVRIX1BBVEhfVVJMOiBcInYxL3dpZGdldC9hdXRoXCIsXG4gIExPR0dFUl9DTElFTlRfSUQ6IFwiMTA4ODUyNzE0NzEwOS02cTFvMnZ0aWhuMzQyOTJwanQ0Y2tobWhjazByazBvNy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbVwiLFxuICBMT0dHRVJfQ0xJRU5UX1NFQ1JFVDogXCJubFp5cmNQTGc2b0V3TzlmOVdmbjI5V2hcIixcbiAgTE9HR0VSX1JFRlJFU0hfVE9LRU46IFwiMS94enQ0a3d6RTFIN1c5Vm5LQjhjQWFDeDZ6YjRFczRuS0VvcWFZSGRURDE1SWdPckpEdGR1bjZ6SzZYaUFUQ0tUXCIsXG4gIFNUT1JFX1VSTDogXCJodHRwczovL3N0b3JlLWRvdC1ydmFzZXJ2ZXIyLmFwcHNwb3QuY29tL1wiXG59O1xuLyogZ2xvYmFsIFdJREdFVF9DT01NT05fQ09ORklHICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAgdmFyIGRpc3BsYXlJZCA9IFwiXCIsXG4gICAgIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgIHZlcnNpb24gPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgLyogUmV0cmlldmUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBldmVudCBsb2dnZXIuICovXG4gIGZ1bmN0aW9uIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgY2IpIHtcbiAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAvLyBldmVudCBpcyByZXF1aXJlZC5cbiAgICBpZiAocGFyYW1zLmV2ZW50KSB7XG4gICAgICBqc29uID0gcGFyYW1zO1xuXG4gICAgICBpZiAoanNvbi5maWxlX3VybCkge1xuICAgICAgICBqc29uLmZpbGVfZm9ybWF0ID0gZ2V0RmlsZUZvcm1hdChqc29uLmZpbGVfdXJsKTtcbiAgICAgIH1cblxuICAgICAganNvbi5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgICAganNvbi5kaXNwbGF5X2lkID0gZGlzcGxheUlkO1xuXG4gICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICBqc29uLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgfVxuXG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgc3VmZml4IGZvciBCUSB0YWJsZSBuYW1lLlxuICBmdW5jdGlvbiBnZXRTdWZmaXgoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSxcbiAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG5cbiAgICBpZiAoZGF5IDwgMTApIHtcbiAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cblxuICAgIHJldHVybiB5ZWFyICsgbW9udGggKyBkYXk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEZpbGVGb3JtYXQodXJsKSB7XG4gICAgdmFyIGhhc1BhcmFtcyA9IC9bPyMmXS8sXG4gICAgICBzdHI7XG5cbiAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzdHIgPSB1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcblxuICAgIC8vIGRvbid0IGluY2x1ZGUgYW55IHBhcmFtcyBhZnRlciB0aGUgZmlsZW5hbWVcbiAgICBpZiAoaGFzUGFyYW1zLnRlc3Qoc3RyKSkge1xuICAgICAgc3RyID0gc3RyLnN1YnN0cigwICwoc3RyLmluZGV4T2YoXCI/XCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIj9cIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCIjXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiNcIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCImXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiZcIikgOiBzdHIubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbnNlcnREYXRhKHBhcmFtcykge1xuICAgIHZhciBCQVNFX0lOU0VSVF9TQ0hFTUEgPSB7XG4gICAgICBcImtpbmRcIjogXCJiaWdxdWVyeSN0YWJsZURhdGFJbnNlcnRBbGxSZXF1ZXN0XCIsXG4gICAgICBcInNraXBJbnZhbGlkUm93c1wiOiBmYWxzZSxcbiAgICAgIFwiaWdub3JlVW5rbm93blZhbHVlc1wiOiBmYWxzZSxcbiAgICAgIFwidGVtcGxhdGVTdWZmaXhcIjogZ2V0U3VmZml4KCksXG4gICAgICBcInJvd3NcIjogW3tcbiAgICAgICAgXCJpbnNlcnRJZFwiOiBcIlwiXG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoQkFTRV9JTlNFUlRfU0NIRU1BKSk7XG5cbiAgICBkYXRhLnJvd3NbMF0uaW5zZXJ0SWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMikudG9VcHBlckNhc2UoKTtcbiAgICBkYXRhLnJvd3NbMF0uanNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24udHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHRhYmxlLCBwYXJhbXMpIHtcbiAgICBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgIGlmIChqc29uICE9PSBudWxsKSB7XG4gICAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlci5sb2codGFibGUsIGpzb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyogU2V0IHRoZSBDb21wYW55IGFuZCBEaXNwbGF5IElEcy4gKi9cbiAgZnVuY3Rpb24gc2V0SWRzKGNvbXBhbnksIGRpc3BsYXkpIHtcbiAgICBjb21wYW55SWQgPSBjb21wYW55O1xuICAgIGRpc3BsYXlJZCA9IGRpc3BsYXk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRWZXJzaW9uKHZhbHVlKSB7XG4gICAgdmVyc2lvbiA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldEluc2VydERhdGFcIjogZ2V0SW5zZXJ0RGF0YSxcbiAgICBcImdldEZpbGVGb3JtYXRcIjogZ2V0RmlsZUZvcm1hdCxcbiAgICBcImxvZ0V2ZW50XCI6IGxvZ0V2ZW50LFxuICAgIFwic2V0SWRzXCI6IHNldElkcyxcbiAgICBcInNldFZlcnNpb25cIjogc2V0VmVyc2lvblxuICB9O1xufSkoKTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyID0gKGZ1bmN0aW9uKHV0aWxzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBSRUZSRVNIX1VSTCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3Rva2VuP2NsaWVudF9pZD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfSUQgK1xuICAgICAgXCImY2xpZW50X3NlY3JldD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfU0VDUkVUICtcbiAgICAgIFwiJnJlZnJlc2hfdG9rZW49XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfUkVGUkVTSF9UT0tFTiArXG4gICAgICBcIiZncmFudF90eXBlPXJlZnJlc2hfdG9rZW5cIjtcblxuICB2YXIgc2VydmljZVVybCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYmlncXVlcnkvdjIvcHJvamVjdHMvY2xpZW50LXNpZGUtZXZlbnRzL2RhdGFzZXRzL1dpZGdldF9FdmVudHMvdGFibGVzL1RBQkxFX0lEL2luc2VydEFsbFwiLFxuICAgIHRocm90dGxlID0gZmFsc2UsXG4gICAgdGhyb3R0bGVEZWxheSA9IDEwMDAsXG4gICAgbGFzdEV2ZW50ID0gXCJcIixcbiAgICByZWZyZXNoRGF0ZSA9IDAsXG4gICAgdG9rZW4gPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbihjYikge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGlmIChuZXcgRGF0ZSgpIC0gcmVmcmVzaERhdGUgPCAzNTgwMDAwKSB7XG4gICAgICByZXR1cm4gY2Ioe30pO1xuICAgIH1cblxuICAgIHhoci5vcGVuKFwiUE9TVFwiLCBSRUZSRVNIX1VSTCwgdHJ1ZSk7XG4gICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3AgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSk7XG5cbiAgICAgIGNiKHsgdG9rZW46IHJlc3AuYWNjZXNzX3Rva2VuLCByZWZyZXNoZWRBdDogbmV3IERhdGUoKSB9KTtcbiAgICB9O1xuXG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVGhyb3R0bGVkKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRocm90dGxlICYmIChsYXN0RXZlbnQgPT09IGV2ZW50KTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gbG9nKHRhYmxlTmFtZSwgcGFyYW1zKSB7XG4gICAgaWYgKCF0YWJsZU5hbWUgfHwgIXBhcmFtcyB8fCAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgIXBhcmFtcy5ldmVudCkgfHxcbiAgICAgIChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiBpc1Rocm90dGxlZChwYXJhbXMuZXZlbnQpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm90dGxlID0gdHJ1ZTtcbiAgICBsYXN0RXZlbnQgPSBwYXJhbXMuZXZlbnQ7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm90dGxlID0gZmFsc2U7XG4gICAgfSwgdGhyb3R0bGVEZWxheSk7XG5cbiAgICBmdW5jdGlvbiBpbnNlcnRXaXRoVG9rZW4ocmVmcmVzaERhdGEpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgaW5zZXJ0RGF0YSwgdXJsO1xuXG4gICAgICB1cmwgPSBzZXJ2aWNlVXJsLnJlcGxhY2UoXCJUQUJMRV9JRFwiLCB0YWJsZU5hbWUpO1xuICAgICAgcmVmcmVzaERhdGUgPSByZWZyZXNoRGF0YS5yZWZyZXNoZWRBdCB8fCByZWZyZXNoRGF0ZTtcbiAgICAgIHRva2VuID0gcmVmcmVzaERhdGEudG9rZW4gfHwgdG9rZW47XG4gICAgICBpbnNlcnREYXRhID0gdXRpbHMuZ2V0SW5zZXJ0RGF0YShwYXJhbXMpO1xuXG4gICAgICAvLyBJbnNlcnQgdGhlIGRhdGEuXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIHRva2VuKTtcblxuICAgICAgaWYgKHBhcmFtcy5jYiAmJiB0eXBlb2YgcGFyYW1zLmNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBhcmFtcy5jYih4aHIucmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShpbnNlcnREYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZnJlc2hUb2tlbihpbnNlcnRXaXRoVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImxvZ1wiOiBsb2dcbiAgfTtcbn0pKFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzKTtcbi8qIGdsb2JhbCBXZWJGb250ICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzID0gKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGdldEZvbnRDc3NTdHlsZShjbGFzc05hbWUsIGZvbnRPYmopIHtcbiAgICB2YXIgZmFtaWx5ID0gXCJmb250LWZhbWlseTogXCIgKyBkZWNvZGVVUklDb21wb25lbnQoZm9udE9iai5mb250LmZhbWlseSkucmVwbGFjZSgvJy9nLCBcIlwiKSArIFwiOyBcIjtcbiAgICB2YXIgY29sb3IgPSBcImNvbG9yOiBcIiArIChmb250T2JqLmNvbG9yID8gZm9udE9iai5jb2xvciA6IGZvbnRPYmouZm9yZWNvbG9yKSArIFwiOyBcIjtcbiAgICB2YXIgc2l6ZSA9IFwiZm9udC1zaXplOiBcIiArIChmb250T2JqLnNpemUuaW5kZXhPZihcInB4XCIpID09PSAtMSA/IGZvbnRPYmouc2l6ZSArIFwicHg7IFwiIDogZm9udE9iai5zaXplICsgXCI7IFwiKTtcbiAgICB2YXIgd2VpZ2h0ID0gXCJmb250LXdlaWdodDogXCIgKyAoZm9udE9iai5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgaXRhbGljID0gXCJmb250LXN0eWxlOiBcIiArIChmb250T2JqLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgdW5kZXJsaW5lID0gXCJ0ZXh0LWRlY29yYXRpb246IFwiICsgKGZvbnRPYmoudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKSArIFwiOyBcIjtcbiAgICB2YXIgaGlnaGxpZ2h0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIChmb250T2JqLmhpZ2hsaWdodENvbG9yID8gZm9udE9iai5oaWdobGlnaHRDb2xvciA6IGZvbnRPYmouYmFja2NvbG9yKSArIFwiO1wiO1xuXG4gICAgcmV0dXJuIFwiLlwiICsgY2xhc3NOYW1lICsgXCIge1wiICsgZmFtaWx5ICsgY29sb3IgKyBzaXplICsgd2VpZ2h0ICsgaXRhbGljICsgdW5kZXJsaW5lICsgaGlnaGxpZ2h0ICsgXCJ9XCI7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRDU1NSdWxlcyhydWxlcykge1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBydWxlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocnVsZXNbaV0pKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIC8qXG4gICAqIExvYWRzIEdvb2dsZSBvciBjdXN0b20gZm9udHMsIGlmIGFwcGxpY2FibGUsIGFuZCBpbmplY3RzIENTUyBzdHlsZXNcbiAgICogaW50byB0aGUgaGVhZCBvZiB0aGUgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAgICBhcnJheSAgICBzZXR0aW5ncyAgICBBcnJheSBvZiBvYmplY3RzIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiZGF0ZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb250U2V0dGluZ1wiOiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJibGFja1wiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseTogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVmVyZGFuYVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnb29nbGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwOi8vY3VzdG9tLWZvbnQtdXJsXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljOiBmYWxzZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcIjIwXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lOiBmYWxzZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAqXG4gICAqICAgICAgICAgICBvYmplY3QgICBjb250ZW50RG9jICAgIERvY3VtZW50IG9iamVjdCBpbnRvIHdoaWNoIHRvIGluamVjdCBzdHlsZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGxvYWQgZm9udHMgKG9wdGlvbmFsKS5cbiAgICovXG4gIGZ1bmN0aW9uIGxvYWRGb250cyhzZXR0aW5ncywgY2IpIHtcbiAgICB2YXIgZmFtaWxpZXMgPSBudWxsLFxuICAgICAgZ29vZ2xlRmFtaWxpZXMgPSBbXSxcbiAgICAgIGN1c3RvbUZhbWlsaWVzID0gW10sXG4gICAgICBjdXN0b21VcmxzID0gW107XG5cbiAgICBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uR29vZ2xlRm9udHNMb2FkZWQoKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGlmICghc2V0dGluZ3MgfHwgc2V0dGluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBjdXN0b20gY3NzIGNsYXNzIG5hbWVzIGFuZCBhZGQgcnVsZXMgaWYgc29cbiAgICBzZXR0aW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLmNsYXNzICYmIGl0ZW0uZm9udFN0eWxlKSB7XG4gICAgICAgIGFkZENTU1J1bGVzKFsgZ2V0Rm9udENzc1N0eWxlKGl0ZW0uY2xhc3MsIGl0ZW0uZm9udFN0eWxlKSBdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEdvb2dsZSBmb250c1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0dGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzZXR0aW5nc1tpXS5mb250U3R5bGUgJiYgc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudHlwZSAmJlxuICAgICAgICAoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudHlwZSA9PT0gXCJnb29nbGVcIikpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGZhbGxiYWNrIGZvbnQuXG4gICAgICAgIGZhbWlsaWVzID0gc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQuZmFtaWx5LnNwbGl0KFwiLFwiKVswXTtcblxuICAgICAgICAvLyBzdHJpcCBwb3NzaWJsZSBzaW5nbGUgcXVvdGVzXG4gICAgICAgIGZhbWlsaWVzID0gZmFtaWxpZXMucmVwbGFjZSgvJy9nLCBcIlwiKTtcblxuICAgICAgICBnb29nbGVGYW1pbGllcy5wdXNoKGZhbWlsaWVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDdXN0b20gZm9udHNcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2V0dGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzZXR0aW5nc1tpXS5mb250U3R5bGUgJiYgc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudHlwZSAmJlxuICAgICAgICAoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudHlwZSA9PT0gXCJjdXN0b21cIikpIHtcbiAgICAgICAgLy8gZGVjb2RlIHZhbHVlIGFuZCBzdHJpcCBzaW5nbGUgcXVvdGVzXG4gICAgICAgIGN1c3RvbUZhbWlsaWVzLnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LmZhbWlseSkucmVwbGFjZSgvJy9nLCBcIlwiKSk7XG4gICAgICAgIC8vIHN0cmlwIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgY3VzdG9tVXJscy5wdXNoKHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnVybC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChnb29nbGVGYW1pbGllcy5sZW5ndGggPT09IDAgJiYgY3VzdG9tRmFtaWxpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIExvYWQgdGhlIGZvbnRzXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1c3RvbUZhbWlsaWVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGxvYWRDdXN0b21Gb250KGN1c3RvbUZhbWlsaWVzW2pdLCBjdXN0b21VcmxzW2pdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdvb2dsZUZhbWlsaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbG9hZEdvb2dsZUZvbnRzKGdvb2dsZUZhbWlsaWVzLCBvbkdvb2dsZUZvbnRzTG9hZGVkKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRDdXN0b21Gb250KGZhbWlseSwgdXJsLCBjb250ZW50RG9jKSB7XG4gICAgdmFyIHNoZWV0ID0gbnVsbDtcbiAgICB2YXIgcnVsZSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZmFtaWx5ICsgXCI7IFwiICsgXCJzcmM6IHVybCgnXCIgKyB1cmwgKyBcIicpO1wiO1xuXG4gICAgY29udGVudERvYyA9IGNvbnRlbnREb2MgfHwgZG9jdW1lbnQ7XG5cbiAgICBzaGVldCA9IGNvbnRlbnREb2Muc3R5bGVTaGVldHNbMF07XG5cbiAgICBpZiAoc2hlZXQgIT09IG51bGwpIHtcbiAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRHb29nbGVGb250cyhmYW1pbGllcywgY2IpIHtcbiAgICBXZWJGb250LmxvYWQoe1xuICAgICAgZ29vZ2xlOiB7XG4gICAgICAgIGZhbWlsaWVzOiBmYW1pbGllc1xuICAgICAgfSxcbiAgICAgIGFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbmFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0aW1lb3V0OiAyMDAwXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVsb2FkSW1hZ2VzKHVybHMpIHtcbiAgICB2YXIgbGVuZ3RoID0gdXJscy5sZW5ndGgsXG4gICAgICBpbWFnZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGltYWdlc1tpXSA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1hZ2VzW2ldLnNyYyA9IHVybHNbaV07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbWV0ZXIocGFyYW0pIHtcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSxcbiAgICAgIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIiksXG4gICAgICBwYWlyO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XG5cbiAgICAgIGlmIChwYWlyWzBdID09IHBhcmFtKSB7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpIHtcbiAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBzd2l0Y2ggKHN0YXR1c0NvZGUpIHtcbiAgICAgIGNhc2UgNDA0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZSBmaWxlIGRvZXMgbm90IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDUwNzpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSBpcyBub3QgZW5vdWdoIGRpc2sgc3BhY2UgdG8gc2F2ZSB0aGUgZmlsZSBvbiBSaXNlIENhY2hlLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIHRoZSBmaWxlIGZyb20gUmlzZSBDYWNoZS5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5lc2NhcGVIVE1MKGh0bWwpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgcmV0dXJuIGRpdi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0ludGVybmV0Q29ubmVjdGlvbihmaWxlUGF0aCwgY2FsbGJhY2spIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAoIWZpbGVQYXRoIHx8ICFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHhoci5vcGVuKFwiSEVBRFwiLCBmaWxlUGF0aCArIFwiP2NiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCksIGZhbHNlKTtcblxuICAgIHRyeSB7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBjYWxsYmFjaygoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwNCkpO1xuXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjaHJvbWUgdmVyc2lvbiBpcyB1bmRlciBhIGNlcnRhaW4gdmVyc2lvblxuICAgKi9cbiAgZnVuY3Rpb24gaXNMZWdhY3koKSB7XG4gICAgdmFyIGxlZ2FjeVZlcnNpb24gPSAyNTtcblxuICAgIHZhciBtYXRjaCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXFMrKS8pO1xuICAgIHZhciB2ZXJzaW9uID0gbWF0Y2ggPyBtYXRjaFsxXSA6IDA7XG5cbiAgICBpZiAodmVyc2lvbikge1xuICAgICAgdmVyc2lvbiA9IHBhcnNlSW50KHZlcnNpb24uc3Vic3RyaW5nKDAsdmVyc2lvbi5pbmRleE9mKFwiLlwiKSkpO1xuXG4gICAgICBpZiAodmVyc2lvbiA8PSBsZWdhY3lWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0UXVlcnlQYXJhbWV0ZXI6IGdldFF1ZXJ5UGFyYW1ldGVyLFxuICAgIGdldEZvbnRDc3NTdHlsZTogIGdldEZvbnRDc3NTdHlsZSxcbiAgICBhZGRDU1NSdWxlczogICAgICBhZGRDU1NSdWxlcyxcbiAgICBsb2FkRm9udHM6ICAgICAgICBsb2FkRm9udHMsXG4gICAgbG9hZEN1c3RvbUZvbnQ6ICAgbG9hZEN1c3RvbUZvbnQsXG4gICAgbG9hZEdvb2dsZUZvbnRzOiAgIGxvYWRHb29nbGVGb250cyxcbiAgICBwcmVsb2FkSW1hZ2VzOiAgICBwcmVsb2FkSW1hZ2VzLFxuICAgIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZTogZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlLFxuICAgIHVuZXNjYXBlSFRNTDogdW5lc2NhcGVIVE1MLFxuICAgIGhhc0ludGVybmV0Q29ubmVjdGlvbjogaGFzSW50ZXJuZXRDb25uZWN0aW9uLFxuICAgIGlzTGVnYWN5OiBpc0xlZ2FjeVxuICB9O1xufSkoKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlID0gKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIEJBU0VfQ0FDSEVfVVJMID0gXCIvL2xvY2FsaG9zdDo5NDk0L1wiO1xuXG4gIHZhciBfcGluZ1JlY2VpdmVkID0gZmFsc2UsXG4gICAgX2lzQ2FjaGVSdW5uaW5nID0gZmFsc2UsXG4gICAgX2lzVjJSdW5uaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gcGluZyhjYWxsYmFjaykge1xuICAgIHZhciByID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICBzZWxmID0gdGhpcztcblxuICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV9pc1YyUnVubmluZykge1xuICAgICAgci5vcGVuKFwiR0VUXCIsIEJBU0VfQ0FDSEVfVVJMICsgXCJwaW5nP2NhbGxiYWNrPV9cIiwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgci5vcGVuKFwiR0VUXCIsIEJBU0VfQ0FDSEVfVVJMLCB0cnVlKTtcbiAgICB9XG5cbiAgICByLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG4gICAgICAgICAgLy8gc2F2ZSB0aGlzIHJlc3VsdCBmb3IgdXNlIGluIGdldEZpbGUoKVxuICAgICAgICAgIF9waW5nUmVjZWl2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgaWYoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgX2lzQ2FjaGVSdW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSwgci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgLy8gUmlzZSBDYWNoZSBWMiBpcyBydW5uaW5nXG4gICAgICAgICAgICBfaXNWMlJ1bm5pbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBjYWxsIHBpbmcgYWdhaW4gc28gY29ycmVjdCBwaW5nIFVSTCBpcyB1c2VkIGZvciBSaXNlIENhY2hlIFYyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5waW5nKGNhbGxiYWNrKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlJpc2UgQ2FjaGUgaXMgbm90IHJ1bm5pbmdcIik7XG4gICAgICAgICAgICBfaXNDYWNoZVJ1bm5pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkNhdWdodCBleGNlcHRpb246IFwiLCBlLmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cblxuICAgIH07XG4gICAgci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRGaWxlKGZpbGVVcmwsIGNhbGxiYWNrLCBub2NhY2hlYnVzdGVyKSB7XG4gICAgaWYgKCFmaWxlVXJsIHx8ICFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbGVSZXF1ZXN0KCkge1xuICAgICAgdmFyIHVybCwgc3RyLCBzZXBhcmF0b3I7XG5cbiAgICAgIGlmIChfaXNDYWNoZVJ1bm5pbmcpIHtcbiAgICAgICAgaWYgKF9pc1YyUnVubmluZykge1xuICAgICAgICAgIHVybCA9IEJBU0VfQ0FDSEVfVVJMICsgXCJmaWxlcz91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29uZmlndXJlIHVybCB3aXRoIGNhY2hlYnVzdGVyIG9yIG5vdFxuICAgICAgICAgIHVybCA9IChub2NhY2hlYnVzdGVyKSA/IEJBU0VfQ0FDSEVfVVJMICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpIDpcbiAgICAgICAgICBCQVNFX0NBQ0hFX1VSTCArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIFwiP3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlVXJsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5vY2FjaGVidXN0ZXIpIHtcbiAgICAgICAgICB1cmwgPSBmaWxlVXJsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IGZpbGVVcmwuc3BsaXQoXCI/XCIpO1xuICAgICAgICAgIHNlcGFyYXRvciA9IChzdHIubGVuZ3RoID09PSAxKSA/IFwiP1wiIDogXCImXCI7XG4gICAgICAgICAgdXJsID0gZmlsZVVybCArIHNlcGFyYXRvciArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtYWtlUmVxdWVzdChcIkhFQURcIiwgdXJsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlUmVxdWVzdChtZXRob2QsIHVybCkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICByZXF1ZXN0ID0ge1xuICAgICAgICAgIHhocjogeGhyLFxuICAgICAgICAgIHVybDogdXJsXG4gICAgICAgIH07XG5cbiAgICAgIGlmIChfaXNDYWNoZVJ1bm5pbmcpIHtcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgfHwgMDtcblxuICAgICAgICAgIGlmIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNlcnZlciBtYXkgbm90IHN1cHBvcnQgSEVBRCByZXF1ZXN0LiBGYWxsYmFjayB0byBhIEdFVCByZXF1ZXN0LlxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJIRUFEXCIpIHtcbiAgICAgICAgICAgICAgbWFrZVJlcXVlc3QoXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QsIG5ldyBFcnJvcihcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIHN0YXR1cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBSaXNlIENhY2hlIGlzIG5vdCBydW5uaW5nIChwcmV2aWV3KSwgc2tpcCBIRUFEIHJlcXVlc3QgYW5kIGV4ZWN1dGUgY2FsbGJhY2sgaW1tZWRpYXRlbHlcbiAgICAgICAgY2FsbGJhY2socmVxdWVzdCk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZmlsZVJlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmlsZVJlcXVlc3QoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUmlzZUNhY2hlUnVubmluZyhjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhfaXNDYWNoZVJ1bm5pbmcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKF9pc0NhY2hlUnVubmluZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNWMlJ1bm5pbmcoY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFfcGluZ1JlY2VpdmVkKSB7XG4gICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICByZXR1cm4gdGhpcy5waW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2soX2lzVjJSdW5uaW5nKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKF9pc1YyUnVubmluZyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRGaWxlOiBnZXRGaWxlLFxuICAgIGlzUmlzZUNhY2hlUnVubmluZzogaXNSaXNlQ2FjaGVSdW5uaW5nLFxuICAgIGlzVjJSdW5uaW5nOiBpc1YyUnVubmluZyxcbiAgICBwaW5nOiBwaW5nXG4gIH07XG5cbn0pKCk7XG5cbi8qIGV4cG9ydGVkIHZlcnNpb24gKi9cbnZhciB2ZXJzaW9uID0gXCIxLjEuMFwiO1xuLyogZXhwb3J0ZWQgY29uZmlnICovXG5pZiAodHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSlcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xufVxuXG52YXIgIGNvbmZpZyA9IHtcbiAgU1RPUkFHRV9FTlY6IFwicHJvZFwiLFxuICBDT01QT05FTlRTX1BBVEg6IFwiY29tcG9uZW50cy9cIlxufTtcblxuLyogZ2xvYmFsIGdhZGdldHMsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvID0gKGZ1bmN0aW9uICh3aW5kb3csIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hZGRpdGlvbmFsUGFyYW1zLCBfbW9kZTtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWUsXG4gICAgX2NvbmZpZ0RldGFpbHMgPSBudWxsO1xuXG4gIHZhciBfcHJlZnMgPSBudWxsLFxuICAgIF9zdG9yYWdlID0gbnVsbCxcbiAgICBfbm9uU3RvcmFnZSA9IG51bGwsXG4gICAgX21lc3NhZ2UgPSBudWxsLFxuICAgIF9wbGF5ZXIgPSBudWxsO1xuXG4gIHZhciBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICB2YXIgX3Jlc3VtZSA9IHRydWU7XG5cbiAgdmFyIF9jdXJyZW50RmlsZXMgPSBbXTtcblxuICB2YXIgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcblxuICB2YXIgX2Vycm9yTG9nID0gbnVsbCxcbiAgICBfZXJyb3JUaW1lciA9IG51bGwsXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlO1xuXG4gIHZhciBfc3RvcmFnZUVycm9yRmxhZyA9IGZhbHNlLFxuICAgIF9wbGF5ZXJFcnJvckZsYWcgPSBmYWxzZSxcbiAgICBfdW5hdmFpbGFibGVGbGFnID0gZmFsc2U7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX2RvbmUoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfZG9uZVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIikpO1xuXG4gICAgLy8gQW55IGVycm9ycyBuZWVkIHRvIGJlIGxvZ2dlZCBiZWZvcmUgdGhlIGRvbmUgZXZlbnQuXG4gICAgaWYgKF9lcnJvckxvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoX2Vycm9yTG9nLCB0cnVlKTtcbiAgICB9XG5cbiAgICBsb2dFdmVudCh7IFwiZXZlbnRcIjogXCJkb25lXCIgfSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsZWFyRXJyb3JUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoX2Vycm9yVGltZXIpO1xuICAgIF9lcnJvclRpbWVyID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydEVycm9yVGltZXIoKSB7XG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgX2Vycm9yVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIG5vdGlmeSBWaWV3ZXIgd2lkZ2V0IGlzIGRvbmVcbiAgICAgIF9kb25lKCk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0Q3VycmVudEZpbGUoKSB7XG4gICAgaWYgKF9jdXJyZW50RmlsZXMgJiYgX2N1cnJlbnRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAgIHJldHVybiBfY3VycmVudEZpbGVzWzBdO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgaWYgKF9jdXJyZW50UGxheWxpc3RJbmRleCkge1xuICAgICAgICAgIC8vIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgcGxheWVkIGZpbGVcbiAgICAgICAgICByZXR1cm4gX2N1cnJlbnRGaWxlc1tfY3VycmVudFBsYXlsaXN0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhhc1N0b3JhZ2VFcnJvcigpIHtcbiAgICByZXR1cm4gX3N0b3JhZ2VFcnJvckZsYWc7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNQbGF5ZXJFcnJvcigpIHtcbiAgICByZXR1cm4gX3BsYXllckVycm9yRmxhZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlLCBpc1N0b3JhZ2VFcnJvcikge1xuICAgIF9lcnJvckZsYWcgPSB0cnVlO1xuICAgIF9zdG9yYWdlRXJyb3JGbGFnID0gdHlwZW9mIGlzU3RvcmFnZUVycm9yICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgX21lc3NhZ2Uuc2hvdyhtZXNzYWdlKTtcblxuICAgIF9jdXJyZW50UGxheWxpc3RJbmRleCA9IG51bGw7XG5cbiAgICAvLyBpZiBXaWRnZXQgaXMgcGxheWluZyByaWdodCBub3csIHJ1biB0aGUgdGltZXJcbiAgICBpZiAoIV92aWV3ZXJQYXVzZWQpIHtcbiAgICAgIF9zdGFydEVycm9yVGltZXIoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHBhcmFtcywgaXNFcnJvcikge1xuICAgIGlmIChpc0Vycm9yKSB7XG4gICAgICBfZXJyb3JMb2cgPSBwYXJhbXM7XG4gICAgfVxuXG4gICAgaWYgKCFwYXJhbXMuZmlsZV91cmwpIHtcbiAgICAgIHBhcmFtcy5maWxlX3VybCA9IF9nZXRDdXJyZW50RmlsZSgpO1xuICAgIH1cblxuICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLmxvZ0V2ZW50KGdldFRhYmxlTmFtZSgpLCBwYXJhbXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlSW5pdCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nXG4gICAgICBfY3VycmVudEZpbGVzWzBdID0gdXJscztcbiAgICB9IGVsc2UgaWYgKF9tb2RlID09PSBcImZvbGRlclwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYW4gYXJyYXlcbiAgICAgIF9jdXJyZW50RmlsZXMgPSB1cmxzO1xuICAgIH1cblxuICAgIF91bmF2YWlsYWJsZUZsYWcgPSBmYWxzZTtcblxuICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgcGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRmlsZVJlZnJlc2godXJscykge1xuICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhIHN0cmluZyBvZiBvbmUgdXJsXG4gICAgICBfY3VycmVudEZpbGVzWzBdID0gdXJscztcbiAgICB9IGVsc2UgaWYgKF9tb2RlID09PSBcImZvbGRlclwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYW4gYXJyYXkgb2YgdXJsc1xuICAgICAgX2N1cnJlbnRGaWxlcyA9IHVybHM7XG4gICAgfVxuXG4gICAgaWYgKF9wbGF5ZXIpIHtcbiAgICAgIF9wbGF5ZXIudXBkYXRlKF9jdXJyZW50RmlsZXMpO1xuICAgIH1cblxuICAgIC8vIGluIGNhc2UgcmVmcmVzaGVkIGZpbGUgZml4ZXMgYW4gZXJyb3Igd2l0aCBwcmV2aW91cyBmaWxlLCBlbnN1cmUgZmxhZyBpcyByZW1vdmVkIHNvIHBsYXliYWNrIGlzIGF0dGVtcHRlZCBhZ2FpblxuICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcbiAgICBfcGxheWVyRXJyb3JGbGFnID0gZmFsc2U7XG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSBmYWxzZTtcbiAgICBfdW5hdmFpbGFibGVGbGFnID0gZmFsc2U7XG4gICAgX2Vycm9yTG9nID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRmlsZVVuYXZhaWxhYmxlKG1lc3NhZ2UpIHtcbiAgICBfdW5hdmFpbGFibGVGbGFnID0gdHJ1ZTtcblxuICAgIF9tZXNzYWdlLnNob3cobWVzc2FnZSk7XG5cbiAgICBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBudWxsO1xuXG4gICAgLy8gaWYgV2lkZ2V0IGlzIHBsYXlpbmcgcmlnaHQgbm93LCBydW4gdGhlIHRpbWVyXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG5cbiAgICBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICAgIC8vIGluIGNhc2UgZXJyb3IgdGltZXIgc3RpbGwgcnVubmluZyAobm8gY29uZGl0aW9uYWwgY2hlY2sgb24gZXJyb3JGbGFnLCBpdCBtYXkgaGF2ZSBiZWVuIHJlc2V0IGluIG9uRmlsZVJlZnJlc2gpXG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgaWYgKF9wbGF5ZXIpIHtcbiAgICAgIGlmICghX3Jlc3VtZSkge1xuICAgICAgICBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBudWxsO1xuICAgICAgICBfcGxheWVyLnJlc2V0KCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgX3BsYXllci5wYXVzZSgpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAvLyBMb2cgY29uZmlndXJhdGlvbiBldmVudC5cbiAgICAgIGxvZ0V2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiY29uZmlndXJhdGlvblwiLFxuICAgICAgICBldmVudF9kZXRhaWxzOiBfY29uZmlnRGV0YWlsc1xuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcblxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcInBsYXlcIiB9LCBmYWxzZSk7XG5cbiAgICBpZiAoX2Vycm9yRmxhZykge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfdW5hdmFpbGFibGVGbGFnKSB7XG4gICAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiICYmIF9zdG9yYWdlKSB7XG4gICAgICAgIF9zdG9yYWdlLnJldHJ5KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX3BsYXllcikge1xuICAgICAgLy8gRW5zdXJlcyBwb3NzaWJsZSBlcnJvciBtZXNzYWdpbmcgZ2V0cyBoaWRkZW4gYW5kIHZpZGVvIGdldHMgc2hvd25cbiAgICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgICAgX3BsYXllci5wbGF5KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKF9jdXJyZW50RmlsZXMgJiYgX2N1cnJlbnRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF9wbGF5ZXIgPSBuZXcgUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXIoX2FkZGl0aW9uYWxQYXJhbXMsIF9tb2RlKTtcbiAgICAgICAgX3BsYXllci5pbml0KF9jdXJyZW50RmlsZXMpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFibGVOYW1lKCkge1xuICAgIHJldHVybiBcInZpZGVvX3YyX2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheWVyRW5kZWQoKSB7XG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcblxuICAgIF9kb25lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5ZXJSZWFkeSgpIHtcbiAgICAvLyBFbnN1cmVzIGxvYWRpbmcgbWVzc2FnaW5nIGlzIGhpZGRlbiBhbmQgdmlkZW8gZ2V0cyBzaG93blxuICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCAmJiBfcGxheWVyKSB7XG4gICAgICBfcGxheWVyLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5ZXJJdGVtQ2hhbmdlKGluZGV4KSB7XG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKHBhcmFtcywgbW9kZSkge1xuICAgIHZhciBpc1N0b3JhZ2VGaWxlO1xuXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMgPSBfLmNsb25lKHBhcmFtcyk7XG4gICAgX21vZGUgPSBtb2RlO1xuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS53aWR0aCA9IF9wcmVmcy5nZXRJbnQoXCJyc1dcIikgKyBcInB4XCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKSArIFwicHhcIjtcblxuICAgIF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKTtcbiAgICBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpO1xuXG4gICAgaWYgKF9hZGRpdGlvbmFsUGFyYW1zLnZpZGVvLmhhc093blByb3BlcnR5KFwicmVzdW1lXCIpKSB7XG4gICAgICBfcmVzdW1lID0gX2FkZGl0aW9uYWxQYXJhbXMudmlkZW8ucmVzdW1lO1xuICAgIH1cblxuICAgIF9tZXNzYWdlID0gbmV3IFJpc2VWaXNpb24uQ29tbW9uLk1lc3NhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIiksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VDb250YWluZXJcIikpO1xuXG4gICAgaWYgKFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5pc0xlZ2FjeSgpKSB7XG4gICAgICBzaG93RXJyb3IoXCJUaGlzIHZlcnNpb24gb2YgVmlkZW8gV2lkZ2V0IGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyB2ZXJzaW9uIG9mIFJpc2UgUGxheWVyLiBcIiArXG4gICAgICAgIFwiUGxlYXNlIHVzZSB0aGUgbGF0ZXN0IFJpc2UgUGxheWVyIHZlcnNpb24gYXZhaWxhYmxlIGF0IGh0dHBzOi8vaGVscC5yaXNldmlzaW9uLmNvbS91c2VyL2NyZWF0ZS1hLWRpc3BsYXlcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNob3cgd2FpdCBtZXNzYWdlIHdoaWxlIFN0b3JhZ2UgaW5pdGlhbGl6ZXNcbiAgICAgIF9tZXNzYWdlLnNob3coXCJQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIHZpZGVvIGlzIGRvd25sb2FkZWQuXCIpO1xuXG4gICAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAgIGlzU3RvcmFnZUZpbGUgPSAoT2JqZWN0LmtleXMoX2FkZGl0aW9uYWxQYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKTtcblxuICAgICAgICBpZiAoIWlzU3RvcmFnZUZpbGUpIHtcbiAgICAgICAgICBfY29uZmlnRGV0YWlscyA9IFwiY3VzdG9tXCI7XG5cbiAgICAgICAgICBfbm9uU3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLk5vblN0b3JhZ2UoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgICAgIF9ub25TdG9yYWdlLmluaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY29uZmlnRGV0YWlscyA9IFwic3RvcmFnZSBmaWxlXCI7XG5cbiAgICAgICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZmlsZSBpbnN0YW5jZVxuICAgICAgICAgIF9zdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uU3RvcmFnZUZpbGUoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgICAgIF9zdG9yYWdlLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgX2NvbmZpZ0RldGFpbHMgPSBcInN0b3JhZ2UgZm9sZGVyXCI7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBTdG9yYWdlIGZvbGRlciBpbnN0YW5jZVxuICAgICAgICBfc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLlN0b3JhZ2VGb2xkZXIoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgICBfc3RvcmFnZS5pbml0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICAvLyBBbiBlcnJvciBvY2N1cnJlZCB3aXRoIEpXIFBsYXllci5cbiAgZnVuY3Rpb24gcGxheWVyRXJyb3IoZXJyb3IpIHtcbiAgICB2YXIgZGV0YWlscyA9IG51bGwsXG4gICAgICBwYXJhbXMgPSB7fSxcbiAgICAgIG1lc3NhZ2UgPSBcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIHBsYXlpbmcgdGhlIHZpZGVvLlwiLFxuICAgICAgTUVESUFfRVJST1IgPSBcIkVycm9yIGxvYWRpbmcgbWVkaWE6IEZpbGUgY291bGQgbm90IGJlIHBsYXllZFwiLFxuICAgICAgWU9VVFVCRV9FUlJPUiA9IFwiRXJyb3IgbG9hZGluZyBZb3VUdWJlOiBWaWRlbyBjb3VsZCBub3QgYmUgcGxheWVkXCIsXG4gICAgICBQTEFZRVJfRVJST1IgPSBcIkVycm9yIGxvYWRpbmcgcGxheWVyOiBObyBtZWRpYSBzb3VyY2VzIGZvdW5kXCIsXG4gICAgICBQTEFZTElTVF9FUlJPUiA9IFwiRXJyb3IgbG9hZGluZyBwbGF5bGlzdDogTm8gcGxheWFibGUgc291cmNlcyBmb3VuZFwiLFxuICAgICAgRU5DT0RJTkdfTUVTU0FHRSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBwbGF5aW5nIHRoYXQgdmlkZW8uIEl0IGNvdWxkIGJlIHRoYXQgd2UgZG9uJ3QgXCIgK1xuICAgICAgICBcInN1cHBvcnQgdGhhdCBmb3JtYXQgb3IgaXQgaXMgbm90IGVuY29kZWQgY29ycmVjdGx5LlwiLFxuICAgICAgRk9STUFUX01FU1NBR0UgPSBcIlRoZSBmb3JtYXQgb2YgdGhhdCB2aWRlbyBpcyBub3Qgc3VwcG9ydGVkXCI7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci50eXBlICYmIGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLnR5cGUgKyBcIiAtIFwiICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVycm9yLnR5cGUpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLnR5cGU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7XG4gICAgICAgIGRldGFpbHMgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICAvLyBEaXNwbGF5IGFwcHJvcHJpYXRlIG9uLXNjcmVlbiBlcnJvciBtZXNzYWdlLlxuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKChlcnJvci5tZXNzYWdlID09PSBNRURJQV9FUlJPUikgfHwgKGVycm9yLm1lc3NhZ2UgPT09IFlPVVRVQkVfRVJST1IpKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IEVOQ09ESU5HX01FU1NBR0U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3IubWVzc2FnZSA9PT0gUExBWUVSX0VSUk9SIHx8IGVycm9yLm1lc3NhZ2UgPT09IFBMQVlMSVNUX0VSUk9SKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IEZPUk1BVF9NRVNTQUdFO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGFyYW1zLmV2ZW50ID0gXCJwbGF5ZXIgZXJyb3JcIjtcbiAgICBwYXJhbXMuZXZlbnRfZGV0YWlscyA9IGRldGFpbHM7XG4gICAgX3BsYXllckVycm9yRmxhZyA9IHRydWU7XG5cbiAgICBsb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIHNob3dFcnJvcihtZXNzYWdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRUYWJsZU5hbWVcIjogZ2V0VGFibGVOYW1lLFxuICAgIFwiaGFzUGxheWVyRXJyb3JcIjogaGFzUGxheWVyRXJyb3IsXG4gICAgXCJoYXNTdG9yYWdlRXJyb3JcIjogaGFzU3RvcmFnZUVycm9yLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJvbkZpbGVJbml0XCI6IG9uRmlsZUluaXQsXG4gICAgXCJvbkZpbGVSZWZyZXNoXCI6IG9uRmlsZVJlZnJlc2gsXG4gICAgXCJvbkZpbGVVbmF2YWlsYWJsZVwiOiBvbkZpbGVVbmF2YWlsYWJsZSxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwic2hvd0Vycm9yXCI6IHNob3dFcnJvcixcbiAgICBcInBsYXllckVuZGVkXCI6IHBsYXllckVuZGVkLFxuICAgIFwicGxheWVyUmVhZHlcIjogcGxheWVyUmVhZHksXG4gICAgXCJwbGF5ZXJFcnJvclwiOiBwbGF5ZXJFcnJvcixcbiAgICBcInBsYXllckl0ZW1DaGFuZ2VcIjogcGxheWVySXRlbUNoYW5nZSxcbiAgICBcInN0b3BcIjogc3RvcFxuICB9O1xuXG59KSh3aW5kb3csIGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXJVdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFBsYXlsaXN0IChsaXN0KSB7XG4gICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICBcbiAgICB2YXIgcGxheWxpc3QgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgcGxheWxpc3QucHVzaCh7XG4gICAgICAgIGZpbGU6IGxpc3RbaV0sXG4gICAgICAgIHR5cGU6IHRoaXMuZ2V0VmlkZW9GaWxlVHlwZShsaXN0W2ldKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBsYXlsaXN0O1xuICB9XG4gIFxuICBmdW5jdGlvbiBnZXRWaWRlb0ZpbGVUeXBlICh1cmwpIHtcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IFtcIi5tcDRcIiwgXCIud2VibVwiXSxcbiAgICAgIHVybExvd2VyY2FzZSA9IHVybC50b0xvd2VyQ2FzZSgpLFxuICAgICAgdHlwZSA9IG51bGwsXG4gICAgICBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8PSBleHRlbnNpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodXJsTG93ZXJjYXNlLmluZGV4T2YoZXh0ZW5zaW9uc1tpXSkgIT09IC0xKSB7XG4gICAgICAgIHR5cGUgPSBleHRlbnNpb25zW2ldLnN1YnN0cihleHRlbnNpb25zW2ldLmxhc3RJbmRleE9mKFwiLlwiKSArIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRQbGF5bGlzdFwiOiBnZXRQbGF5bGlzdCxcbiAgICBcImdldFZpZGVvRmlsZVR5cGVcIjogZ2V0VmlkZW9GaWxlVHlwZVxuICB9O1xuXG59KSgpO1xuXG4vKiBnbG9iYWwgY29uZmlnICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLlN0b3JhZ2VGaWxlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pbml0aWFsTG9hZCA9IHRydWU7XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1N0b3JhZ2VcIik7XG5cbiAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLnVybCkge1xuXG4gICAgICAgIGlmIChfaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICBfaW5pdGlhbExvYWQgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlSW5pdChlLmRldGFpbC51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGNoZWNrIGZvciBcImNoYW5nZWRcIiBwcm9wZXJ0eVxuICAgICAgICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikpIHtcbiAgICAgICAgICAgIGlmIChlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlUmVmcmVzaChlLmRldGFpbC51cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICAgICAgICAgIGlmIChSaXNlVmlzaW9uLlZpZGVvLmhhc1N0b3JhZ2VFcnJvcigpIHx8IFJpc2VWaXNpb24uVmlkZW8uaGFzUGxheWVyRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIC8vIHByb2NlZWQgd2l0aCByZWZyZXNoIGxvZ2ljIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSB2aWRlbyBhZ2FpbiBmcm9tIGEgbmV0d29yayByZWNvdmVyeVxuICAgICAgICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlUmVmcmVzaChlLmRldGFpbC51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtYXBpLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJSZXNwb25zZSBjb2RlOiBcIiArIGUuZGV0YWlsLmNvZGUgKyBcIiwgbWVzc2FnZTogXCIgKyBlLmRldGFpbC5tZXNzYWdlXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLW5vLWZpbGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZmlsZSBub3QgZm91bmRcIiwgXCJldmVudF9kZXRhaWxzXCI6IGUuZGV0YWlsIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIHZpZGVvIGRvZXMgbm90IGV4aXN0IG9yIGhhcyBiZWVuIG1vdmVkIHRvIFRyYXNoLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1maWxlLXRocm90dGxlZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBmaWxlIHRocm90dGxlZFwiLCBcImZpbGVfdXJsXCI6IGUuZGV0YWlsIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIHZpZGVvIGlzIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCIgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJSaXNlIFN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGlzIG5vdCBhY3RpdmUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXNcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1ub3QtcnVubmluZ1wiLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIGNhY2hlIG5vdCBydW5uaW5nXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3IpPyBlLmRldGFpbC5lcnJvci5tZXNzYWdlOiBcIlwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWZpbGUtdW5hdmFpbGFibGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVVbmF2YWlsYWJsZShcIkZpbGUgaXMgZG93bmxvYWRpbmdcIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBkYXRhLnN0b3JhZ2UuZm9sZGVyKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZpbGVOYW1lXCIsIGRhdGEuc3RvcmFnZS5maWxlTmFtZSk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgZGF0YS5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXRyeSgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9TdG9yYWdlXCIpO1xuXG4gICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RvcmFnZS5nbygpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdCxcbiAgICBcInJldHJ5XCI6IHJldHJ5XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgY29uZmlnLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLlN0b3JhZ2VGb2xkZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2luaXRpYWxMb2FkID0gdHJ1ZTtcblxuICB2YXIgX2ZpbGVzID0gW107XG5cbiAgZnVuY3Rpb24gX2dldFVybHMoKSB7XG4gICAgcmV0dXJuIF8ucGx1Y2soX2ZpbGVzLCBcInVybFwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRFeGlzdGluZ0ZpbGUoZmlsZSkge1xuICAgIHJldHVybiBfLmZpbmQoX2ZpbGVzLCBmdW5jdGlvbiAoZikge1xuICAgICAgcmV0dXJuIGZpbGUubmFtZSA9PT0gZi5uYW1lO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlbGV0ZUZpbGUoZmlsZSkge1xuICAgIHZhciBleGlzdGluZyA9IF9nZXRFeGlzdGluZ0ZpbGUoZmlsZSk7XG5cbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIF9maWxlcy5zcGxpY2UoX2ZpbGVzLmluZGV4T2YoZXhpc3RpbmcpLCAxKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY2hhbmdlRmlsZShmaWxlKSB7XG4gICAgdmFyIGV4aXN0aW5nID0gX2dldEV4aXN0aW5nRmlsZShmaWxlKTtcblxuICAgIGlmIChleGlzdGluZykge1xuICAgICAgZXhpc3RpbmcudXJsID0gZmlsZS51cmw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2FkZEZpbGUoZmlsZSkge1xuICAgIHZhciBleGlzdGluZyA9IF9nZXRFeGlzdGluZ0ZpbGUoZmlsZSk7XG5cbiAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAvLyBleHRyYWN0IHRoZSBhY3R1YWwgZmlsZSBuYW1lIGFuZCBzdG9yZSBpbiBuZXcgcHJvcGVydHkgb24gZmlsZSBvYmplY3RcbiAgICAgIGZpbGUuZmlsZU5hbWUgPSBmaWxlLm5hbWUuc2xpY2UoZmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiL1wiKSArIDEsIGZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIikpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIC8vIGluc2VydCBmaWxlIHRvIF9maWxlcyBsaXN0IGF0IHNwZWNpZmljIGluZGV4IGJhc2VkIG9uIGFscGhhYmV0aWNhbCBvcmRlciBvZiBmaWxlIG5hbWVcbiAgICAgIF9maWxlcy5zcGxpY2UoXy5zb3J0ZWRJbmRleChfZmlsZXMsIGZpbGUsIFwiZmlsZU5hbWVcIiksIDAsIGZpbGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9TdG9yYWdlXCIpO1xuXG4gICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBmaWxlID0gZS5kZXRhaWw7XG5cbiAgICAgIC8vIEFkZGVkXG4gICAgICBpZihmaWxlLmFkZGVkKSB7XG4gICAgICAgIF9hZGRGaWxlKGZpbGUpO1xuXG4gICAgICAgIGlmIChfaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICBfaW5pdGlhbExvYWQgPSBmYWxzZTtcbiAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZUluaXQoX2dldFVybHMoKSk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2hhbmdlZCBvciB1bmNoYW5nZWRcbiAgICAgIGlmIChmaWxlLmhhc093blByb3BlcnR5KFwiY2hhbmdlZFwiKSkge1xuICAgICAgICBpZihmaWxlLmNoYW5nZWQpIHtcbiAgICAgICAgICBfY2hhbmdlRmlsZShmaWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBpbiB0aGUgZXZlbnQgb2YgYSBuZXR3b3JrIGZhaWx1cmUgYW5kIHJlY292ZXJ5LCBjaGVjayBpZiB0aGUgV2lkZ2V0IGlzIGluIGEgc3RhdGUgb2Ygc3RvcmFnZSBlcnJvclxuICAgICAgICAgIGlmICghUmlzZVZpc2lvbi5WaWRlby5oYXNTdG9yYWdlRXJyb3IoKSAmJiAhUmlzZVZpc2lvbi5WaWRlby5oYXNQbGF5ZXJFcnJvcigpKSB7XG4gICAgICAgICAgICAvLyBvbmx5IHByb2NlZWQgd2l0aCByZWZyZXNoIGxvZ2ljIGJlbG93IGlmIHRoZXJlJ3MgYmVlbiBhIHN0b3JhZ2UgZXJyb3IsIG90aGVyd2lzZSBkbyBub3RoaW5nXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSB2aWRlbyBhZ2FpbiBmcm9tIGEgbmV0d29yayByZWNvdmVyeVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBEZWxldGVkXG4gICAgICBpZihmaWxlLmRlbGV0ZWQpIHtcbiAgICAgICAgX2RlbGV0ZUZpbGUoZmlsZSk7XG4gICAgICB9XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlUmVmcmVzaChfZ2V0VXJscygpKTtcblxuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWFwaS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwic3RvcmFnZSBhcGkgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiUmVzcG9uc2UgY29kZTogXCIgKyBlLmRldGFpbC5jb2RlICsgXCIsIG1lc3NhZ2U6IFwiICsgZS5kZXRhaWwubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lbXB0eS1mb2xkZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZm9sZGVyIGVtcHR5XCIgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IHZpZGVvcy5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utbm8tZm9sZGVyXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBmb2xkZXIgZG9lc24ndCBleGlzdFwiLCBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGV4aXN0IG9yIGhhcyBiZWVuIG1vdmVkIHRvIFRyYXNoLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1mb2xkZXItaW52YWxpZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBmb2xkZXIgZm9ybWF0KHMpIGludmFsaWRcIiB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBmb2xkZXIgZG9lcyBub3QgY29udGFpbiBhbnkgc3VwcG9ydGVkIHZpZGVvIGZvcm1hdHMuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1leHBpcmVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGV4cGlyZWRcIiB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlJpc2UgU3RvcmFnZSBzdWJzY3JpcHRpb24gaXMgbm90IGFjdGl2ZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utc3Vic2NyaXB0aW9uLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJUaGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZTogXCIgKyBlLmRldGFpbC5lcnJvci5jdXJyZW50VGFyZ2V0LnN0YXR1c1xuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIHN0b3JhZ2UgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXNcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIiwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIGNhY2hlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBlLmRldGFpbC5lcnJvci5tZXNzYWdlXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG5cbiAgICAgIHZhciBzdGF0dXNDb2RlID0gMDtcbiAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICBpZihlLmRldGFpbC5lcnJvci5tZXNzYWdlKXtcbiAgICAgICAgc3RhdHVzQ29kZSA9ICtlLmRldGFpbC5lcnJvci5tZXNzYWdlLnN1YnN0cmluZyhlLmRldGFpbC5lcnJvci5tZXNzYWdlLmluZGV4T2YoXCI6XCIpKzIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXJyb3JNZXNzYWdlID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLW5vdC1ydW5uaW5nXCIsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2UgY2FjaGUgbm90IHJ1bm5pbmdcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IChlLmRldGFpbCAmJiBlLmRldGFpbC5lcnJvcik/IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2U6IFwiXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZVR5cGVcIiwgXCJ2aWRlb1wiKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBkYXRhLnN0b3JhZ2UuY29tcGFueUlkKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBkYXRhLnN0b3JhZ2UuZm9sZGVyKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImVudlwiLCBjb25maWcuU1RPUkFHRV9FTlYpO1xuXG4gICAgc3RvcmFnZS5nbygpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uTm9uU3RvcmFnZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciByaXNlQ2FjaGUgPSBSaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGU7XG5cbiAgdmFyIF9yZWZyZXNoRHVyYXRpb24gPSA5MDAwMDAsICAvLyAxNSBtaW51dGVzXG4gICAgX3JlZnJlc2hJbnRlcnZhbElkID0gbnVsbDtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWU7XG5cbiAgdmFyIF91cmwgPSBcIlwiO1xuXG4gIGZ1bmN0aW9uIF9nZXRGaWxlKG9taXRDYWNoZUJ1c3Rlcikge1xuICAgIHJpc2VDYWNoZS5nZXRGaWxlKF91cmwsIGZ1bmN0aW9uIChyZXNwb25zZSwgZXJyb3IpIHtcbiAgICAgIGlmICghZXJyb3IpIHtcblxuICAgICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAgIF9pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlSW5pdChyZXNwb25zZS51cmwpO1xuXG4gICAgICAgICAgLy8gc3RhcnQgdGhlIHJlZnJlc2ggaW50ZXJ2YWxcbiAgICAgICAgICBfc3RhcnRSZWZyZXNoSW50ZXJ2YWwoKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlUmVmcmVzaChyZXNwb25zZS51cmwpO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVycm9yIG9jY3VycmVkXG4gICAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQoe1xuICAgICAgICAgIFwiZXZlbnRcIjogXCJub24tc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIFwiZmlsZV91cmxcIjogcmVzcG9uc2UudXJsXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gMDtcbiAgICAgICAgLy8gU2hvdyBhIGRpZmZlcmVudCBtZXNzYWdlIGlmIHRoZXJlIGlzIGEgNDA0IGNvbWluZyBmcm9tIHJpc2UgY2FjaGVcbiAgICAgICAgaWYoZXJyb3IubWVzc2FnZSl7XG4gICAgICAgICAgc3RhdHVzQ29kZSA9ICtlcnJvci5tZXNzYWdlLnN1YnN0cmluZyhlcnJvci5tZXNzYWdlLmluZGV4T2YoXCI6XCIpKzIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSwgb21pdENhY2hlQnVzdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydFJlZnJlc2hJbnRlcnZhbCgpIHtcbiAgICBpZiAoX3JlZnJlc2hJbnRlcnZhbElkID09PSBudWxsKSB7XG4gICAgICBfcmVmcmVzaEludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9nZXRGaWxlKGZhbHNlKTtcbiAgICAgIH0sIF9yZWZyZXNoRHVyYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyBIYW5kbGUgcHJlLW1lcmdlIHVzZSBvZiBcInVybFwiIHNldHRpbmcgcHJvcGVydHlcbiAgICBfdXJsID0gKGRhdGEudXJsICYmIGRhdGEudXJsICE9PSBcIlwiKSA/IGRhdGEudXJsIDogZGF0YS5zZWxlY3Rvci51cmw7XG5cbiAgICBfZ2V0RmlsZSh0cnVlKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBqd3BsYXllciAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYXV0b1BsYXksIF9zdHJldGNoaW5nLCBfcGF1c2VEdXJhdGlvbjtcblxuICB2YXIgX3BsYXllckluc3RhbmNlID0gbnVsbDtcblxuICB2YXIgX3V0aWxzID0gUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXJVdGlscztcblxuICB2YXIgX3ZpZXdlclBhdXNlZCA9IGZhbHNlLFxuICAgIF9wYXVzZVRpbWVyID0gbnVsbDtcblxuICB2YXIgX2ZpbGVzID0gbnVsbCxcbiAgICBfdXBkYXRlV2FpdGluZyA9IGZhbHNlO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9vbkNvbXBsZXRlKCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheWVyRW5kZWQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblBhdXNlKCkge1xuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgLy8gdXNlciBoYXMgcGF1c2VkLCBzZXQgYSB0aW1lciB0byBwbGF5IGFnYWluXG4gICAgICBjbGVhclRpbWVvdXQoX3BhdXNlVGltZXIpO1xuXG4gICAgICBfcGF1c2VUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3BsYXllckluc3RhbmNlLmdldFN0YXRlKCkudG9VcHBlckNhc2UoKSAhPT0gXCJQTEFZSU5HXCIpIHtcbiAgICAgICAgICAvLyBjb250aW51ZSBwbGF5aW5nIHRoZSBjdXJyZW50IHZpZGVvXG4gICAgICAgICAgX3BsYXllckluc3RhbmNlLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX3BhdXNlRHVyYXRpb24gKiAxMDAwKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfb25QbGF5bGlzdEl0ZW0oaW5kZXgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllckl0ZW1DaGFuZ2UoaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uUGxheWVyRXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheWVyRXJyb3Ioe1xuICAgICAgICB0eXBlOiBcInZpZGVvXCIsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblNldHVwRXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheWVyRXJyb3Ioe1xuICAgICAgICB0eXBlOiBcInNldHVwXCIsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb25maWd1cmVIYW5kbGVycygpIHtcbiAgICAvL3ZhciBwbGF5Rm4gPSBwbGF5O1xuXG4gICAgLy8gaGFuZGxlIGEgSldQbGF5ZXIgc2V0dXAgZXJyb3JcbiAgICBfcGxheWVySW5zdGFuY2Uub24oXCJzZXR1cEVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgX29uU2V0dXBFcnJvcihlcnJvcik7XG4gICAgfSk7XG5cbiAgICAvLyBoYW5kbGUgd2hlbiBKV1BsYXllciBpcyByZWFkeVxuICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInJlYWR5XCIsIGZ1bmN0aW9uKCkge1xuXG4gICAgICBfcGxheWVySW5zdGFuY2Uub24oXCJwbGF5bGlzdENvbXBsZXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX29uQ29tcGxldGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBfcGxheWVySW5zdGFuY2Uub24oXCJwbGF5bGlzdEl0ZW1cIiwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBfb25QbGF5bGlzdEl0ZW0oZGF0YS5pbmRleCk7XG4gICAgICB9KTtcblxuICAgICAgX3BsYXllckluc3RhbmNlLm9uKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIF9vblBsYXllckVycm9yKGVycm9yKTtcbiAgICAgIH0pO1xuXG4gICAgICBfcGxheWVySW5zdGFuY2Uuc2V0Vm9sdW1lKHBhcmFtcy52aWRlby52b2x1bWUpO1xuXG4gICAgICBpZiAocGFyYW1zLnZpZGVvLmNvbnRyb2xzICYmIF9wYXVzZUR1cmF0aW9uID4gMSkge1xuICAgICAgICBfcGxheWVySW5zdGFuY2Uub24oXCJwYXVzZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX29uUGF1c2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHBsYXllciBpcyByZWFkeVxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJSZWFkeSgpO1xuXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0U2V0dXBEYXRhKGZpbGVzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRyb2xzOiBwYXJhbXMudmlkZW8uY29udHJvbHMsXG4gICAgICBoZWlnaHQ6IHBhcmFtcy5oZWlnaHQsXG4gICAgICBwbGF5bGlzdDogX3V0aWxzLmdldFBsYXlsaXN0KGZpbGVzKSxcbiAgICAgIHNraW46IHtuYW1lOiBcInJpc2VcIn0sXG4gICAgICBzdHJldGNoaW5nIDogX3N0cmV0Y2hpbmcsXG4gICAgICB3aWR0aDogcGFyYW1zLndpZHRoXG4gICAgfTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdChmaWxlcykge1xuICAgIF9wbGF5ZXJJbnN0YW5jZSA9IGp3cGxheWVyKFwicGxheWVyXCIpO1xuXG4gICAgX2ZpbGVzID0gZmlsZXM7XG5cbiAgICBfc3RyZXRjaGluZyA9IChwYXJhbXMudmlkZW8uc2NhbGVUb0ZpdCkgPyBcInVuaWZvcm1cIiA6IFwibm9uZVwiO1xuXG4gICAgLy8gZW5zdXJlIGF1dG9QbGF5IGlzIHRydWUgaWYgY29udHJvbHMgdmFsdWUgaXMgZmFsc2UsIG90aGVyd2lzZSB1c2UgcGFyYW1zIHZhbHVlXG4gICAgX2F1dG9QbGF5ID0gKCFwYXJhbXMudmlkZW8uY29udHJvbHMpID8gdHJ1ZSA6IHBhcmFtcy52aWRlby5hdXRvcGxheTtcblxuICAgIC8vIGNoZWNrIGlmIHRoaXMgc2V0dGluZyBleGlzdHMgZHVlIHRvIG1lcmdlIG9mIGZpbGUgYW5kIGZvbGRlclxuICAgIGlmIChwYXJhbXMudmlkZW8ucGF1c2UpIHtcbiAgICAgIC8vIGNvbnZlcnQgcGF1c2UgdmFsdWUgdG8gbnVtYmVyIGlmIHR5cGUgaXMgXCJzdHJpbmdcIlxuICAgICAgcGFyYW1zLnZpZGVvLnBhdXNlID0gKHR5cGVvZiBwYXJhbXMudmlkZW8ucGF1c2UgPT09IFwic3RyaW5nXCIpID8gcGFyc2VJbnQocGFyYW1zLnZpZGVvLnBhdXNlLCAxMCkgOiBwYXJhbXMudmlkZW8ucGF1c2U7XG5cbiAgICAgIC8vIGlmIG5vdCBvZiB0eXBlIFwibnVtYmVyXCIsIHNldCBpdHMgdmFsdWUgdG8gMCBzbyBhIHBhdXNlIGRvZXMgbm90IGdldCBhcHBsaWVkXG4gICAgICBfcGF1c2VEdXJhdGlvbiA9IChpc05hTihwYXJhbXMudmlkZW8ucGF1c2UpKSA/IDAgOiBwYXJhbXMudmlkZW8ucGF1c2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVuc3VyZSBubyBwYXVzZSBkdXJhdGlvbiBvY2N1cnNcbiAgICAgIF9wYXVzZUR1cmF0aW9uID0gMDtcbiAgICB9XG5cbiAgICAvLyBzZXR1cCBKV1BsYXllclxuICAgIF9wbGF5ZXJJbnN0YW5jZS5zZXR1cChfZ2V0U2V0dXBEYXRhKGZpbGVzKSk7XG4gICAgX2NvbmZpZ3VyZUhhbmRsZXJzKCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgX3ZpZXdlclBhdXNlZCA9IGZhbHNlO1xuXG4gICAgaWYgKF91cGRhdGVXYWl0aW5nKSB7XG4gICAgICBfdXBkYXRlV2FpdGluZyA9IGZhbHNlO1xuICAgICAgLy8gbG9hZCBhIG5ldyBwbGF5bGlzdFxuICAgICAgX3BsYXllckluc3RhbmNlLmxvYWQoX3V0aWxzLmdldFBsYXlsaXN0KF9maWxlcykpO1xuICAgIH1cblxuICAgIGlmIChfYXV0b1BsYXkpIHtcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5wbGF5KCk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcbiAgICBjbGVhclRpbWVvdXQoX3BhdXNlVGltZXIpO1xuXG4gICAgaWYgKF9wbGF5ZXJJbnN0YW5jZS5nZXRTdGF0ZSgpLnRvVXBwZXJDYXNlKCkgPT09IFwiUExBWUlOR1wiKSB7XG4gICAgICBfcGxheWVySW5zdGFuY2UucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldCgpIHtcblxuICAgIHBhdXNlKCk7XG5cbiAgICBmdW5jdGlvbiBvblBsYXkoKSB7XG4gICAgICAvLyByZW1vdmUgaGFuZGxpbmcgdGhlIHBsYXkgZXZlbnRcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vZmYoXCJwbGF5XCIsIG9uUGxheSk7XG5cbiAgICAgIC8vIHBhdXNlIHRoZSB2aWRlbyBhdCB0aGUgc3RhcnRcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5wYXVzZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU2Vla2VkKCkge1xuICAgICAgLy8gcmVtb3ZlIGhhbmRsaW5nIHRoZSBzZWVrZWQgZXZlbnRcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vZmYoXCJzZWVrZWRcIiwgb25TZWVrZWQpO1xuXG4gICAgICAvLyBwYXVzZSB0aGUgdmlkZW8gYXQgdGhlIHN0YXJ0XG4gICAgICBfcGxheWVySW5zdGFuY2UucGF1c2UoKTtcbiAgICB9XG5cbiAgICAvLyBpZiBzdGF0dXMgaXMgQ09NUExFVEUsIGEgZnV0dXJlIHBsYXkgY2FsbCB3aWxsIHN0YXJ0IHBsYXlsaXN0IG92ZXIgZnJvbSBiZWdpbm5pbmcgYXV0b21hdGljYWxseVxuICAgIGlmIChfcGxheWVySW5zdGFuY2UuZ2V0U3RhdGUoKS50b1VwcGVyQ2FzZSgpICE9PSBcIkNPTVBMRVRFXCIpIHtcblxuICAgICAgLy8gYXZvaWQgandwbGF5ZXIgcHJvbWlzZSBlcnJvciBpbiBjb25zb2xlIHdpdGggc2V0VGltZW91dCAtIGh0dHA6Ly9nb28uZ2wvTDRna1RtXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF9wbGF5ZXJJbnN0YW5jZS5nZXRQbGF5bGlzdEluZGV4KCkgIT09IDApIHtcbiAgICAgICAgICBfcGxheWVySW5zdGFuY2Uub24oXCJwbGF5XCIsIG9uUGxheSk7XG5cbiAgICAgICAgICAvLyBjaGFuZ2UgdG8gZmlyc3QgdmlkZW8gaW4gbGlzdFxuICAgICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5wbGF5bGlzdEl0ZW0oMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gaGFuZGxlIHdoZW4gdmlkZW8gY29udGludWVzIHBsYXlpbmcgYWZ0ZXIgc2Vla2luZyB0byBwb3NpdGlvblxuICAgICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInNlZWtlZFwiLCBvblNlZWtlZCk7XG5cbiAgICAgICAgICAvLyBtb3ZlIHBvc2l0aW9uIGJhY2sgdG8gc3RhcnQgb2YgdmlkZW9cbiAgICAgICAgICBfcGxheWVySW5zdGFuY2Uuc2VlaygwKTtcbiAgICAgICAgfVxuICAgICAgfSwxMDApO1xuICAgICAgXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoZmlsZXMpIHtcbiAgICBfZmlsZXMgPSBmaWxlcztcbiAgICBfdXBkYXRlV2FpdGluZyA9IHRydWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0LFxuICAgIFwicGF1c2VcIjogcGF1c2UsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJyZXNldFwiOiByZXNldCxcbiAgICBcInVwZGF0ZVwiOiB1cGRhdGVcbiAgfTtcbn07XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLk1lc3NhZ2UgPSBmdW5jdGlvbiAobWFpbkNvbnRhaW5lciwgbWVzc2FnZUNvbnRhaW5lcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2FjdGl2ZSA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgIHRyeSB7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG1haW5Db250YWluZXIuc3R5bGUuaGVpZ2h0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNhbid0IGluaXRpYWxpemUgTWVzc2FnZSAtIFwiLCBlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICBpZiAoX2FjdGl2ZSkge1xuICAgICAgLy8gY2xlYXIgY29udGVudCBvZiBtZXNzYWdlIGNvbnRhaW5lclxuICAgICAgd2hpbGUgKG1lc3NhZ2VDb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICBtZXNzYWdlQ29udGFpbmVyLnJlbW92ZUNoaWxkKG1lc3NhZ2VDb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGhpZGUgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICAvLyBzaG93IG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIF9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBwO1xuXG4gICAgaWYgKCFfYWN0aXZlKSB7XG4gICAgICAvLyBoaWRlIG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgICAvLyBjcmVhdGUgbWVzc2FnZSBlbGVtZW50XG4gICAgICBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgICBwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWVzc2FnZVwiKTtcblxuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocCk7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgICAgX2FjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1lc3NhZ2UgYWxyZWFkeSBiZWluZyBzaG93biwgdXBkYXRlIG1lc3NhZ2UgdGV4dFxuICAgICAgcCA9IG1lc3NhZ2VDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlXCIpO1xuICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIF9pbml0KCk7XG5cbiAgcmV0dXJuIHtcbiAgICBcImhpZGVcIjogaGlkZSxcbiAgICBcInNob3dcIjogc2hvd1xuICB9O1xufTtcblxuLyogZ2xvYmFsIGdhZGdldHMsIFJpc2VWaXNpb24sIGNvbmZpZyAqL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLFxuICAgIGlkID0gcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgLy8gRGlzYWJsZSBjb250ZXh0IG1lbnUgKHJpZ2h0IGNsaWNrIG1lbnUpXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBjb25maWd1cmUobmFtZXMsIHZhbHVlcykge1xuICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zID0gbnVsbCxcbiAgICAgIG1vZGUgPSBcIlwiLFxuICAgICAgY29tcGFueUlkID0gXCJcIixcbiAgICAgIGRpc3BsYXlJZCA9IFwiXCI7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lcykgJiYgbmFtZXMubGVuZ3RoID4gMCAmJiBBcnJheS5pc0FycmF5KHZhbHVlcykgJiYgdmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChuYW1lc1swXSA9PT0gXCJjb21wYW55SWRcIikge1xuICAgICAgICBjb21wYW55SWQgPSB2YWx1ZXNbMF07XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lc1sxXSA9PT0gXCJkaXNwbGF5SWRcIikge1xuICAgICAgICBpZiAodmFsdWVzWzFdKSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gdmFsdWVzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IFwicHJldmlld1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldElkcyhjb21wYW55SWQsIGRpc3BsYXlJZCk7XG4gICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5zZXRWZXJzaW9uKHZlcnNpb24pO1xuXG4gICAgICBpZiAobmFtZXNbMl0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1syXSk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFkZGl0aW9uYWxQYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgLy8gc3RvcmFnZSBmaWxlIG9yIGZvbGRlciBzZWxlY3RlZFxuICAgICAgICAgIGlmICghYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlLmZpbGVOYW1lKSB7XG4gICAgICAgICAgICAvLyBmb2xkZXIgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICBtb2RlID0gXCJmb2xkZXJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm9uLXN0b3JhZ2UgZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICBtb2RlID0gXCJmaWxlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLnNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcywgbW9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5zdG9wKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG5cbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgY29uZmlndXJlKTtcbiAgICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiY29tcGFueUlkXCIsIFwiZGlzcGxheUlkXCIsIFwiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gY2hlY2sgd2hpY2ggdmVyc2lvbiBvZiBSaXNlIENhY2hlIGlzIHJ1bm5pbmcgYW5kIGR5bmFtaWNhbGx5IGFkZCByaXNlLXN0b3JhZ2UgZGVwZW5kZW5jaWVzXG4gIFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZS5pc1YyUnVubmluZyhmdW5jdGlvbiAoaXNWMikge1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKSxcbiAgICAgIHdlYmNvbXBvbmVudHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLFxuICAgICAgaHJlZiA9IGNvbmZpZy5DT01QT05FTlRTX1BBVEggKyAoKGlzVjIpID8gXCJyaXNlLXN0b3JhZ2UtdjJcIiA6IFwicmlzZS1zdG9yYWdlXCIpICsgXCIvcmlzZS1zdG9yYWdlLmh0bWxcIixcbiAgICAgIHN0b3JhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicmlzZS1zdG9yYWdlXCIpLFxuICAgICAgc3RvcmFnZVJlYWR5ID0gZmFsc2UsXG4gICAgICBwb2x5bWVyUmVhZHkgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIG9uUG9seW1lclJlYWR5KCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgb25Qb2x5bWVyUmVhZHkpO1xuICAgICAgcG9seW1lclJlYWR5ID0gdHJ1ZTtcblxuICAgICAgaWYgKHN0b3JhZ2VSZWFkeSAmJiBwb2x5bWVyUmVhZHkpIHtcbiAgICAgICAgaW5pdCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU3RvcmFnZVJlYWR5KCkge1xuICAgICAgc3RvcmFnZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlYWR5XCIsIG9uU3RvcmFnZVJlYWR5KTtcbiAgICAgIHN0b3JhZ2VSZWFkeSA9IHRydWU7XG5cbiAgICAgIGlmIChzdG9yYWdlUmVhZHkgJiYgcG9seW1lclJlYWR5KSB7XG4gICAgICAgIGluaXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3ZWJjb21wb25lbnRzLnNyYyA9IGNvbmZpZy5DT01QT05FTlRTX1BBVEggKyBcIndlYmNvbXBvbmVudHNqcy93ZWJjb21wb25lbnRzLWxpdGUubWluLmpzXCI7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgb25Qb2x5bWVyUmVhZHkpO1xuXG4gICAgLy8gYWRkIHRoZSB3ZWJjb21wb25lbnRzIHBvbHlmaWxsIHNvdXJjZSB0byB0aGUgZG9jdW1lbnQgaGVhZFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZCh3ZWJjb21wb25lbnRzKTtcblxuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwicmVsXCIsIFwiaW1wb3J0XCIpO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBocmVmKTtcblxuICAgIC8vIGFkZCB0aGUgcmlzZS1zdG9yYWdlIDxsaW5rPiBlbGVtZW50IHRvIGRvY3VtZW50IGhlYWRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQobGluayk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwidmlkZW9TdG9yYWdlXCIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwicmVmcmVzaFwiLCA1KTtcbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVhZHlcIiwgb25TdG9yYWdlUmVhZHkpO1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHN0b3JhZ2UpO1xuXG4gICAgLy8gYWRkIHRoZSA8cmlzZS1zdG9yYWdlPiBlbGVtZW50IHRvIHRoZSBib2R5XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gIH0pO1xuXG59KSh3aW5kb3csIGdhZGdldHMpO1xuXG5cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xudmFyIF9nYXEgPSBfZ2FxIHx8IFtdO1xuXG5fZ2FxLnB1c2goWydfc2V0QWNjb3VudCcsICdVQS01NzA5MjE1OS0yJ10pO1xuX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnXSk7XG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIGdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IGdhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly9zc2wnIDogJ2h0dHA6Ly93d3cnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnO1xuICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7XG59KSgpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
