var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,i){var n=null;e.event?(n=e,n.file_url&&(n.file_format=t(n.file_url)),n.company_id=l,n.display_id=a,d&&(n.version=d),i(n)):i(n)}function i(){var e=new Date,i=e.getUTCFullYear(),t=e.getUTCMonth()+1,n=e.getUTCDate();return 10>t&&(t="0"+t),10>n&&(n="0"+n),i+t+n}function t(e){var i,t=/[?#&]/;return e&&"string"==typeof e?(i=e.substr(e.lastIndexOf(".")+1),t.test(i)&&(i=i.substr(0,-1!==i.indexOf("?")?i.indexOf("?"):i.length),i=i.substr(0,-1!==i.indexOf("#")?i.indexOf("#"):i.length),i=i.substr(0,-1!==i.indexOf("&")?i.indexOf("&"):i.length)),i.toLowerCase()):null}function n(e){var t={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:i(),rows:[{insertId:""}]},n=JSON.parse(JSON.stringify(t));return n.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),n.rows[0].json=JSON.parse(JSON.stringify(e)),n.rows[0].json.ts=(new Date).toISOString(),n}function o(i,t){e(t,function(e){null!==e&&RiseVision.Common.Logger.log(i,e)})}function s(e,i){l=e,a=i}function r(e){d=e}var a="",l="",d=null;return{getInsertData:n,getFileFormat:t,logEvent:o,setIds:s,setVersion:r}}(),RiseVision.Common.Logger=function(e){"use strict";function i(e){var i=new XMLHttpRequest;return new Date-d<358e4?e({}):(i.open("POST",o,!0),i.onloadend=function(){var t=JSON.parse(i.response);e({token:t.access_token,refreshedAt:new Date})},i.send(),void 0)}function t(e){return r&&l===e}function n(n,o){function c(i){var t,r,a=new XMLHttpRequest;r=s.replace("TABLE_ID",n),d=i.refreshedAt||d,u=i.token||u,t=e.getInsertData(o),a.open("POST",r,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+u),o.cb&&"function"==typeof o.cb&&(a.onloadend=function(){o.cb(a.response)}),a.send(JSON.stringify(t))}if(!(!n||!o||o.hasOwnProperty("event")&&!o.event||o.hasOwnProperty("event")&&t(o.event)))return r=!0,l=o.event,setTimeout(function(){r=!1},a),i(c)}var o="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",s="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",r=!1,a=1e3,l="",d=0,u="";return{log:n}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,i){var t="font-family: "+decodeURIComponent(i.font.family).replace(/'/g,"")+"; ",n="color: "+(i.color?i.color:i.forecolor)+"; ",o="font-size: "+(-1===i.size.indexOf("px")?i.size+"px; ":i.size+"; "),s="font-weight: "+(i.bold?"bold":"normal")+"; ",r="font-style: "+(i.italic?"italic":"normal")+"; ",a="text-decoration: "+(i.underline?"underline":"none")+"; ",l="background-color: "+(i.highlightColor?i.highlightColor:i.backcolor)+";";return"."+e+" {"+t+n+o+s+r+a+l+"}"}function i(e){for(var i=document.createElement("style"),t=0,n=e.length;n>t;t++)i.appendChild(document.createTextNode(e[t]));document.head.appendChild(i)}function t(t,s){function r(){s&&"function"==typeof s&&s()}function a(){r()}var l=null,d=[],u=[],c=[];if(!t||0===t.length)return r(),void 0;t.forEach(function(t){t.class&&t.fontStyle&&i([e(t.class,t.fontStyle)])});for(var f=0;f<t.length;f++)t[f].fontStyle&&t[f].fontStyle.font.type&&"google"===t[f].fontStyle.font.type&&(l=t[f].fontStyle.font.family.split(",")[0],l=l.replace(/'/g,""),d.push(l));for(f=0;f<t.length;f++)t[f].fontStyle&&t[f].fontStyle.font.type&&"custom"===t[f].fontStyle.font.type&&(u.push(decodeURIComponent(t[f].fontStyle.font.family).replace(/'/g,"")),c.push(t[f].fontStyle.font.url.replace(/'/g,"\\'")));if(0===d.length&&0===u.length)r();else{for(var g=0;g<u.length;g+=1)n(u[g],c[g]);d.length>0?o(d,a):r()}}function n(e,i,t){var n=null,o="font-family: "+e+"; src: url('"+i+"');";t=t||document,n=t.styleSheets[0],null!==n&&n.addRule("@font-face",o)}function o(e,i){WebFont.load({google:{families:e},active:function(){i&&"function"==typeof i&&i()},inactive:function(){i&&"function"==typeof i&&i()},timeout:2e3})}function s(e){for(var i=e.length,t=[],n=0;i>n;n++)t[n]=new Image,t[n].src=e[n]}function r(e){for(var i,t=window.location.search.substring(1),n=t.split("&"),o=0;o<n.length;o++)if(i=n[o].split("="),i[0]==e)return decodeURIComponent(i[1]);return""}function a(e){var i="";switch(e){case 404:i="The file does not exist or cannot be accessed.";break;case 507:i="There is not enough disk space to save the file on Rise Cache.";break;default:i="There was a problem retrieving the file from Rise Cache."}return i}function l(e){var i=document.createElement("div");return i.innerHTML=e,i.textContent}function d(e,i){var t=new XMLHttpRequest;if(e&&i&&"function"==typeof i){t.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{t.send(),i(t.status>=200&&t.status<304)}catch(n){i(!1)}}}return{getQueryParameter:r,getFontCssStyle:e,addCSSRules:i,loadFonts:t,loadCustomFont:n,loadGoogleFonts:o,preloadImages:s,getRiseCacheErrorMessage:a,unescapeHTML:l,hasInternetConnection:d}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var i=new XMLHttpRequest;e&&"function"==typeof e&&(i.open("GET",n+"ping?callback=_",!0),i.onreadystatechange=function(){try{4===i.readyState&&(o=!0,200===i.status?(s=!0,e(!0,i.responseText)):(console.debug("Rise Cache is not running"),s=!1,e(!1,null)))}catch(t){console.debug("Caught exception: ",t.description)}},i.send())}function i(e,i,t){function r(){var i,o,r;s?i=t?n+"?url="+encodeURIComponent(e):n+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):t?i=e:(o=e.split("?"),r=1===o.length?"?":"&",i=e+r+"cb="+(new Date).getTime()),a("HEAD",i)}function a(e,t){var n=new XMLHttpRequest,o={xhr:n,url:t};s?(n.open(e,t,!0),n.addEventListener("loadend",function(){var s=n.status||0;s>=200&&300>s?i(o):"HEAD"===e?a("GET",t):i(o,new Error("The request failed with status code: "+s))}),n.send()):i(o)}if(e&&i&&"function"==typeof i)return o?r():this.ping(r)}function t(e){return e&&"function"==typeof e?o?(e(s),void 0):this.ping(function(){e(s)}):void 0}var n="//localhost:9494/",o=!1,s=!1;return{getFile:i,isRiseCacheRunning:t,ping:e}}();var version="1.1.0";"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod"},RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,i){"use strict";function t(){i.rpc.call("","rsevent_done",null,I.getString("id")),null!==k&&u(k,!0),u({event:"done"},!1)}function n(){i.rpc.call("","rsevent_ready",null,I.getString("id"),!0,!0,!0,!0,!0)}function o(){clearTimeout(G),G=null}function s(){o(),G=setTimeout(function(){t()},5e3)}function r(){if(F&&F.length>0){if("file"===C)return F[0];if("folder"===C&&P)return F[P]}return null}function a(){return M}function l(){return D}function d(e,i){U=!0,M="undefined"!=typeof i,O.show(e),P=null,N||s()}function u(e,i){i&&(k=e),e.file_url||(e.file_url=r()),RiseVision.Common.LoggerUtils.logEvent(v(),e)}function c(e){"file"===C?F[0]=e:"folder"===C&&(F=e),O.hide(),N||p()}function f(e){"file"===C?F[0]=e:"folder"===C&&(F=e),x&&x.update(F),U=!1,D=!1,M=!1,k=null}function g(){N=!0,o(),x&&(A?x.pause():(P=null,x.reset()))}function p(){return T&&(T=!1,u({event:"configuration",event_details:b},!1)),N=!1,u({event:"play"},!1),U?(s(),void 0):(x?(O.hide(),x.play()):F&&F.length>0&&(x=new RiseVision.Video.Player(w,C),x.init(F)),void 0)}function v(){return"video_v2_events"}function m(){P=null,t()}function V(){O.hide(),!N&&x&&x.play()}function h(e){P=e}function R(e,t){var o;w=_.clone(e),C=t,I=new i.Prefs,document.getElementById("container").style.width=I.getInt("rsW")+"px",document.getElementById("container").style.height=I.getInt("rsH")+"px",w.width=I.getInt("rsW"),w.height=I.getInt("rsH"),w.video.hasOwnProperty("resume")&&(A=w.video.resume),O=new RiseVision.Common.Message(document.getElementById("container"),document.getElementById("messageContainer")),O.show("Please wait while your video is downloaded."),"file"===C?(o=0!==Object.keys(w.storage).length,o?(b="storage file",S=new RiseVision.Video.StorageFile(w),S.init()):(b="custom",L=new RiseVision.Video.NonStorage(w),L.init())):"folder"===C&&(b="storage folder",S=new RiseVision.Video.StorageFolder(w),S.init()),n()}function y(e){var i=null,t={},n="Sorry, there was a problem playing the video.",o="Error loading media: File could not be played",s="Error loading YouTube: Video could not be played",r="Error loading player: No media sources found",a="Error loading playlist: No playable sources found",l="There was a problem playing that video. It could be that we don't support that format or it is not encoded correctly.",c="The format of that video is not supported";e&&(e.type&&e.message?i=e.type+" - "+e.message:e.type?i=e.type:e.message&&(i=e.message),e.message&&(e.message===o||e.message===s?n=l:(e.message===r||e.message===a)&&(n=c))),t.event="player error",t.event_details=i,D=!0,u(t,!0),d(n)}function E(){g()}var w,C,T=!0,b=null,I=null,S=null,L=null,O=null,x=null,N=!0,A=!0,F=[],P=null,k=null,G=null,U=!1,M=!1,D=!1;return{getTableName:v,hasPlayerError:l,hasStorageError:a,logEvent:u,onFileInit:c,onFileRefresh:f,pause:g,play:p,setAdditionalParams:R,showError:d,playerEnded:m,playerReady:V,playerError:y,playerItemChange:h,stop:E}}(window,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.PlayerUtils=function(){"use strict";function e(e){for(var i=[],t=0;t<e.length;t+=1)i.push({file:e[t],type:this.getVideoFileType(e[t])});return i}function i(e){var i,t=[".mp4",".webm"],n=e.toLowerCase(),o=null;for(i=0;i<=t.length;i+=1)if(-1!==n.indexOf(t[i])){o=t[i].substr(t[i].lastIndexOf(".")+1);break}return o}return{getPlaylist:e,getVideoFileType:i}}();var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFile=function(e){"use strict";function i(){var i=document.getElementById("videoStorage");i&&(i.addEventListener("rise-storage-response",function(e){e.detail&&e.detail.url&&(t?(t=!1,RiseVision.Video.onFileInit(e.detail.url)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Video.onFileRefresh(e.detail.url):(RiseVision.Video.hasStorageError()||RiseVision.Video.hasPlayerError())&&RiseVision.Video.onFileRefresh(e.detail.url)))}),i.addEventListener("rise-storage-api-error",function(e){var i={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),i.addEventListener("rise-storage-no-file",function(e){var i={event:"storage file not found",event_details:e.detail};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("The selected video does not exist or has been moved to Trash.")}),i.addEventListener("rise-storage-file-throttled",function(e){var i={event:"storage file throttled",file_url:e.detail};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("The selected video is temporarily unavailable.")}),i.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),i.addEventListener("rise-storage-subscription-error",function(e){var i={event:"storage subscription error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(i,!0)}),i.addEventListener("rise-storage-error",function(e){var i={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),i.addEventListener("rise-cache-error",function(e){var i={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Video.logEvent(i,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var n=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Video.showError(n)}),i.addEventListener("rise-cache-not-running",function(e){var i={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(i,!0)}),i.setAttribute("folder",e.storage.folder),i.setAttribute("fileName",e.storage.fileName),i.setAttribute("companyId",e.storage.companyId),i.setAttribute("env",config.STORAGE_ENV),i.go())}var t=!0;return{init:i}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFolder=function(e){"use strict";function i(){return _.pluck(l,"url")}function t(e){return _.find(l,function(i){return e.name===i.name})}function n(e){var i=t(e);i&&l.splice(l.indexOf(i),1)}function o(e){var i=t(e);i&&(i.url=e.url)}function s(e){var i=t(e);i||(e.fileName=e.name.slice(e.name.lastIndexOf("/")+1,e.name.lastIndexOf(".")).toLowerCase(),l.splice(_.sortedIndex(l,e,"fileName"),0,e))}function r(){var t=document.getElementById("videoStorage");t&&(t.addEventListener("rise-storage-response",function(e){var t=e.detail;if(t.added&&(s(t),a))return a=!1,RiseVision.Video.onFileInit(i()),void 0;if(t.hasOwnProperty("changed"))if(t.changed)o(t);else if(!RiseVision.Video.hasStorageError()&&!RiseVision.Video.hasPlayerError())return;t.deleted&&n(t),RiseVision.Video.onFileRefresh(i())}),t.addEventListener("rise-storage-api-error",function(e){var i={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-empty-folder",function(){var e={event:"storage folder empty"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any videos.")}),t.addEventListener("rise-storage-no-folder",function(e){var i={event:"storage folder doesn't exist",event_details:e.detail};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("The selected folder does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-folder-invalid",function(){var e={event:"storage folder format(s) invalid"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any supported video formats.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-subscription-error",function(e){var i={event:"storage subscription error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(i,!0)}),t.addEventListener("rise-storage-error",function(e){var i={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var i={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Video.logEvent(i,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var n=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Video.showError(n)}),t.addEventListener("rise-cache-not-running",function(e){var i={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(i,!0)}),t.setAttribute("fileType","video"),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("folder",e.storage.folder),t.setAttribute("env",config.STORAGE_ENV),t.go())}var a=!0,l=[];return{init:r}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.NonStorage=function(e){"use strict";function i(e){o.getFile(l,function(e,i){if(i){RiseVision.Video.logEvent({event:"non-storage error",event_details:i.message,file_url:e.url},!0);var n=0;i.message&&(n=+i.message.substring(i.message.indexOf(":")+2));var o=RiseVision.Common.Utilities.getRiseCacheErrorMessage(n);RiseVision.Video.showError(o)}else a?(a=!1,RiseVision.Video.onFileInit(e.url),t()):RiseVision.Video.onFileRefresh(e.url)},e)}function t(){null===r&&(r=setInterval(function(){i(!1)},s))}function n(){l=e.url&&""!==e.url?e.url:e.selector.url,i(!0)}var o=RiseVision.Common.RiseCache,s=9e5,r=null,a=!0,l="";return{init:n}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Player=function(e){"use strict";function i(){RiseVision.Video.playerEnded()}function t(){h||(clearTimeout(R),R=setTimeout(function(){"PLAYING"!==m.getState().toUpperCase()&&m.play()},1e3*v))}function n(e){RiseVision.Video.playerItemChange(e)}function o(e){e&&RiseVision.Video.playerError({type:"video",message:e.message})}function s(e){e&&RiseVision.Video.playerError({type:"setup",message:e.message})}function r(){m.on("setupError",function(e){s(e)}),m.on("ready",function(){m.on("playlistComplete",function(){i()}),m.on("playlistItem",function(e){n(e.index)}),m.on("error",function(e){o(e)}),m.setVolume(e.video.volume),e.video.controls&&v>1&&m.on("pause",function(){t()}),RiseVision.Video.playerReady()})}function a(i){return{controls:e.video.controls,height:e.height,playlist:V.getPlaylist(i),skin:{name:"rise"},stretching:p,width:e.width}}function l(i){m=jwplayer("player"),y=i,p=e.video.scaleToFit?"uniform":"none",g=e.video.controls?e.video.autoplay:!0,e.video.pause?(e.video.pause="string"==typeof e.video.pause?parseInt(e.video.pause,10):e.video.pause,v=isNaN(e.video.pause)?0:e.video.pause):v=0,m.setup(a(i)),r()}function d(){h=!1,E&&(E=!1,m.load(V.getPlaylist(y))),g&&m.play()}function u(){h=!0,clearTimeout(R),"PLAYING"===m.getState().toUpperCase()&&m.pause()}function c(){function e(){m.off("play",e),m.pause()}function i(){m.off("seeked",i),m.pause()}u(),"COMPLETE"!==m.getState().toUpperCase()&&setTimeout(function(){0!==m.getPlaylistIndex()?(m.on("play",e),m.playlistItem(0)):(m.on("seeked",i),m.seek(0))},100)}function f(e){y=e,E=!0}var g,p,v,m=null,V=RiseVision.Video.PlayerUtils,h=!1,R=null,y=null,E=!1;return{init:l,pause:u,play:d,reset:c,update:f}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,i){"use strict";function t(){try{i.style.height=e.style.height}catch(t){console.warn("Can't initialize Message - ",t.message)}}function n(){if(s){for(;i.firstChild;)i.removeChild(i.firstChild);i.style.display="none",e.style.display="block",s=!1}}function o(t){var n,o=document.createDocumentFragment();s?(n=i.querySelector(".message"),n.innerHTML=t):(e.style.display="none",i.style.display="block",n=document.createElement("p"),n.innerHTML=t,n.setAttribute("class","message"),o.appendChild(n),i.appendChild(o),s=!0)}var s=!1;return t(),{hide:n,show:o}},function(e,i){"use strict";function t(e,i){var t=null,n="",o="",s="";Array.isArray(e)&&e.length>0&&Array.isArray(i)&&i.length>0&&("companyId"===e[0]&&(o=i[0]),"displayId"===e[1]&&(s=i[1]?i[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(o,s),RiseVision.Common.LoggerUtils.setVersion(version),"additionalParams"===e[2]&&(t=JSON.parse(i[2]),n=0!==Object.keys(t.storage).length?t.storage.fileName?"file":"folder":"file",RiseVision.Video.setAdditionalParams(t,n)))}function n(){RiseVision.Video.play()}function o(){RiseVision.Video.pause()}function s(){RiseVision.Video.stop()}function r(){e.removeEventListener("WebComponentsReady",r),l&&""!==l&&(i.rpc.register("rscmd_play_"+l,n),i.rpc.register("rscmd_pause_"+l,o),i.rpc.register("rscmd_stop_"+l,s),i.rpc.register("rsparam_set_"+l,t),i.rpc.call("","rsparam_get",null,l,["companyId","displayId","additionalParams"]))}var a=new i.Prefs,l=a.getString("id");e.oncontextmenu=function(){return!1},e.addEventListener("WebComponentsReady",r)}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SQUdFX0VOViIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwiY2IiLCJqc29uIiwiZXZlbnQiLCJmaWxlX3VybCIsImZpbGVfZm9ybWF0IiwiZ2V0RmlsZUZvcm1hdCIsImNvbXBhbnlfaWQiLCJjb21wYW55SWQiLCJkaXNwbGF5X2lkIiwiZGlzcGxheUlkIiwidmVyc2lvbiIsImdldFN1ZmZpeCIsImRhdGUiLCJEYXRlIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJ1cmwiLCJzdHIiLCJoYXNQYXJhbXMiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsInRlc3QiLCJpbmRleE9mIiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJnZXRJbnNlcnREYXRhIiwiQkFTRV9JTlNFUlRfU0NIRU1BIiwia2luZCIsInNraXBJbnZhbGlkUm93cyIsImlnbm9yZVVua25vd25WYWx1ZXMiLCJ0ZW1wbGF0ZVN1ZmZpeCIsInJvd3MiLCJpbnNlcnRJZCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInRzIiwidG9JU09TdHJpbmciLCJsb2dFdmVudCIsInRhYmxlIiwiTG9nZ2VyIiwibG9nIiwic2V0SWRzIiwiY29tcGFueSIsImRpc3BsYXkiLCJzZXRWZXJzaW9uIiwidmFsdWUiLCJ1dGlscyIsInJlZnJlc2hUb2tlbiIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVmcmVzaERhdGUiLCJvcGVuIiwiUkVGUkVTSF9VUkwiLCJvbmxvYWRlbmQiLCJyZXNwIiwicmVzcG9uc2UiLCJ0b2tlbiIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hlZEF0Iiwic2VuZCIsImlzVGhyb3R0bGVkIiwidGhyb3R0bGUiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwicmVwbGFjZSIsInNldFJlcXVlc3RIZWFkZXIiLCJoYXNPd25Qcm9wZXJ0eSIsInNldFRpbWVvdXQiLCJ0aHJvdHRsZURlbGF5IiwiVXRpbGl0aWVzIiwiZ2V0Rm9udENzc1N0eWxlIiwiY2xhc3NOYW1lIiwiZm9udE9iaiIsImZhbWlseSIsImRlY29kZVVSSUNvbXBvbmVudCIsImZvbnQiLCJjb2xvciIsImZvcmVjb2xvciIsInNpemUiLCJ3ZWlnaHQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0Q29sb3IiLCJiYWNrY29sb3IiLCJhZGRDU1NSdWxlcyIsInJ1bGVzIiwic3R5bGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImhlYWQiLCJsb2FkRm9udHMiLCJzZXR0aW5ncyIsImNhbGxiYWNrIiwib25Hb29nbGVGb250c0xvYWRlZCIsImZhbWlsaWVzIiwiZ29vZ2xlRmFtaWxpZXMiLCJjdXN0b21GYW1pbGllcyIsImN1c3RvbVVybHMiLCJmb3JFYWNoIiwiaXRlbSIsImNsYXNzIiwiZm9udFN0eWxlIiwidHlwZSIsInNwbGl0IiwicHVzaCIsImoiLCJsb2FkQ3VzdG9tRm9udCIsImxvYWRHb29nbGVGb250cyIsImNvbnRlbnREb2MiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJXZWJGb250IiwibG9hZCIsImdvb2dsZSIsImFjdGl2ZSIsImluYWN0aXZlIiwidGltZW91dCIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJzcmMiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwicGFpciIsInF1ZXJ5Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJ2YXJzIiwiZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsImVycm9yTWVzc2FnZSIsInVuZXNjYXBlSFRNTCIsImh0bWwiLCJkaXYiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImhhc0ludGVybmV0Q29ubmVjdGlvbiIsImZpbGVQYXRoIiwiZ2V0VGltZSIsInN0YXR1cyIsImUiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiciIsIkJBU0VfQ0FDSEVfVVJMIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIl9waW5nUmVjZWl2ZWQiLCJfaXNDYWNoZVJ1bm5pbmciLCJyZXNwb25zZVRleHQiLCJjb25zb2xlIiwiZGVidWciLCJkZXNjcmlwdGlvbiIsImdldEZpbGUiLCJmaWxlVXJsIiwibm9jYWNoZWJ1c3RlciIsImZpbGVSZXF1ZXN0Iiwic2VwYXJhdG9yIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWFrZVJlcXVlc3QiLCJtZXRob2QiLCJyZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIkVycm9yIiwidGhpcyIsImlzUmlzZUNhY2hlUnVubmluZyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsImNvbmZpZyIsIlZpZGVvIiwiZ2FkZ2V0cyIsIl9kb25lIiwicnBjIiwiY2FsbCIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9lcnJvckxvZyIsIl9yZWFkeSIsIl9jbGVhckVycm9yVGltZXIiLCJjbGVhclRpbWVvdXQiLCJfZXJyb3JUaW1lciIsIl9zdGFydEVycm9yVGltZXIiLCJfZ2V0Q3VycmVudEZpbGUiLCJfY3VycmVudEZpbGVzIiwiX21vZGUiLCJfY3VycmVudFBsYXlsaXN0SW5kZXgiLCJoYXNTdG9yYWdlRXJyb3IiLCJfc3RvcmFnZUVycm9yRmxhZyIsImhhc1BsYXllckVycm9yIiwiX3BsYXllckVycm9yRmxhZyIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJpc1N0b3JhZ2VFcnJvciIsIl9lcnJvckZsYWciLCJfbWVzc2FnZSIsInNob3ciLCJfdmlld2VyUGF1c2VkIiwiaXNFcnJvciIsImdldFRhYmxlTmFtZSIsIm9uRmlsZUluaXQiLCJoaWRlIiwicGxheSIsIm9uRmlsZVJlZnJlc2giLCJfcGxheWVyIiwidXBkYXRlIiwicGF1c2UiLCJfcmVzdW1lIiwicmVzZXQiLCJfaXNMb2FkaW5nIiwiZXZlbnRfZGV0YWlscyIsIl9jb25maWdEZXRhaWxzIiwiUGxheWVyIiwiX2FkZGl0aW9uYWxQYXJhbXMiLCJpbml0IiwicGxheWVyRW5kZWQiLCJwbGF5ZXJSZWFkeSIsInBsYXllckl0ZW1DaGFuZ2UiLCJpbmRleCIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJtb2RlIiwiaXNTdG9yYWdlRmlsZSIsIl8iLCJjbG9uZSIsIlByZWZzIiwiZ2V0RWxlbWVudEJ5SWQiLCJ3aWR0aCIsImdldEludCIsImhlaWdodCIsInZpZGVvIiwicmVzdW1lIiwiTWVzc2FnZSIsIk9iamVjdCIsImtleXMiLCJzdG9yYWdlIiwiX3N0b3JhZ2UiLCJTdG9yYWdlRmlsZSIsIl9ub25TdG9yYWdlIiwiTm9uU3RvcmFnZSIsIlN0b3JhZ2VGb2xkZXIiLCJwbGF5ZXJFcnJvciIsImVycm9yIiwiZGV0YWlscyIsIk1FRElBX0VSUk9SIiwiWU9VVFVCRV9FUlJPUiIsIlBMQVlFUl9FUlJPUiIsIlBMQVlMSVNUX0VSUk9SIiwiRU5DT0RJTkdfTUVTU0FHRSIsIkZPUk1BVF9NRVNTQUdFIiwic3RvcCIsIlBsYXllclV0aWxzIiwiZ2V0UGxheWxpc3QiLCJsaXN0IiwicGxheWxpc3QiLCJmaWxlIiwiZ2V0VmlkZW9GaWxlVHlwZSIsImV4dGVuc2lvbnMiLCJ1cmxMb3dlcmNhc2UiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJjaGFuZ2VkIiwiY29kZSIsImN1cnJlbnRUYXJnZXQiLCJzZXRBdHRyaWJ1dGUiLCJmb2xkZXIiLCJmaWxlTmFtZSIsImdvIiwiX2dldFVybHMiLCJwbHVjayIsIl9maWxlcyIsIl9nZXRFeGlzdGluZ0ZpbGUiLCJmaW5kIiwiZiIsIm5hbWUiLCJfZGVsZXRlRmlsZSIsImV4aXN0aW5nIiwic3BsaWNlIiwiX2NoYW5nZUZpbGUiLCJfYWRkRmlsZSIsInNsaWNlIiwic29ydGVkSW5kZXgiLCJhZGRlZCIsImRlbGV0ZWQiLCJfZ2V0RmlsZSIsIm9taXRDYWNoZUJ1c3RlciIsInJpc2VDYWNoZSIsIl91cmwiLCJfc3RhcnRSZWZyZXNoSW50ZXJ2YWwiLCJfcmVmcmVzaEludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsIl9yZWZyZXNoRHVyYXRpb24iLCJzZWxlY3RvciIsIl9vbkNvbXBsZXRlIiwiX29uUGF1c2UiLCJfcGF1c2VUaW1lciIsIl9wbGF5ZXJJbnN0YW5jZSIsImdldFN0YXRlIiwiX3BhdXNlRHVyYXRpb24iLCJfb25QbGF5bGlzdEl0ZW0iLCJfb25QbGF5ZXJFcnJvciIsIl9vblNldHVwRXJyb3IiLCJfY29uZmlndXJlSGFuZGxlcnMiLCJvbiIsInNldFZvbHVtZSIsInZvbHVtZSIsImNvbnRyb2xzIiwiX2dldFNldHVwRGF0YSIsImZpbGVzIiwiX3V0aWxzIiwic2tpbiIsInN0cmV0Y2hpbmciLCJfc3RyZXRjaGluZyIsImp3cGxheWVyIiwiX2F1dG9QbGF5IiwiYXV0b3BsYXkiLCJwYXJzZUludCIsImlzTmFOIiwic2V0dXAiLCJfdXBkYXRlV2FpdGluZyIsIm9uUGxheSIsIm9mZiIsIm9uU2Vla2VkIiwiZ2V0UGxheWxpc3RJbmRleCIsInBsYXlsaXN0SXRlbSIsInNlZWsiLCJtYWluQ29udGFpbmVyIiwibWVzc2FnZUNvbnRhaW5lciIsIl9pbml0Iiwid2FybiIsIl9hY3RpdmUiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJwIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbmZpZ3VyZSIsIm5hbWVzIiwidmFsdWVzIiwiYWRkaXRpb25hbFBhcmFtcyIsIkFycmF5IiwiaXNBcnJheSIsInBvbHltZXJSZWFkeSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpZCIsInJlZ2lzdGVyIiwicHJlZnMiLCJvbmNvbnRleHRtZW51IiwiX2dhcSIsImdhIiwiYXN5bmMiLCJwcm90b2NvbCIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiJBQUNBLEdBQUlBLHVCQUNGQyxjQUFlLGlCQUNmQyxpQkFBa0IsNEVBQ2xCQyxxQkFBc0IsMkJBQ3RCQyxxQkFBc0IscUVBQ3RCQyxZQUFhLE9BQ2JDLFVBQVcsNkNBSVRDLFdBQWFBLGNBQ2pCQSxZQUFXQyxPQUFTRCxXQUFXQyxXQUUvQkQsV0FBV0MsT0FBT0MsWUFBYyxXQUM5QixZQVdBLFNBQVNDLEdBQWVDLEVBQVFDLEdBQzlCLEdBQUlDLEdBQU8sSUFHUEYsR0FBT0csT0FDVEQsRUFBT0YsRUFFSEUsRUFBS0UsV0FDUEYsRUFBS0csWUFBY0MsRUFBY0osRUFBS0UsV0FHeENGLEVBQUtLLFdBQWFDLEVBQ2xCTixFQUFLTyxXQUFhQyxFQUVkQyxJQUNGVCxFQUFLUyxRQUFVQSxHQUdqQlYsRUFBR0MsSUFHSEQsRUFBR0MsR0FLUCxRQUFTVSxLQUNQLEdBQUlDLEdBQU8sR0FBSUMsTUFDYkMsRUFBT0YsRUFBS0csaUJBQ1pDLEVBQVFKLEVBQUtLLGNBQWdCLEVBQzdCQyxFQUFNTixFQUFLTyxZQVViLE9BUlksSUFBUkgsSUFDRkEsRUFBUSxJQUFNQSxHQUdOLEdBQU5FLElBQ0ZBLEVBQU0sSUFBTUEsR0FHUEosRUFBT0UsRUFBUUUsRUFNeEIsUUFBU2IsR0FBY2UsR0FDckIsR0FDRUMsR0FERUMsRUFBWSxPQUdoQixPQUFLRixJQUFzQixnQkFBUkEsSUFJbkJDLEVBQU1ELEVBQUlHLE9BQU9ILEVBQUlJLFlBQVksS0FBTyxHQUdwQ0YsRUFBVUcsS0FBS0osS0FDakJBLEVB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LEVBQVFFLElBQUk0SyxTQUFTLGNBQWdCRCxFQUFJOUksR0FDekMvQixFQUFRRSxJQUFJNEssU0FBUyxlQUFpQkQsRUFBSTFJLEdBQzFDbkMsRUFBUUUsSUFBSTRLLFNBQVMsY0FBZ0JELEVBQUkvRixHQUV6QzlFLEVBQVFFLElBQUk0SyxTQUFTLGVBQWlCRCxFQUFJUixHQUMxQ3JLLEVBQVFFLElBQUlDLEtBQUssR0FBSSxjQUFlLEtBQU0wSyxHQUFLLFlBQWEsWUFBYSxzQkExRTdFLEdBQUlFLEdBQVEsR0FBSS9LLEdBQVFxRCxNQUN0QndILEVBQUtFLEVBQU0xSyxVQUFVLEtBR3ZCckQsR0FBT2dPLGNBQWdCLFdBQ3JCLE9BQU8sR0F5RVRoTyxFQUFPdUMsaUJBQWlCLHFCQUFzQm9MLElBRTdDM04sT0FBUWdELFFBS1gsSUFBSWlMLE1BQU9BLFFBRVhBLE1BQUt6UCxNQUFNLGNBQWUsa0JBQzFCeVAsS0FBS3pQLE1BQU0sbUJBRVgsV0FDRSxHQUFJMFAsR0FBSzlRLFNBQVNDLGNBQWMsU0FBVzZRLEdBQUc1UCxLQUFPLGtCQUFtQjRQLEVBQUdDLE9BQVEsRUFDbkZELEVBQUd2TyxLQUFPLFVBQVl2QyxTQUFTNkMsU0FBU21PLFNBQVcsY0FBZ0IsY0FBZ0IsNkJBQ25GLElBQUlDLEdBQUlqUixTQUFTa1IscUJBQXFCLFVBQVUsRUFBSUQsR0FBRUUsV0FBV0MsYUFBYU4sRUFBSUciLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGV4cG9ydGVkIFdJREdFVF9DT01NT05fQ09ORklHICovXG52YXIgV0lER0VUX0NPTU1PTl9DT05GSUcgPSB7XG4gIEFVVEhfUEFUSF9VUkw6IFwidjEvd2lkZ2V0L2F1dGhcIixcbiAgTE9HR0VSX0NMSUVOVF9JRDogXCIxMDg4NTI3MTQ3MTA5LTZxMW8ydnRpaG4zNDI5MnBqdDRja2htaGNrMHJrMG83LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tXCIsXG4gIExPR0dFUl9DTElFTlRfU0VDUkVUOiBcIm5sWnlyY1BMZzZvRXdPOWY5V2ZuMjlXaFwiLFxuICBMT0dHRVJfUkVGUkVTSF9UT0tFTjogXCIxL3h6dDRrd3pFMUg3VzlWbktCOGNBYUN4NnpiNEVzNG5LRW9xYVlIZFREMTVJZ09ySkR0ZHVuNnpLNlhpQVRDS1RcIixcbiAgU1RPUkFHRV9FTlY6IFwicHJvZFwiLFxuICBTVE9SRV9VUkw6IFwiaHR0cHM6Ly9zdG9yZS1kb3QtcnZhc2VydmVyMi5hcHBzcG90LmNvbS9cIlxufTtcbi8qIGdsb2JhbCBXSURHRVRfQ09NTU9OX0NPTkZJRyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyA9IChmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgIHZhciBkaXNwbGF5SWQgPSBcIlwiLFxuICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICB2ZXJzaW9uID0gbnVsbDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuXG4gIC8qIFJldHJpZXZlIHBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZXZlbnQgbG9nZ2VyLiAqL1xuICBmdW5jdGlvbiBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGNiKSB7XG4gICAgdmFyIGpzb24gPSBudWxsO1xuXG4gICAgLy8gZXZlbnQgaXMgcmVxdWlyZWQuXG4gICAgaWYgKHBhcmFtcy5ldmVudCkge1xuICAgICAganNvbiA9IHBhcmFtcztcblxuICAgICAgaWYgKGpzb24uZmlsZV91cmwpIHtcbiAgICAgICAganNvbi5maWxlX2Zvcm1hdCA9IGdldEZpbGVGb3JtYXQoanNvbi5maWxlX3VybCk7XG4gICAgICB9XG5cbiAgICAgIGpzb24uY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICAgIGpzb24uZGlzcGxheV9pZCA9IGRpc3BsYXlJZDtcblxuICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAganNvbi52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgIH1cblxuICAgICAgY2IoanNvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2IoanNvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHN1ZmZpeCBmb3IgQlEgdGFibGUgbmFtZS5cbiAgZnVuY3Rpb24gZ2V0U3VmZml4KCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsXG4gICAgICBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcblxuICAgIGlmIChtb250aCA8IDEwKSB7XG4gICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XG4gICAgfVxuXG4gICAgaWYgKGRheSA8IDEwKSB7XG4gICAgICBkYXkgPSBcIjBcIiArIGRheTtcbiAgICB9XG5cbiAgICByZXR1cm4geWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIFNldCB0aGUgQ29tcGFueSBhbmQgRGlzcGxheSBJRHMuICovXG4gIGZ1bmN0aW9uIHNldElkcyhjb21wYW55LCBkaXNwbGF5KSB7XG4gICAgY29tcGFueUlkID0gY29tcGFueTtcbiAgICBkaXNwbGF5SWQgPSBkaXNwbGF5O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VmVyc2lvbih2YWx1ZSkge1xuICAgIHZlcnNpb24gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRJbnNlcnREYXRhXCI6IGdldEluc2VydERhdGEsXG4gICAgXCJnZXRGaWxlRm9ybWF0XCI6IGdldEZpbGVGb3JtYXQsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcInNldElkc1wiOiBzZXRJZHMsXG4gICAgXCJzZXRWZXJzaW9uXCI6IHNldFZlcnNpb25cbiAgfTtcbn0pKCk7XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlciA9IChmdW5jdGlvbih1dGlscykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgUkVGUkVTSF9VUkwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92My90b2tlbj9jbGllbnRfaWQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX0lEICtcbiAgICAgIFwiJmNsaWVudF9zZWNyZXQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX1NFQ1JFVCArXG4gICAgICBcIiZyZWZyZXNoX3Rva2VuPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX1JFRlJFU0hfVE9LRU4gK1xuICAgICAgXCImZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuXCI7XG5cbiAgdmFyIHNlcnZpY2VVcmwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2JpZ3F1ZXJ5L3YyL3Byb2plY3RzL2NsaWVudC1zaWRlLWV2ZW50cy9kYXRhc2V0cy9XaWRnZXRfRXZlbnRzL3RhYmxlcy9UQUJMRV9JRC9pbnNlcnRBbGxcIixcbiAgICB0aHJvdHRsZSA9IGZhbHNlLFxuICAgIHRocm90dGxlRGVsYXkgPSAxMDAwLFxuICAgIGxhc3RFdmVudCA9IFwiXCIsXG4gICAgcmVmcmVzaERhdGUgPSAwLFxuICAgIHRva2VuID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiByZWZyZXNoVG9rZW4oY2IpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAobmV3IERhdGUoKSAtIHJlZnJlc2hEYXRlIDwgMzU4MDAwMCkge1xuICAgICAgcmV0dXJuIGNiKHt9KTtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIlBPU1RcIiwgUkVGUkVTSF9VUkwsIHRydWUpO1xuICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZXNwID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpO1xuXG4gICAgICBjYih7IHRva2VuOiByZXNwLmFjY2Vzc190b2tlbiwgcmVmcmVzaGVkQXQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1Rocm90dGxlZChldmVudCkge1xuICAgIHJldHVybiB0aHJvdHRsZSAmJiAobGFzdEV2ZW50ID09PSBldmVudCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGxvZyh0YWJsZU5hbWUsIHBhcmFtcykge1xuICAgIGlmICghdGFibGVOYW1lIHx8ICFwYXJhbXMgfHwgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmICFwYXJhbXMuZXZlbnQpIHx8XG4gICAgICAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgaXNUaHJvdHRsZWQocGFyYW1zLmV2ZW50KSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aHJvdHRsZSA9IHRydWU7XG4gICAgbGFzdEV2ZW50ID0gcGFyYW1zLmV2ZW50O1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdHRsZSA9IGZhbHNlO1xuICAgIH0sIHRocm90dGxlRGVsYXkpO1xuXG4gICAgZnVuY3Rpb24gaW5zZXJ0V2l0aFRva2VuKHJlZnJlc2hEYXRhKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIGluc2VydERhdGEsIHVybDtcblxuICAgICAgdXJsID0gc2VydmljZVVybC5yZXBsYWNlKFwiVEFCTEVfSURcIiwgdGFibGVOYW1lKTtcbiAgICAgIHJlZnJlc2hEYXRlID0gcmVmcmVzaERhdGEucmVmcmVzaGVkQXQgfHwgcmVmcmVzaERhdGU7XG4gICAgICB0b2tlbiA9IHJlZnJlc2hEYXRhLnRva2VuIHx8IHRva2VuO1xuICAgICAgaW5zZXJ0RGF0YSA9IHV0aWxzLmdldEluc2VydERhdGEocGFyYW1zKTtcblxuICAgICAgLy8gSW5zZXJ0IHRoZSBkYXRhLlxuICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB0b2tlbik7XG5cbiAgICAgIGlmIChwYXJhbXMuY2IgJiYgdHlwZW9mIHBhcmFtcy5jYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwYXJhbXMuY2IoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoaW5zZXJ0RGF0YSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZWZyZXNoVG9rZW4oaW5zZXJ0V2l0aFRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJsb2dcIjogbG9nXG4gIH07XG59KShSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyk7XG4vKiBnbG9iYWwgV2ViRm9udCAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcyA9IChmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBnZXRGb250Q3NzU3R5bGUoY2xhc3NOYW1lLCBmb250T2JqKSB7XG4gICAgdmFyIGZhbWlseSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZGVjb2RlVVJJQ29tcG9uZW50KGZvbnRPYmouZm9udC5mYW1pbHkpLnJlcGxhY2UoLycvZywgXCJcIikgKyBcIjsgXCI7XG4gICAgdmFyIGNvbG9yID0gXCJjb2xvcjogXCIgKyAoZm9udE9iai5jb2xvciA/IGZvbnRPYmouY29sb3IgOiBmb250T2JqLmZvcmVjb2xvcikgKyBcIjsgXCI7XG4gICAgdmFyIHNpemUgPSBcImZvbnQtc2l6ZTogXCIgKyAoZm9udE9iai5zaXplLmluZGV4T2YoXCJweFwiKSA9PT0gLTEgPyBmb250T2JqLnNpemUgKyBcInB4OyBcIiA6IGZvbnRPYmouc2l6ZSArIFwiOyBcIik7XG4gICAgdmFyIHdlaWdodCA9IFwiZm9udC13ZWlnaHQ6IFwiICsgKGZvbnRPYmouYm9sZCA/IFwiYm9sZFwiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIGl0YWxpYyA9IFwiZm9udC1zdHlsZTogXCIgKyAoZm9udE9iai5pdGFsaWMgPyBcIml0YWxpY1wiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIHVuZGVybGluZSA9IFwidGV4dC1kZWNvcmF0aW9uOiBcIiArIChmb250T2JqLnVuZGVybGluZSA/IFwidW5kZXJsaW5lXCIgOiBcIm5vbmVcIikgKyBcIjsgXCI7XG4gICAgdmFyIGhpZ2hsaWdodCA9IFwiYmFja2dyb3VuZC1jb2xvcjogXCIgKyAoZm9udE9iai5oaWdobGlnaHRDb2xvciA/IGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgOiBmb250T2JqLmJhY2tjb2xvcikgKyBcIjtcIjtcblxuICAgIHJldHVybiBcIi5cIiArIGNsYXNzTmFtZSArIFwiIHtcIiArIGZhbWlseSArIGNvbG9yICsgc2l6ZSArIHdlaWdodCArIGl0YWxpYyArIHVuZGVybGluZSArIGhpZ2hsaWdodCArIFwifVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ1NTUnVsZXMocnVsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcnVsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJ1bGVzW2ldKSk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICAvKlxuICAgKiBMb2FkcyBHb29nbGUgb3IgY3VzdG9tIGZvbnRzLCBpZiBhcHBsaWNhYmxlLCBhbmQgaW5qZWN0cyBDU1Mgc3R5bGVzXG4gICAqIGludG8gdGhlIGhlYWQgb2YgdGhlIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICAgYXJyYXkgICAgc2V0dGluZ3MgICAgQXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcImRhdGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9udFNldHRpbmdcIjoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlZlcmRhbmFcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ29vZ2xlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL2N1c3RvbS1mb250LXVybFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCIyMFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2VcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgKlxuICAgKiAgICAgICAgICAgb2JqZWN0ICAgY29udGVudERvYyAgICBEb2N1bWVudCBvYmplY3QgaW50byB3aGljaCB0byBpbmplY3Qgc3R5bGVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBsb2FkIGZvbnRzIChvcHRpb25hbCkuXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkRm9udHMoc2V0dGluZ3MsIGNiKSB7XG4gICAgdmFyIGZhbWlsaWVzID0gbnVsbCxcbiAgICAgIGdvb2dsZUZhbWlsaWVzID0gW10sXG4gICAgICBjdXN0b21GYW1pbGllcyA9IFtdLFxuICAgICAgY3VzdG9tVXJscyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkdvb2dsZUZvbnRzTG9hZGVkKCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBpZiAoIXNldHRpbmdzIHx8IHNldHRpbmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgY3VzdG9tIGNzcyBjbGFzcyBuYW1lcyBhbmQgYWRkIHJ1bGVzIGlmIHNvXG4gICAgc2V0dGluZ3MuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5jbGFzcyAmJiBpdGVtLmZvbnRTdHlsZSkge1xuICAgICAgICBhZGRDU1NSdWxlcyhbIGdldEZvbnRDc3NTdHlsZShpdGVtLmNsYXNzLCBpdGVtLmZvbnRTdHlsZSkgXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBHb29nbGUgZm9udHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaV0uZm9udFN0eWxlICYmIHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgJiZcbiAgICAgICAgKHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgPT09IFwiZ29vZ2xlXCIpKSB7XG4gICAgICAgIC8vIFJlbW92ZSBmYWxsYmFjayBmb250LlxuICAgICAgICBmYW1pbGllcyA9IHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LmZhbWlseS5zcGxpdChcIixcIilbMF07XG5cbiAgICAgICAgLy8gc3RyaXAgcG9zc2libGUgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBmYW1pbGllcyA9IGZhbWlsaWVzLnJlcGxhY2UoLycvZywgXCJcIik7XG5cbiAgICAgICAgZ29vZ2xlRmFtaWxpZXMucHVzaChmYW1pbGllcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3VzdG9tIGZvbnRzXG4gICAgZm9yIChpID0gMDsgaSA8IHNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaV0uZm9udFN0eWxlICYmIHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgJiZcbiAgICAgICAgKHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIpKSB7XG4gICAgICAgIC8vIGRlY29kZSB2YWx1ZSBhbmQgc3RyaXAgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBjdXN0b21GYW1pbGllcy5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC5mYW1pbHkpLnJlcGxhY2UoLycvZywgXCJcIikpO1xuICAgICAgICAvLyBzdHJpcCBzaW5nbGUgcXVvdGVzXG4gICAgICAgIGN1c3RvbVVybHMucHVzaChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC51cmwucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ29vZ2xlRmFtaWxpZXMubGVuZ3RoID09PSAwICYmIGN1c3RvbUZhbWlsaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBmb250c1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjdXN0b21GYW1pbGllcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBsb2FkQ3VzdG9tRm9udChjdXN0b21GYW1pbGllc1tqXSwgY3VzdG9tVXJsc1tqXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChnb29nbGVGYW1pbGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxvYWRHb29nbGVGb250cyhnb29nbGVGYW1pbGllcywgb25Hb29nbGVGb250c0xvYWRlZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkQ3VzdG9tRm9udChmYW1pbHksIHVybCwgY29udGVudERvYykge1xuICAgIHZhciBzaGVldCA9IG51bGw7XG4gICAgdmFyIHJ1bGUgPSBcImZvbnQtZmFtaWx5OiBcIiArIGZhbWlseSArIFwiOyBcIiArIFwic3JjOiB1cmwoJ1wiICsgdXJsICsgXCInKTtcIjtcblxuICAgIGNvbnRlbnREb2MgPSBjb250ZW50RG9jIHx8IGRvY3VtZW50O1xuXG4gICAgc2hlZXQgPSBjb250ZW50RG9jLnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgaWYgKHNoZWV0ICE9PSBudWxsKSB7XG4gICAgICBzaGVldC5hZGRSdWxlKFwiQGZvbnQtZmFjZVwiLCBydWxlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkR29vZ2xlRm9udHMoZmFtaWxpZXMsIGNiKSB7XG4gICAgV2ViRm9udC5sb2FkKHtcbiAgICAgIGdvb2dsZToge1xuICAgICAgICBmYW1pbGllczogZmFtaWxpZXNcbiAgICAgIH0sXG4gICAgICBhY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5hY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGltZW91dDogMjAwMFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlbG9hZEltYWdlcyh1cmxzKSB7XG4gICAgdmFyIGxlbmd0aCA9IHVybHMubGVuZ3RoLFxuICAgICAgaW1hZ2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpbWFnZXNbaV0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlc1tpXS5zcmMgPSB1cmxzW2ldO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1ldGVyKHBhcmFtKSB7XG4gICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXG4gICAgICB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpLFxuICAgICAgcGFpcjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICBpZiAocGFpclswXSA9PSBwYXJhbSkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgc3dpdGNoIChzdGF0dXNDb2RlKSB7XG4gICAgICBjYXNlIDQwNDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGUgZmlsZSBkb2VzIG5vdCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MDc6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgaXMgbm90IGVub3VnaCBkaXNrIHNwYWNlIHRvIHNhdmUgdGhlIGZpbGUgb24gUmlzZSBDYWNoZS5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIHdhcyBhIHByb2JsZW0gcmV0cmlldmluZyB0aGUgZmlsZSBmcm9tIFJpc2UgQ2FjaGUuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZXNjYXBlSFRNTChodG1sKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIHJldHVybiBkaXYudGV4dENvbnRlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNJbnRlcm5ldENvbm5lY3Rpb24oZmlsZVBhdGgsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKCFmaWxlUGF0aCB8fCAhY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIkhFQURcIiwgZmlsZVBhdGggKyBcIj9jYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgY2FsbGJhY2soKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDQpKTtcblxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFF1ZXJ5UGFyYW1ldGVyOiBnZXRRdWVyeVBhcmFtZXRlcixcbiAgICBnZXRGb250Q3NzU3R5bGU6ICBnZXRGb250Q3NzU3R5bGUsXG4gICAgYWRkQ1NTUnVsZXM6ICAgICAgYWRkQ1NTUnVsZXMsXG4gICAgbG9hZEZvbnRzOiAgICAgICAgbG9hZEZvbnRzLFxuICAgIGxvYWRDdXN0b21Gb250OiAgIGxvYWRDdXN0b21Gb250LFxuICAgIGxvYWRHb29nbGVGb250czogICBsb2FkR29vZ2xlRm9udHMsXG4gICAgcHJlbG9hZEltYWdlczogICAgcHJlbG9hZEltYWdlcyxcbiAgICBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2U6IGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSxcbiAgICB1bmVzY2FwZUhUTUw6IHVuZXNjYXBlSFRNTCxcbiAgICBoYXNJbnRlcm5ldENvbm5lY3Rpb246IGhhc0ludGVybmV0Q29ubmVjdGlvblxuICB9O1xufSkoKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlID0gKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIEJBU0VfQ0FDSEVfVVJMID0gXCIvL2xvY2FsaG9zdDo5NDk0L1wiO1xuXG4gIHZhciBfcGluZ1JlY2VpdmVkID0gZmFsc2UsXG4gICAgX2lzQ2FjaGVSdW5uaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gcGluZyhjYWxsYmFjaykge1xuICAgIHZhciByID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgci5vcGVuKFwiR0VUXCIsIEJBU0VfQ0FDSEVfVVJMICsgXCJwaW5nP2NhbGxiYWNrPV9cIiwgdHJ1ZSk7XG4gICAgci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoci5yZWFkeVN0YXRlID09PSA0ICkge1xuICAgICAgICAgIC8vIHNhdmUgdGhpcyByZXN1bHQgZm9yIHVzZSBpbiBnZXRGaWxlKClcbiAgICAgICAgICBfcGluZ1JlY2VpdmVkID0gdHJ1ZTtcblxuICAgICAgICAgIGlmKHIuc3RhdHVzID09PSAyMDApe1xuICAgICAgICAgICAgX2lzQ2FjaGVSdW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSwgci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiUmlzZSBDYWNoZSBpcyBub3QgcnVubmluZ1wiKTtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiQ2F1Z2h0IGV4Y2VwdGlvbjogXCIsIGUuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgfTtcbiAgICByLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpbGUoZmlsZVVybCwgY2FsbGJhY2ssIG5vY2FjaGVidXN0ZXIpIHtcbiAgICBpZiAoIWZpbGVVcmwgfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsZVJlcXVlc3QoKSB7XG4gICAgICB2YXIgdXJsLCBzdHIsIHNlcGFyYXRvcjtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICAvLyBjb25maWd1cmUgdXJsIHdpdGggY2FjaGVidXN0ZXIgb3Igbm90XG4gICAgICAgIHVybCA9IChub2NhY2hlYnVzdGVyKSA/IEJBU0VfQ0FDSEVfVVJMICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpIDpcbiAgICAgICAgQkFTRV9DQUNIRV9VUkwgKyBcImNiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9jYWNoZWJ1c3Rlcikge1xuICAgICAgICAgIHVybCA9IGZpbGVVcmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gZmlsZVVybC5zcGxpdChcIj9cIik7XG4gICAgICAgICAgc2VwYXJhdG9yID0gKHN0ci5sZW5ndGggPT09IDEpID8gXCI/XCIgOiBcIiZcIjtcbiAgICAgICAgICB1cmwgPSBmaWxlVXJsICsgc2VwYXJhdG9yICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1ha2VSZXF1ZXN0KFwiSEVBRFwiLCB1cmwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIHJlcXVlc3QgPSB7XG4gICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgfTtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyB8fCAwO1xuXG4gICAgICAgICAgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2VydmVyIG1heSBub3Qgc3VwcG9ydCBIRUFEIHJlcXVlc3QuIEZhbGxiYWNrIHRvIGEgR0VUIHJlcXVlc3QuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgICAgICAgICBtYWtlUmVxdWVzdChcIkdFVFwiLCB1cmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCwgbmV3IEVycm9yKFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgc3RhdHVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFJpc2UgQ2FjaGUgaXMgbm90IHJ1bm5pbmcgKHByZXZpZXcpLCBza2lwIEhFQUQgcmVxdWVzdCBhbmQgZXhlY3V0ZSBjYWxsYmFjayBpbW1lZGlhdGVseVxuICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmaWxlUmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWxlUmVxdWVzdCgpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gaXNSaXNlQ2FjaGVSdW5uaW5nKGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKF9pc0NhY2hlUnVubmluZyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soX2lzQ2FjaGVSdW5uaW5nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEZpbGU6IGdldEZpbGUsXG4gICAgaXNSaXNlQ2FjaGVSdW5uaW5nOiBpc1Jpc2VDYWNoZVJ1bm5pbmcsXG4gICAgcGluZzogcGluZ1xuICB9O1xuXG59KSgpO1xuXG4vKiBleHBvcnRlZCB2ZXJzaW9uICovXG52YXIgdmVyc2lvbiA9IFwiMS4xLjBcIjtcbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJsb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcbn1cblxudmFyICBjb25maWcgPSB7XG4gIFNUT1JBR0VfRU5WOiBcInByb2RcIlxufTtcblxuLyogZ2xvYmFsIGdhZGdldHMsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvID0gKGZ1bmN0aW9uICh3aW5kb3csIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hZGRpdGlvbmFsUGFyYW1zLCBfbW9kZTtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWUsXG4gICAgX2NvbmZpZ0RldGFpbHMgPSBudWxsO1xuXG4gIHZhciBfcHJlZnMgPSBudWxsLFxuICAgIF9zdG9yYWdlID0gbnVsbCxcbiAgICBfbm9uU3RvcmFnZSA9IG51bGwsXG4gICAgX21lc3NhZ2UgPSBudWxsLFxuICAgIF9wbGF5ZXIgPSBudWxsO1xuXG4gIHZhciBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICB2YXIgX3Jlc3VtZSA9IHRydWU7XG5cbiAgdmFyIF9jdXJyZW50RmlsZXMgPSBbXTtcblxuICB2YXIgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcblxuICB2YXIgX2Vycm9yTG9nID0gbnVsbCxcbiAgICBfZXJyb3JUaW1lciA9IG51bGwsXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlO1xuXG4gIHZhciBfc3RvcmFnZUVycm9yRmxhZyA9IGZhbHNlLFxuICAgIF9wbGF5ZXJFcnJvckZsYWcgPSBmYWxzZTtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfZG9uZSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9kb25lXCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSk7XG5cbiAgICAvLyBBbnkgZXJyb3JzIG5lZWQgdG8gYmUgbG9nZ2VkIGJlZm9yZSB0aGUgZG9uZSBldmVudC5cbiAgICBpZiAoX2Vycm9yTG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChfZXJyb3JMb2csIHRydWUpO1xuICAgIH1cblxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcImRvbmVcIiB9LCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpLFxuICAgICAgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xlYXJFcnJvclRpbWVyKCkge1xuICAgIGNsZWFyVGltZW91dChfZXJyb3JUaW1lcik7XG4gICAgX2Vycm9yVGltZXIgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0RXJyb3JUaW1lcigpIHtcbiAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG5cbiAgICBfZXJyb3JUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbm90aWZ5IFZpZXdlciB3aWRnZXQgaXMgZG9uZVxuICAgICAgX2RvbmUoKTtcbiAgICB9LCA1MDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRDdXJyZW50RmlsZSgpIHtcbiAgICBpZiAoX2N1cnJlbnRGaWxlcyAmJiBfY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbMF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgICBpZiAoX2N1cnJlbnRQbGF5bGlzdEluZGV4KSB7XG4gICAgICAgICAgLy8gcmV0cmlldmUgdGhlIGN1cnJlbnRseSBwbGF5ZWQgZmlsZVxuICAgICAgICAgIHJldHVybiBfY3VycmVudEZpbGVzW19jdXJyZW50UGxheWxpc3RJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaGFzU3RvcmFnZUVycm9yKCkge1xuICAgIHJldHVybiBfc3RvcmFnZUVycm9yRmxhZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc1BsYXllckVycm9yKCkge1xuICAgIHJldHVybiBfcGxheWVyRXJyb3JGbGFnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UsIGlzU3RvcmFnZUVycm9yKSB7XG4gICAgX2Vycm9yRmxhZyA9IHRydWU7XG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSB0eXBlb2YgaXNTdG9yYWdlRXJyb3IgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICBfbWVzc2FnZS5zaG93KG1lc3NhZ2UpO1xuXG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcblxuICAgIC8vIGlmIFdpZGdldCBpcyBwbGF5aW5nIHJpZ2h0IG5vdywgcnVuIHRoZSB0aW1lclxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQocGFyYW1zLCBpc0Vycm9yKSB7XG4gICAgaWYgKGlzRXJyb3IpIHtcbiAgICAgIF9lcnJvckxvZyA9IHBhcmFtcztcbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtcy5maWxlX3VybCkge1xuICAgICAgcGFyYW1zLmZpbGVfdXJsID0gX2dldEN1cnJlbnRGaWxlKCk7XG4gICAgfVxuXG4gICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMubG9nRXZlbnQoZ2V0VGFibGVOYW1lKCksIHBhcmFtcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVJbml0KHVybHMpIHtcbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYSBzdHJpbmdcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheVxuICAgICAgX2N1cnJlbnRGaWxlcyA9IHVybHM7XG4gICAgfVxuXG4gICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBwbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlUmVmcmVzaCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nIG9mIG9uZSB1cmxcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheSBvZiB1cmxzXG4gICAgICBfY3VycmVudEZpbGVzID0gdXJscztcbiAgICB9XG5cbiAgICBpZiAoX3BsYXllcikge1xuICAgICAgX3BsYXllci51cGRhdGUoX2N1cnJlbnRGaWxlcyk7ICBcbiAgICB9XG5cbiAgICAvLyBpbiBjYXNlIHJlZnJlc2hlZCBmaWxlIGZpeGVzIGFuIGVycm9yIHdpdGggcHJldmlvdXMgZmlsZSwgZW5zdXJlIGZsYWcgaXMgcmVtb3ZlZCBzbyBwbGF5YmFjayBpcyBhdHRlbXB0ZWQgYWdhaW5cbiAgICBfZXJyb3JGbGFnID0gZmFsc2U7XG4gICAgX3BsYXllckVycm9yRmxhZyA9IGZhbHNlO1xuICAgIF9zdG9yYWdlRXJyb3JGbGFnID0gZmFsc2U7XG4gICAgX2Vycm9yTG9nID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuXG4gICAgX3ZpZXdlclBhdXNlZCA9IHRydWU7XG5cbiAgICAvLyBpbiBjYXNlIGVycm9yIHRpbWVyIHN0aWxsIHJ1bm5pbmcgKG5vIGNvbmRpdGlvbmFsIGNoZWNrIG9uIGVycm9yRmxhZywgaXQgbWF5IGhhdmUgYmVlbiByZXNldCBpbiBvbkZpbGVSZWZyZXNoKVxuICAgIF9jbGVhckVycm9yVGltZXIoKTtcblxuICAgIGlmIChfcGxheWVyKSB7XG4gICAgICBpZiAoIV9yZXN1bWUpIHtcbiAgICAgICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcbiAgICAgICAgX3BsYXllci5yZXNldCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIF9wbGF5ZXIucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgIF9pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gTG9nIGNvbmZpZ3VyYXRpb24gZXZlbnQuXG4gICAgICBsb2dFdmVudCh7XG4gICAgICAgIGV2ZW50OiBcImNvbmZpZ3VyYXRpb25cIixcbiAgICAgICAgZXZlbnRfZGV0YWlsczogX2NvbmZpZ0RldGFpbHNcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBfdmlld2VyUGF1c2VkID0gZmFsc2U7XG5cbiAgICBsb2dFdmVudCh7IFwiZXZlbnRcIjogXCJwbGF5XCIgfSwgZmFsc2UpO1xuXG4gICAgaWYgKF9lcnJvckZsYWcpIHtcbiAgICAgIF9zdGFydEVycm9yVGltZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX3BsYXllcikge1xuICAgICAgLy8gRW5zdXJlcyBwb3NzaWJsZSBlcnJvciBtZXNzYWdpbmcgZ2V0cyBoaWRkZW4gYW5kIHZpZGVvIGdldHMgc2hvd25cbiAgICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgICAgX3BsYXllci5wbGF5KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKF9jdXJyZW50RmlsZXMgJiYgX2N1cnJlbnRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF9wbGF5ZXIgPSBuZXcgUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXIoX2FkZGl0aW9uYWxQYXJhbXMsIF9tb2RlKTtcbiAgICAgICAgX3BsYXllci5pbml0KF9jdXJyZW50RmlsZXMpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFibGVOYW1lKCkge1xuICAgIHJldHVybiBcInZpZGVvX3YyX2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheWVyRW5kZWQoKSB7XG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcblxuICAgIF9kb25lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5ZXJSZWFkeSgpIHtcbiAgICAvLyBFbnN1cmVzIGxvYWRpbmcgbWVzc2FnaW5nIGlzIGhpZGRlbiBhbmQgdmlkZW8gZ2V0cyBzaG93blxuICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCAmJiBfcGxheWVyKSB7XG4gICAgICBfcGxheWVyLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5ZXJJdGVtQ2hhbmdlKGluZGV4KSB7XG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKHBhcmFtcywgbW9kZSkge1xuICAgIHZhciBpc1N0b3JhZ2VGaWxlO1xuXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMgPSBfLmNsb25lKHBhcmFtcyk7XG4gICAgX21vZGUgPSBtb2RlO1xuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS53aWR0aCA9IF9wcmVmcy5nZXRJbnQoXCJyc1dcIikgKyBcInB4XCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKSArIFwicHhcIjtcblxuICAgIF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKTtcbiAgICBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpO1xuXG4gICAgaWYgKF9hZGRpdGlvbmFsUGFyYW1zLnZpZGVvLmhhc093blByb3BlcnR5KFwicmVzdW1lXCIpKSB7XG4gICAgICBfcmVzdW1lID0gX2FkZGl0aW9uYWxQYXJhbXMudmlkZW8ucmVzdW1lO1xuICAgIH1cblxuICAgIF9tZXNzYWdlID0gbmV3IFJpc2VWaXNpb24uQ29tbW9uLk1lc3NhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIiksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VDb250YWluZXJcIikpO1xuXG4gICAgLy8gc2hvdyB3YWl0IG1lc3NhZ2Ugd2hpbGUgU3RvcmFnZSBpbml0aWFsaXplc1xuICAgIF9tZXNzYWdlLnNob3coXCJQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIHZpZGVvIGlzIGRvd25sb2FkZWQuXCIpO1xuXG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgaXNTdG9yYWdlRmlsZSA9IChPYmplY3Qua2V5cyhfYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApO1xuXG4gICAgICBpZiAoIWlzU3RvcmFnZUZpbGUpIHtcbiAgICAgICAgX2NvbmZpZ0RldGFpbHMgPSBcImN1c3RvbVwiO1xuXG4gICAgICAgIF9ub25TdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uTm9uU3RvcmFnZShfYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICAgIF9ub25TdG9yYWdlLmluaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jb25maWdEZXRhaWxzID0gXCJzdG9yYWdlIGZpbGVcIjtcblxuICAgICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZmlsZSBpbnN0YW5jZVxuICAgICAgICBfc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLlN0b3JhZ2VGaWxlKF9hZGRpdGlvbmFsUGFyYW1zKTtcbiAgICAgICAgX3N0b3JhZ2UuaW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgX2NvbmZpZ0RldGFpbHMgPSBcInN0b3JhZ2UgZm9sZGVyXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgU3RvcmFnZSBmb2xkZXIgaW5zdGFuY2VcbiAgICAgIF9zdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uU3RvcmFnZUZvbGRlcihfYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICBfc3RvcmFnZS5pbml0KCk7XG4gICAgfVxuXG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICAvLyBBbiBlcnJvciBvY2N1cnJlZCB3aXRoIEpXIFBsYXllci5cbiAgZnVuY3Rpb24gcGxheWVyRXJyb3IoZXJyb3IpIHtcbiAgICB2YXIgZGV0YWlscyA9IG51bGwsXG4gICAgICBwYXJhbXMgPSB7fSxcbiAgICAgIG1lc3NhZ2UgPSBcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIHBsYXlpbmcgdGhlIHZpZGVvLlwiLFxuICAgICAgTUVESUFfRVJST1IgPSBcIkVycm9yIGxvYWRpbmcgbWVkaWE6IEZpbGUgY291bGQgbm90IGJlIHBsYXllZFwiLFxuICAgICAgWU9VVFVCRV9FUlJPUiA9IFwiRXJyb3IgbG9hZGluZyBZb3VUdWJlOiBWaWRlbyBjb3VsZCBub3QgYmUgcGxheWVkXCIsXG4gICAgICBQTEFZRVJfRVJST1IgPSBcIkVycm9yIGxvYWRpbmcgcGxheWVyOiBObyBtZWRpYSBzb3VyY2VzIGZvdW5kXCIsXG4gICAgICBQTEFZTElTVF9FUlJPUiA9IFwiRXJyb3IgbG9hZGluZyBwbGF5bGlzdDogTm8gcGxheWFibGUgc291cmNlcyBmb3VuZFwiLFxuICAgICAgRU5DT0RJTkdfTUVTU0FHRSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBwbGF5aW5nIHRoYXQgdmlkZW8uIEl0IGNvdWxkIGJlIHRoYXQgd2UgZG9uJ3QgXCIgK1xuICAgICAgICBcInN1cHBvcnQgdGhhdCBmb3JtYXQgb3IgaXQgaXMgbm90IGVuY29kZWQgY29ycmVjdGx5LlwiLFxuICAgICAgRk9STUFUX01FU1NBR0UgPSBcIlRoZSBmb3JtYXQgb2YgdGhhdCB2aWRlbyBpcyBub3Qgc3VwcG9ydGVkXCI7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci50eXBlICYmIGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLnR5cGUgKyBcIiAtIFwiICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVycm9yLnR5cGUpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLnR5cGU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7XG4gICAgICAgIGRldGFpbHMgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICAvLyBEaXNwbGF5IGFwcHJvcHJpYXRlIG9uLXNjcmVlbiBlcnJvciBtZXNzYWdlLlxuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKChlcnJvci5tZXNzYWdlID09PSBNRURJQV9FUlJPUikgfHwgKGVycm9yLm1lc3NhZ2UgPT09IFlPVVRVQkVfRVJST1IpKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IEVOQ09ESU5HX01FU1NBR0U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3IubWVzc2FnZSA9PT0gUExBWUVSX0VSUk9SIHx8IGVycm9yLm1lc3NhZ2UgPT09IFBMQVlMSVNUX0VSUk9SKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IEZPUk1BVF9NRVNTQUdFO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGFyYW1zLmV2ZW50ID0gXCJwbGF5ZXIgZXJyb3JcIjtcbiAgICBwYXJhbXMuZXZlbnRfZGV0YWlscyA9IGRldGFpbHM7XG4gICAgX3BsYXllckVycm9yRmxhZyA9IHRydWU7XG5cbiAgICBsb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIHNob3dFcnJvcihtZXNzYWdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRUYWJsZU5hbWVcIjogZ2V0VGFibGVOYW1lLFxuICAgIFwiaGFzUGxheWVyRXJyb3JcIjogaGFzUGxheWVyRXJyb3IsXG4gICAgXCJoYXNTdG9yYWdlRXJyb3JcIjogaGFzU3RvcmFnZUVycm9yLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJvbkZpbGVJbml0XCI6IG9uRmlsZUluaXQsXG4gICAgXCJvbkZpbGVSZWZyZXNoXCI6IG9uRmlsZVJlZnJlc2gsXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcInNob3dFcnJvclwiOiBzaG93RXJyb3IsXG4gICAgXCJwbGF5ZXJFbmRlZFwiOiBwbGF5ZXJFbmRlZCxcbiAgICBcInBsYXllclJlYWR5XCI6IHBsYXllclJlYWR5LFxuICAgIFwicGxheWVyRXJyb3JcIjogcGxheWVyRXJyb3IsXG4gICAgXCJwbGF5ZXJJdGVtQ2hhbmdlXCI6IHBsYXllckl0ZW1DaGFuZ2UsXG4gICAgXCJzdG9wXCI6IHN0b3BcbiAgfTtcblxufSkod2luZG93LCBnYWRnZXRzKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uUGxheWVyVXRpbHMgPSAoZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvKlxuICAgKiAgUHVibGljICBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRQbGF5bGlzdCAobGlzdCkge1xuICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgXG4gICAgdmFyIHBsYXlsaXN0ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHBsYXlsaXN0LnB1c2goe1xuICAgICAgICBmaWxlOiBsaXN0W2ldLFxuICAgICAgICB0eXBlOiB0aGlzLmdldFZpZGVvRmlsZVR5cGUobGlzdFtpXSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwbGF5bGlzdDtcbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0VmlkZW9GaWxlVHlwZSAodXJsKSB7XG4gICAgdmFyIGV4dGVuc2lvbnMgPSBbXCIubXA0XCIsIFwiLndlYm1cIl0sXG4gICAgICB1cmxMb3dlcmNhc2UgPSB1cmwudG9Mb3dlckNhc2UoKSxcbiAgICAgIHR5cGUgPSBudWxsLFxuICAgICAgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPD0gZXh0ZW5zaW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHVybExvd2VyY2FzZS5pbmRleE9mKGV4dGVuc2lvbnNbaV0pICE9PSAtMSkge1xuICAgICAgICB0eXBlID0gZXh0ZW5zaW9uc1tpXS5zdWJzdHIoZXh0ZW5zaW9uc1tpXS5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiZ2V0UGxheWxpc3RcIjogZ2V0UGxheWxpc3QsXG4gICAgXCJnZXRWaWRlb0ZpbGVUeXBlXCI6IGdldFZpZGVvRmlsZVR5cGVcbiAgfTtcblxufSkoKTtcblxuLyogZ2xvYmFsIGNvbmZpZyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5TdG9yYWdlRmlsZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfaW5pdGlhbExvYWQgPSB0cnVlO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9TdG9yYWdlXCIpO1xuXG4gICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLmRldGFpbCAmJiBlLmRldGFpbC51cmwpIHtcblxuICAgICAgICBpZiAoX2luaXRpYWxMb2FkKSB7XG4gICAgICAgICAgX2luaXRpYWxMb2FkID0gZmFsc2U7XG5cbiAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZUluaXQoZS5kZXRhaWwudXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBjaGVjayBmb3IgXCJjaGFuZ2VkXCIgcHJvcGVydHlcbiAgICAgICAgICBpZiAoZS5kZXRhaWwuaGFzT3duUHJvcGVydHkoXCJjaGFuZ2VkXCIpKSB7XG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwuY2hhbmdlZCkge1xuICAgICAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZVJlZnJlc2goZS5kZXRhaWwudXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAvLyBpbiB0aGUgZXZlbnQgb2YgYSBuZXR3b3JrIGZhaWx1cmUgYW5kIHJlY292ZXJ5LCBjaGVjayBpZiB0aGUgV2lkZ2V0IGlzIGluIGEgc3RhdGUgb2Ygc3RvcmFnZSBlcnJvclxuICAgICAgICAgICAgICBpZiAoUmlzZVZpc2lvbi5WaWRlby5oYXNTdG9yYWdlRXJyb3IoKSB8fCBSaXNlVmlzaW9uLlZpZGVvLmhhc1BsYXllckVycm9yKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBwcm9jZWVkIHdpdGggcmVmcmVzaCBsb2dpYyBzbyB0aGUgV2lkZ2V0IGNhbiBldmVudHVhbGx5IHBsYXkgdmlkZW8gYWdhaW4gZnJvbSBhIG5ldHdvcmsgcmVjb3ZlcnlcbiAgICAgICAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZVJlZnJlc2goZS5kZXRhaWwudXJsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWFwaS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwic3RvcmFnZSBhcGkgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiUmVzcG9uc2UgY29kZTogXCIgKyBlLmRldGFpbC5jb2RlICsgXCIsIG1lc3NhZ2U6IFwiICsgZS5kZXRhaWwubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1uby1maWxlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIGZpbGUgbm90IGZvdW5kXCIsIFwiZXZlbnRfZGV0YWlsc1wiOiBlLmRldGFpbCB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCB2aWRlbyBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZmlsZS10aHJvdHRsZWRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZmlsZSB0aHJvdHRsZWRcIiwgXCJmaWxlX3VybFwiOiBlLmRldGFpbCB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCB2aWRlbyBpcyB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utc3Vic2NyaXB0aW9uLWV4cGlyZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXhwaXJlZFwiIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiUmlzZSBTdG9yYWdlIHN1YnNjcmlwdGlvbiBpcyBub3QgYWN0aXZlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXG4gICAgICAgIFwiZXZlbnRcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJUaGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZTogXCIgKyBlLmRldGFpbC5lcnJvci5jdXJyZW50VGFyZ2V0LnN0YXR1c1xuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIHN0b3JhZ2UgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXNcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIiwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIGNhY2hlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBlLmRldGFpbC5lcnJvci5tZXNzYWdlXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG5cbiAgICAgIHZhciBzdGF0dXNDb2RlID0gMDtcbiAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICBpZihlLmRldGFpbC5lcnJvci5tZXNzYWdlKXtcbiAgICAgICAgc3RhdHVzQ29kZSA9ICtlLmRldGFpbC5lcnJvci5tZXNzYWdlLnN1YnN0cmluZyhlLmRldGFpbC5lcnJvci5tZXNzYWdlLmluZGV4T2YoXCI6XCIpKzIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXJyb3JNZXNzYWdlID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLW5vdC1ydW5uaW5nXCIsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2UgY2FjaGUgbm90IHJ1bm5pbmdcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IChlLmRldGFpbCAmJiBlLmRldGFpbC5lcnJvcik/IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2U6IFwiXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmb2xkZXJcIiwgZGF0YS5zdG9yYWdlLmZvbGRlcik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlTmFtZVwiLCBkYXRhLnN0b3JhZ2UuZmlsZU5hbWUpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGRhdGEuc3RvcmFnZS5jb21wYW55SWQpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZW52XCIsIGNvbmZpZy5TVE9SQUdFX0VOVik7XG4gICAgc3RvcmFnZS5nbygpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxuLyogZ2xvYmFsIGNvbmZpZywgXyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5TdG9yYWdlRm9sZGVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pbml0aWFsTG9hZCA9IHRydWU7XG5cbiAgdmFyIF9maWxlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIF9nZXRVcmxzKCkge1xuICAgIHJldHVybiBfLnBsdWNrKF9maWxlcywgXCJ1cmxcIik7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0RXhpc3RpbmdGaWxlKGZpbGUpIHtcbiAgICByZXR1cm4gXy5maW5kKF9maWxlcywgZnVuY3Rpb24gKGYpIHtcbiAgICAgIHJldHVybiBmaWxlLm5hbWUgPT09IGYubmFtZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWxldGVGaWxlKGZpbGUpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBfZ2V0RXhpc3RpbmdGaWxlKGZpbGUpO1xuXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICBfZmlsZXMuc3BsaWNlKF9maWxlcy5pbmRleE9mKGV4aXN0aW5nKSwgMSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NoYW5nZUZpbGUoZmlsZSkge1xuICAgIHZhciBleGlzdGluZyA9IF9nZXRFeGlzdGluZ0ZpbGUoZmlsZSk7XG5cbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIGV4aXN0aW5nLnVybCA9IGZpbGUudXJsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9hZGRGaWxlKGZpbGUpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBfZ2V0RXhpc3RpbmdGaWxlKGZpbGUpO1xuXG4gICAgaWYgKCFleGlzdGluZykge1xuICAgICAgLy8gZXh0cmFjdCB0aGUgYWN0dWFsIGZpbGUgbmFtZSBhbmQgc3RvcmUgaW4gbmV3IHByb3BlcnR5IG9uIGZpbGUgb2JqZWN0XG4gICAgICBmaWxlLmZpbGVOYW1lID0gZmlsZS5uYW1lLnNsaWNlKGZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi9cIikgKyAxLCBmaWxlLm5hbWUubGFzdEluZGV4T2YoXCIuXCIpKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAvLyBpbnNlcnQgZmlsZSB0byBfZmlsZXMgbGlzdCBhdCBzcGVjaWZpYyBpbmRleCBiYXNlZCBvbiBhbHBoYWJldGljYWwgb3JkZXIgb2YgZmlsZSBuYW1lXG4gICAgICBfZmlsZXMuc3BsaWNlKF8uc29ydGVkSW5kZXgoX2ZpbGVzLCBmaWxlLCBcImZpbGVOYW1lXCIpLCAwLCBmaWxlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvU3RvcmFnZVwiKTtcblxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgZmlsZSA9IGUuZGV0YWlsO1xuXG4gICAgICAvLyBBZGRlZFxuICAgICAgaWYoZmlsZS5hZGRlZCkge1xuICAgICAgICBfYWRkRmlsZShmaWxlKTtcblxuICAgICAgICBpZiAoX2luaXRpYWxMb2FkKSB7XG4gICAgICAgICAgX2luaXRpYWxMb2FkID0gZmFsc2U7XG4gICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVJbml0KF9nZXRVcmxzKCkpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENoYW5nZWQgb3IgdW5jaGFuZ2VkXG4gICAgICBpZiAoZmlsZS5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikpIHtcbiAgICAgICAgaWYoZmlsZS5jaGFuZ2VkKSB7XG4gICAgICAgICAgX2NoYW5nZUZpbGUoZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gaW4gdGhlIGV2ZW50IG9mIGEgbmV0d29yayBmYWlsdXJlIGFuZCByZWNvdmVyeSwgY2hlY2sgaWYgdGhlIFdpZGdldCBpcyBpbiBhIHN0YXRlIG9mIHN0b3JhZ2UgZXJyb3JcbiAgICAgICAgICBpZiAoIVJpc2VWaXNpb24uVmlkZW8uaGFzU3RvcmFnZUVycm9yKCkgJiYgIVJpc2VWaXNpb24uVmlkZW8uaGFzUGxheWVyRXJyb3IoKSkge1xuICAgICAgICAgICAgLy8gb25seSBwcm9jZWVkIHdpdGggcmVmcmVzaCBsb2dpYyBiZWxvdyBpZiB0aGVyZSdzIGJlZW4gYSBzdG9yYWdlIGVycm9yLCBvdGhlcndpc2UgZG8gbm90aGluZ1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBzbyB0aGUgV2lkZ2V0IGNhbiBldmVudHVhbGx5IHBsYXkgdmlkZW8gYWdhaW4gZnJvbSBhIG5ldHdvcmsgcmVjb3ZlcnlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlZFxuICAgICAgaWYoZmlsZS5kZWxldGVkKSB7XG4gICAgICAgIF9kZWxldGVGaWxlKGZpbGUpO1xuICAgICAgfVxuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZVJlZnJlc2goX2dldFVybHMoKSk7XG5cbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1hcGktZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInN0b3JhZ2UgYXBpIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlJlc3BvbnNlIGNvZGU6IFwiICsgZS5kZXRhaWwuY29kZSArIFwiLCBtZXNzYWdlOiBcIiArIGUuZGV0YWlsLm1lc3NhZ2VcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZW1wdHktZm9sZGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIGZvbGRlciBlbXB0eVwiIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSB2aWRlb3MuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLW5vLWZvbGRlclwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZm9sZGVyIGRvZXNuJ3QgZXhpc3RcIiwgXCJldmVudF9kZXRhaWxzXCI6IGUuZGV0YWlsIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZm9sZGVyLWludmFsaWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZm9sZGVyIGZvcm1hdChzKSBpbnZhbGlkXCIgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IHN1cHBvcnRlZCB2aWRlbyBmb3JtYXRzLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCIgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJSaXNlIFN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGlzIG5vdCBhY3RpdmUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXNcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1ub3QtcnVubmluZ1wiLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIGNhY2hlIG5vdCBydW5uaW5nXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3IpPyBlLmRldGFpbC5lcnJvci5tZXNzYWdlOiBcIlwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZpbGVUeXBlXCIsIFwidmlkZW9cIik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgZGF0YS5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmb2xkZXJcIiwgZGF0YS5zdG9yYWdlLmZvbGRlcik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcblxuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLk5vblN0b3JhZ2UgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcmlzZUNhY2hlID0gUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlO1xuXG4gIHZhciBfcmVmcmVzaER1cmF0aW9uID0gOTAwMDAwLCAgLy8gMTUgbWludXRlc1xuICAgIF9yZWZyZXNoSW50ZXJ2YWxJZCA9IG51bGw7XG5cbiAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlO1xuXG4gIHZhciBfdXJsID0gXCJcIjtcblxuICBmdW5jdGlvbiBfZ2V0RmlsZShvbWl0Q2FjaGVCdXN0ZXIpIHtcbiAgICByaXNlQ2FjaGUuZ2V0RmlsZShfdXJsLCBmdW5jdGlvbiAocmVzcG9uc2UsIGVycm9yKSB7XG4gICAgICBpZiAoIWVycm9yKSB7XG5cbiAgICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZUluaXQocmVzcG9uc2UudXJsKTtcblxuICAgICAgICAgIC8vIHN0YXJ0IHRoZSByZWZyZXNoIGludGVydmFsXG4gICAgICAgICAgX3N0YXJ0UmVmcmVzaEludGVydmFsKCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZVJlZnJlc2gocmVzcG9uc2UudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlcnJvciBvY2N1cnJlZFxuICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHtcbiAgICAgICAgICBcImV2ZW50XCI6IFwibm9uLXN0b3JhZ2UgZXJyb3JcIixcbiAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBcImZpbGVfdXJsXCI6IHJlc3BvbnNlLnVybFxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICAgIGlmKGVycm9yLm1lc3NhZ2Upe1xuICAgICAgICAgIHN0YXR1c0NvZGUgPSArZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sIG9taXRDYWNoZUJ1c3Rlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRSZWZyZXNoSW50ZXJ2YWwoKSB7XG4gICAgaWYgKF9yZWZyZXNoSW50ZXJ2YWxJZCA9PT0gbnVsbCkge1xuICAgICAgX3JlZnJlc2hJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfZ2V0RmlsZShmYWxzZSk7XG4gICAgICB9LCBfcmVmcmVzaER1cmF0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgLy8gSGFuZGxlIHByZS1tZXJnZSB1c2Ugb2YgXCJ1cmxcIiBzZXR0aW5nIHByb3BlcnR5XG4gICAgX3VybCA9IChkYXRhLnVybCAmJiBkYXRhLnVybCAhPT0gXCJcIikgPyBkYXRhLnVybCA6IGRhdGEuc2VsZWN0b3IudXJsO1xuXG4gICAgX2dldEZpbGUodHJ1ZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgandwbGF5ZXIgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uUGxheWVyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2F1dG9QbGF5LCBfc3RyZXRjaGluZywgX3BhdXNlRHVyYXRpb247XG5cbiAgdmFyIF9wbGF5ZXJJbnN0YW5jZSA9IG51bGw7XG5cbiAgdmFyIF91dGlscyA9IFJpc2VWaXNpb24uVmlkZW8uUGxheWVyVXRpbHM7XG5cbiAgdmFyIF92aWV3ZXJQYXVzZWQgPSBmYWxzZSxcbiAgICBfcGF1c2VUaW1lciA9IG51bGw7XG5cbiAgdmFyIF9maWxlcyA9IG51bGwsXG4gICAgX3VwZGF0ZVdhaXRpbmcgPSBmYWxzZTtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllckVuZGVkKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfb25QYXVzZSgpIHtcbiAgICBpZiAoIV92aWV3ZXJQYXVzZWQpIHtcbiAgICAgIC8vIHVzZXIgaGFzIHBhdXNlZCwgc2V0IGEgdGltZXIgdG8gcGxheSBhZ2FpblxuICAgICAgY2xlYXJUaW1lb3V0KF9wYXVzZVRpbWVyKTtcblxuICAgICAgX3BhdXNlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF9wbGF5ZXJJbnN0YW5jZS5nZXRTdGF0ZSgpLnRvVXBwZXJDYXNlKCkgIT09IFwiUExBWUlOR1wiKSB7XG4gICAgICAgICAgLy8gY29udGludWUgcGxheWluZyB0aGUgY3VycmVudCB2aWRlb1xuICAgICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9wYXVzZUR1cmF0aW9uICogMTAwMCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX29uUGxheWxpc3RJdGVtKGluZGV4KSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJJdGVtQ2hhbmdlKGluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblBsYXllckVycm9yKGVycm9yKSB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllckVycm9yKHtcbiAgICAgICAgdHlwZTogXCJ2aWRlb1wiLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfb25TZXR1cEVycm9yKGVycm9yKSB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllckVycm9yKHtcbiAgICAgICAgdHlwZTogXCJzZXR1cFwiLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY29uZmlndXJlSGFuZGxlcnMoKSB7XG4gICAgLy92YXIgcGxheUZuID0gcGxheTtcblxuICAgIC8vIGhhbmRsZSBhIEpXUGxheWVyIHNldHVwIGVycm9yXG4gICAgX3BsYXllckluc3RhbmNlLm9uKFwic2V0dXBFcnJvclwiLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIF9vblNldHVwRXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgLy8gaGFuZGxlIHdoZW4gSldQbGF5ZXIgaXMgcmVhZHlcbiAgICBfcGxheWVySW5zdGFuY2Uub24oXCJyZWFkeVwiLCBmdW5jdGlvbigpIHtcblxuICAgICAgX3BsYXllckluc3RhbmNlLm9uKFwicGxheWxpc3RDb21wbGV0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9vbkNvbXBsZXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgX3BsYXllckluc3RhbmNlLm9uKFwicGxheWxpc3RJdGVtXCIsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgX29uUGxheWxpc3RJdGVtKGRhdGEuaW5kZXgpO1xuICAgICAgfSk7XG5cbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBfb25QbGF5ZXJFcnJvcihlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgX3BsYXllckluc3RhbmNlLnNldFZvbHVtZShwYXJhbXMudmlkZW8udm9sdW1lKTtcblxuICAgICAgaWYgKHBhcmFtcy52aWRlby5jb250cm9scyAmJiBfcGF1c2VEdXJhdGlvbiA+IDEpIHtcbiAgICAgICAgX3BsYXllckluc3RhbmNlLm9uKFwicGF1c2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF9vblBhdXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBwbGF5ZXIgaXMgcmVhZHlcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheWVyUmVhZHkoKTtcblxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldFNldHVwRGF0YShmaWxlcykge1xuICAgIHJldHVybiB7XG4gICAgICBjb250cm9sczogcGFyYW1zLnZpZGVvLmNvbnRyb2xzLFxuICAgICAgaGVpZ2h0OiBwYXJhbXMuaGVpZ2h0LFxuICAgICAgcGxheWxpc3Q6IF91dGlscy5nZXRQbGF5bGlzdChmaWxlcyksXG4gICAgICBza2luOiB7bmFtZTogXCJyaXNlXCJ9LFxuICAgICAgc3RyZXRjaGluZyA6IF9zdHJldGNoaW5nLFxuICAgICAgd2lkdGg6IHBhcmFtcy53aWR0aFxuICAgIH07XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoZmlsZXMpIHtcbiAgICBfcGxheWVySW5zdGFuY2UgPSBqd3BsYXllcihcInBsYXllclwiKTtcblxuICAgIF9maWxlcyA9IGZpbGVzO1xuXG4gICAgX3N0cmV0Y2hpbmcgPSAocGFyYW1zLnZpZGVvLnNjYWxlVG9GaXQpID8gXCJ1bmlmb3JtXCIgOiBcIm5vbmVcIjtcblxuICAgIC8vIGVuc3VyZSBhdXRvUGxheSBpcyB0cnVlIGlmIGNvbnRyb2xzIHZhbHVlIGlzIGZhbHNlLCBvdGhlcndpc2UgdXNlIHBhcmFtcyB2YWx1ZVxuICAgIF9hdXRvUGxheSA9ICghcGFyYW1zLnZpZGVvLmNvbnRyb2xzKSA/IHRydWUgOiBwYXJhbXMudmlkZW8uYXV0b3BsYXk7XG5cbiAgICAvLyBjaGVjayBpZiB0aGlzIHNldHRpbmcgZXhpc3RzIGR1ZSB0byBtZXJnZSBvZiBmaWxlIGFuZCBmb2xkZXJcbiAgICBpZiAocGFyYW1zLnZpZGVvLnBhdXNlKSB7XG4gICAgICAvLyBjb252ZXJ0IHBhdXNlIHZhbHVlIHRvIG51bWJlciBpZiB0eXBlIGlzIFwic3RyaW5nXCJcbiAgICAgIHBhcmFtcy52aWRlby5wYXVzZSA9ICh0eXBlb2YgcGFyYW1zLnZpZGVvLnBhdXNlID09PSBcInN0cmluZ1wiKSA/IHBhcnNlSW50KHBhcmFtcy52aWRlby5wYXVzZSwgMTApIDogcGFyYW1zLnZpZGVvLnBhdXNlO1xuXG4gICAgICAvLyBpZiBub3Qgb2YgdHlwZSBcIm51bWJlclwiLCBzZXQgaXRzIHZhbHVlIHRvIDAgc28gYSBwYXVzZSBkb2VzIG5vdCBnZXQgYXBwbGllZFxuICAgICAgX3BhdXNlRHVyYXRpb24gPSAoaXNOYU4ocGFyYW1zLnZpZGVvLnBhdXNlKSkgPyAwIDogcGFyYW1zLnZpZGVvLnBhdXNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlbnN1cmUgbm8gcGF1c2UgZHVyYXRpb24gb2NjdXJzXG4gICAgICBfcGF1c2VEdXJhdGlvbiA9IDA7XG4gICAgfVxuXG4gICAgLy8gc2V0dXAgSldQbGF5ZXJcbiAgICBfcGxheWVySW5zdGFuY2Uuc2V0dXAoX2dldFNldHVwRGF0YShmaWxlcykpO1xuICAgIF9jb25maWd1cmVIYW5kbGVycygpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcblxuICAgIGlmIChfdXBkYXRlV2FpdGluZykge1xuICAgICAgX3VwZGF0ZVdhaXRpbmcgPSBmYWxzZTtcbiAgICAgIC8vIGxvYWQgYSBuZXcgcGxheWxpc3RcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5sb2FkKF91dGlscy5nZXRQbGF5bGlzdChfZmlsZXMpKTtcbiAgICB9XG5cbiAgICBpZiAoX2F1dG9QbGF5KSB7XG4gICAgICBfcGxheWVySW5zdGFuY2UucGxheSgpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgX3ZpZXdlclBhdXNlZCA9IHRydWU7XG4gICAgY2xlYXJUaW1lb3V0KF9wYXVzZVRpbWVyKTtcblxuICAgIGlmIChfcGxheWVySW5zdGFuY2UuZ2V0U3RhdGUoKS50b1VwcGVyQ2FzZSgpID09PSBcIlBMQVlJTkdcIikge1xuICAgICAgX3BsYXllckluc3RhbmNlLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG5cbiAgICBwYXVzZSgpO1xuXG4gICAgZnVuY3Rpb24gb25QbGF5KCkge1xuICAgICAgLy8gcmVtb3ZlIGhhbmRsaW5nIHRoZSBwbGF5IGV2ZW50XG4gICAgICBfcGxheWVySW5zdGFuY2Uub2ZmKFwicGxheVwiLCBvblBsYXkpO1xuXG4gICAgICAvLyBwYXVzZSB0aGUgdmlkZW8gYXQgdGhlIHN0YXJ0XG4gICAgICBfcGxheWVySW5zdGFuY2UucGF1c2UoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblNlZWtlZCgpIHtcbiAgICAgIC8vIHJlbW92ZSBoYW5kbGluZyB0aGUgc2Vla2VkIGV2ZW50XG4gICAgICBfcGxheWVySW5zdGFuY2Uub2ZmKFwic2Vla2VkXCIsIG9uU2Vla2VkKTtcblxuICAgICAgLy8gcGF1c2UgdGhlIHZpZGVvIGF0IHRoZSBzdGFydFxuICAgICAgX3BsYXllckluc3RhbmNlLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgc3RhdHVzIGlzIENPTVBMRVRFLCBhIGZ1dHVyZSBwbGF5IGNhbGwgd2lsbCBzdGFydCBwbGF5bGlzdCBvdmVyIGZyb20gYmVnaW5uaW5nIGF1dG9tYXRpY2FsbHlcbiAgICBpZiAoX3BsYXllckluc3RhbmNlLmdldFN0YXRlKCkudG9VcHBlckNhc2UoKSAhPT0gXCJDT01QTEVURVwiKSB7XG5cbiAgICAgIC8vIGF2b2lkIGp3cGxheWVyIHByb21pc2UgZXJyb3IgaW4gY29uc29sZSB3aXRoIHNldFRpbWVvdXQgLSBodHRwOi8vZ29vLmdsL0w0Z2tUbVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfcGxheWVySW5zdGFuY2UuZ2V0UGxheWxpc3RJbmRleCgpICE9PSAwKSB7XG4gICAgICAgICAgX3BsYXllckluc3RhbmNlLm9uKFwicGxheVwiLCBvblBsYXkpO1xuXG4gICAgICAgICAgLy8gY2hhbmdlIHRvIGZpcnN0IHZpZGVvIGluIGxpc3RcbiAgICAgICAgICBfcGxheWVySW5zdGFuY2UucGxheWxpc3RJdGVtKDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGhhbmRsZSB3aGVuIHZpZGVvIGNvbnRpbnVlcyBwbGF5aW5nIGFmdGVyIHNlZWtpbmcgdG8gcG9zaXRpb25cbiAgICAgICAgICBfcGxheWVySW5zdGFuY2Uub24oXCJzZWVrZWRcIiwgb25TZWVrZWQpO1xuXG4gICAgICAgICAgLy8gbW92ZSBwb3NpdGlvbiBiYWNrIHRvIHN0YXJ0IG9mIHZpZGVvXG4gICAgICAgICAgX3BsYXllckluc3RhbmNlLnNlZWsoMCk7XG4gICAgICAgIH1cbiAgICAgIH0sMTAwKTtcbiAgICAgIFxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKGZpbGVzKSB7XG4gICAgX2ZpbGVzID0gZmlsZXM7XG4gICAgX3VwZGF0ZVdhaXRpbmcgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdCxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwicmVzZXRcIjogcmVzZXQsXG4gICAgXCJ1cGRhdGVcIjogdXBkYXRlXG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlID0gZnVuY3Rpb24gKG1haW5Db250YWluZXIsIG1lc3NhZ2VDb250YWluZXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hY3RpdmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBtYWluQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBpbml0aWFsaXplIE1lc3NhZ2UgLSBcIiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgaWYgKF9hY3RpdmUpIHtcbiAgICAgIC8vIGNsZWFyIGNvbnRlbnQgb2YgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIHdoaWxlIChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5yZW1vdmVDaGlsZChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICAvLyBoaWRlIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgLy8gc2hvdyBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgICBfYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvdyhtZXNzYWdlKSB7XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgcDtcblxuICAgIGlmICghX2FjdGl2ZSkge1xuICAgICAgLy8gaGlkZSBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgLy8gY3JlYXRlIG1lc3NhZ2UgZWxlbWVudFxuICAgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgICAgcC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1lc3NhZ2VcIik7XG5cbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHApO1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICAgIF9hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtZXNzYWdlIGFscmVhZHkgYmVpbmcgc2hvd24sIHVwZGF0ZSBtZXNzYWdlIHRleHRcbiAgICAgIHAgPSBtZXNzYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZVwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICB9XG4gIH1cblxuICBfaW5pdCgpO1xuXG4gIHJldHVybiB7XG4gICAgXCJoaWRlXCI6IGhpZGUsXG4gICAgXCJzaG93XCI6IHNob3dcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBSaXNlVmlzaW9uICovXG5cbihmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICAvLyBEaXNhYmxlIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSlcbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMgPSBudWxsLFxuICAgICAgbW9kZSA9IFwiXCIsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKG5hbWVzWzBdID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICAgIGNvbXBhbnlJZCA9IHZhbHVlc1swXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWVzWzFdID09PSBcImRpc3BsYXlJZFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbMV0pIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSB2YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gXCJwcmV2aWV3XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMuc2V0SWRzKGNvbXBhbnlJZCwgZGlzcGxheUlkKTtcbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldFZlcnNpb24odmVyc2lvbik7XG5cbiAgICAgIGlmIChuYW1lc1syXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIpIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVzWzJdKTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAvLyBzdG9yYWdlIGZpbGUgb3IgZm9sZGVyIHNlbGVjdGVkXG4gICAgICAgICAgaWYgKCFhZGRpdGlvbmFsUGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIC8vIGZvbGRlciB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZvbGRlclwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgICAgbW9kZSA9IFwiZmlsZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub24tc3RvcmFnZSBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zLCBtb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnN0b3AoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvbHltZXJSZWFkeSgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCBwb2x5bWVyUmVhZHkpO1xuXG4gICAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcblxuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBjb25maWd1cmUpO1xuICAgICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzcGFyYW1fZ2V0XCIsIG51bGwsIGlkLCBbXCJjb21wYW55SWRcIiwgXCJkaXNwbGF5SWRcIiwgXCJhZGRpdGlvbmFsUGFyYW1zXCJdKTtcbiAgICB9XG4gIH1cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCBwb2x5bWVyUmVhZHkpO1xuXG59KSh3aW5kb3csIGdhZGdldHMpO1xuXG5cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xudmFyIF9nYXEgPSBfZ2FxIHx8IFtdO1xuXG5fZ2FxLnB1c2goWydfc2V0QWNjb3VudCcsICdVQS01NzA5MjE1OS0yJ10pO1xuX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnXSk7XG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIGdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IGdhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly9zc2wnIDogJ2h0dHA6Ly93d3cnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnO1xuICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7XG59KSgpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
