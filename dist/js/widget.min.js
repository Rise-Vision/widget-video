var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,i){var n=null;e.event?(n=e,n.file_url&&(n.file_format=t(n.file_url)),n.company_id=l,n.display_id=a,d&&(n.version=d),i(n)):i(n)}function i(){var e=new Date,i=e.getUTCFullYear(),t=e.getUTCMonth()+1,n=e.getUTCDate();return 10>t&&(t="0"+t),10>n&&(n="0"+n),i+t+n}function t(e){var i,t=/[?#&]/;return e&&"string"==typeof e?(i=e.substr(e.lastIndexOf(".")+1),t.test(i)&&(i=i.substr(0,-1!==i.indexOf("?")?i.indexOf("?"):i.length),i=i.substr(0,-1!==i.indexOf("#")?i.indexOf("#"):i.length),i=i.substr(0,-1!==i.indexOf("&")?i.indexOf("&"):i.length)),i.toLowerCase()):null}function n(e){var t={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:i(),rows:[{insertId:""}]},n=JSON.parse(JSON.stringify(t));return n.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),n.rows[0].json=JSON.parse(JSON.stringify(e)),n.rows[0].json.ts=(new Date).toISOString(),n}function o(i,t){e(t,function(e){null!==e&&RiseVision.Common.Logger.log(i,e)})}function r(e,i){l=e,a=i}function s(e){d=e}var a="",l="",d=null;return{getInsertData:n,getFileFormat:t,logEvent:o,setIds:r,setVersion:s}}(),RiseVision.Common.Logger=function(e){"use strict";function i(e){var i=new XMLHttpRequest;return new Date-d<358e4?e({}):(i.open("POST",o,!0),i.onloadend=function(){var t=JSON.parse(i.response);e({token:t.access_token,refreshedAt:new Date})},i.send(),void 0)}function t(e){return s&&l===e}function n(n,o){function u(i){var t,s,a=new XMLHttpRequest;s=r.replace("TABLE_ID",n),d=i.refreshedAt||d,c=i.token||c,t=e.getInsertData(o),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+c),o.cb&&"function"==typeof o.cb&&(a.onloadend=function(){o.cb(a.response)}),a.send(JSON.stringify(t))}if(!(!n||!o||o.hasOwnProperty("event")&&!o.event||o.hasOwnProperty("event")&&t(o.event)))return s=!0,l=o.event,setTimeout(function(){s=!1},a),i(u)}var o="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",r="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,l="",d=0,c="";return{log:n}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,i){var t="font-family: "+decodeURIComponent(i.font.family).replace(/'/g,"")+"; ",n="color: "+(i.color?i.color:i.forecolor)+"; ",o="font-size: "+(-1===i.size.indexOf("px")?i.size+"px; ":i.size+"; "),r="font-weight: "+(i.bold?"bold":"normal")+"; ",s="font-style: "+(i.italic?"italic":"normal")+"; ",a="text-decoration: "+(i.underline?"underline":"none")+"; ",l="background-color: "+(i.highlightColor?i.highlightColor:i.backcolor)+";";return"."+e+" {"+t+n+o+r+s+a+l+"}"}function i(e){for(var i=document.createElement("style"),t=0,n=e.length;n>t;t++)i.appendChild(document.createTextNode(e[t]));document.head.appendChild(i)}function t(t,r){function s(){r&&"function"==typeof r&&r()}function a(){s()}var l=null,d=[],c=[],u=[];if(!t||0===t.length)return s(),void 0;t.forEach(function(t){t.class&&t.fontStyle&&i([e(t.class,t.fontStyle)])});for(var f=0;f<t.length;f++)t[f].fontStyle&&t[f].fontStyle.font.type&&"google"===t[f].fontStyle.font.type&&(l=t[f].fontStyle.font.family.split(",")[0],l=l.replace(/'/g,""),d.push(l));for(f=0;f<t.length;f++)t[f].fontStyle&&t[f].fontStyle.font.type&&"custom"===t[f].fontStyle.font.type&&(c.push(decodeURIComponent(t[f].fontStyle.font.family).replace(/'/g,"")),u.push(t[f].fontStyle.font.url.replace(/'/g,"\\'")));if(0===d.length&&0===c.length)s();else{for(var g=0;g<c.length;g+=1)n(c[g],u[g]);d.length>0?o(d,a):s()}}function n(e,i,t){var n=null,o="font-family: "+e+"; src: url('"+i+"');";t=t||document,n=t.styleSheets[0],null!==n&&n.addRule("@font-face",o)}function o(e,i){WebFont.load({google:{families:e},active:function(){i&&"function"==typeof i&&i()},inactive:function(){i&&"function"==typeof i&&i()},timeout:2e3})}function r(e){for(var i=e.length,t=[],n=0;i>n;n++)t[n]=new Image,t[n].src=e[n]}function s(e){for(var i,t=window.location.search.substring(1),n=t.split("&"),o=0;o<n.length;o++)if(i=n[o].split("="),i[0]==e)return decodeURIComponent(i[1]);return""}function a(e){var i="";switch(e){case 404:i="The file does not exist or cannot be accessed.";break;case 507:i="There is not enough disk space to save the file on Rise Cache.";break;default:i="There was a problem retrieving the file from Rise Cache."}return i}function l(e){var i=document.createElement("div");return i.innerHTML=e,i.textContent}function d(e,i){var t=new XMLHttpRequest;if(e&&i&&"function"==typeof i){t.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{t.send(),i(t.status>=200&&t.status<304)}catch(n){i(!1)}}}return{getQueryParameter:s,getFontCssStyle:e,addCSSRules:i,loadFonts:t,loadCustomFont:n,loadGoogleFonts:o,preloadImages:r,getRiseCacheErrorMessage:a,unescapeHTML:l,hasInternetConnection:d}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var i=new XMLHttpRequest;e&&"function"==typeof e&&(i.open("GET",n+"ping?callback=_",!0),i.onreadystatechange=function(){try{4===i.readyState&&(o=!0,200===i.status?(r=!0,e(!0,i.responseText)):(console.debug("Rise Cache is not running"),r=!1,e(!1,null)))}catch(t){console.debug("Caught exception: ",t.description)}},i.send())}function i(e,i,t){function s(){var i,o,s;r?i=t?n+"?url="+encodeURIComponent(e):n+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):t?i=e:(o=e.split("?"),s=1===o.length?"?":"&",i=e+s+"cb="+(new Date).getTime()),a("HEAD",i)}function a(e,t){var n=new XMLHttpRequest,o={xhr:n,url:t};r?(n.open(e,t,!0),n.addEventListener("loadend",function(){var r=n.status||0;r>=200&&300>r?i(o):"HEAD"===e?a("GET",t):i(o,new Error("The request failed with status code: "+r))}),n.send()):i(o)}if(e&&i&&"function"==typeof i)return o?s():this.ping(s)}function t(e){return e&&"function"==typeof e?o?(e(r),void 0):this.ping(function(){e(r)}):void 0}var n="//localhost:9494/",o=!1,r=!1;return{getFile:i,isRiseCacheRunning:t,ping:e}}();var version="1.1.0";"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod"},RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,i){"use strict";function t(){i.rpc.call("","rsevent_done",null,O.getString("id")),null!==D&&d(D,!0),d({event:"done"},!1)}function n(){i.rpc.call("","rsevent_ready",null,O.getString("id"),!0,!0,!0,!0,!0)}function o(){clearTimeout(G),G=null}function r(){o(),G=setTimeout(function(){t()},5e3)}function s(){if(k&&k.length>0){if("file"===w)return k[0];if("folder"===w&&M)return k[M]}return null}function a(){return P}function l(e,i){U=!0,P="undefined"!=typeof i,T.show(e),M=null,L.remove(N,F.getFrameOrigin(),function(){A||r()})}function d(e,i){i&&(D=e),e.file_url||(e.file_url=s()),RiseVision.Common.LoggerUtils.logEvent(m(),e)}function c(e){"file"===w?k[0]=e:"folder"===w&&(k=e),T.hide(),A||g()}function u(e){"file"===w?k[0]=e:"folder"===w&&(k=e),U=!1,P=!1,D=null}function f(){var e=L.getFrameObject(N);A=!0,o(),e&&(x?e.postMessage({event:"pause"},F.getFrameOrigin()):(M=null,L.remove(N,F.getFrameOrigin())))}function g(){var e,i={},t=L.getFrameObject(N);return C&&(C=!1,i.event="configuration",i.event_details=b,d(i,!1)),A=!1,d({event:"play"},!1),U?(r(),void 0):(t?t.postMessage({event:"play"},F.getFrameOrigin()):k&&k.length>0&&RiseVision.Common.RiseCache.isRiseCacheRunning(function(i){"file"===w?(e=i?"//localhost:9494/?url="+encodeURIComponent(F.getBucketPath())+"player-file-cache.html":"player-file.html",L.add(0),L.createFramePlayer(0,E,k[0],e,F.getFrameOrigin())):"folder"===w&&(e=i?"//localhost:9494/?url="+encodeURIComponent(F.getBucketPath())+"player-folder-cache.html":"player-folder.html",L.add(0),L.createFramePlayer(0,E,k,e,F.getFrameOrigin()))}),void 0)}function m(){return"video_events_v2"}function v(){M=null,L.remove(N,F.getFrameOrigin(),function(){t()})}function p(){var e;T.hide(),A||(e=L.getFrameObject(N),e&&e.postMessage({event:"play"},F.getFrameOrigin()))}function h(e){M=e}function V(e,t){var o;E=_.clone(e),w=t,O=new i.Prefs,document.getElementById("videoContainer").style.height=O.getInt("rsH")+"px",E.width=O.getInt("rsW"),E.height=O.getInt("rsH"),E.video.hasOwnProperty("resume")&&(x=E.video.resume),T=new RiseVision.Common.Message(document.getElementById("videoContainer"),document.getElementById("messageContainer")),T.show("Please wait while your video is downloaded."),F=new RiseVision.Video.WindowController,F.init(),L=new RiseVision.Video.FrameController,"file"===w?(o=0!==Object.keys(E.storage).length,o?(b="storage file",S=new RiseVision.Video.StorageFile(E),S.init()):(b="custom",I=new RiseVision.Video.NonStorage(E),I.init())):"folder"===w&&(b="storage folder",S=new RiseVision.Video.StorageFolder(E),S.init()),n()}function R(e){var i=null,t={},n="Sorry, there was a problem playing the video.",o="Error loading media: File could not be played",r="Error loading YouTube: Video could not be played",s="Error loading player: No playable sources found",a="There was a problem playing that video. It could be that we don't support that format or it is not encoded correctly.",c="The format of that video is not supported";e&&(e.type&&e.message?i=e.type+" - "+e.message:e.type?i=e.type:e.message&&(i=e.message),e.message&&(e.message===o||e.message===r?n=a:e.message===s&&(n=c))),t.event="player error",t.event_details=i,d(t,!0),l(n)}function y(){f()}var E,w,C=!0,b=null,O=null,S=null,I=null,T=null,L=null,F=null,A=!0,x=!0,N=0,k=[],M=null,D=null,G=null,U=!1,P=!1;return{getTableName:m,hasStorageError:a,logEvent:d,onFileInit:c,onFileRefresh:u,pause:f,play:g,setAdditionalParams:V,showError:l,playerEnded:v,playerReady:p,playerError:R,playerItemChange:h,stop:y}}(window,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFile=function(e){"use strict";function i(){var i=document.getElementById("videoStorage");i&&(i.addEventListener("rise-storage-response",function(e){e.detail&&e.detail.url&&(t?(t=!1,RiseVision.Video.onFileInit(e.detail.url)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Video.onFileRefresh(e.detail.url):RiseVision.Video.hasStorageError()&&RiseVision.Video.onFileRefresh(e.detail.url)))}),i.addEventListener("rise-storage-api-error",function(e){var i={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),i.addEventListener("rise-storage-no-file",function(e){var i={event:"storage file not found",event_details:e.detail};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("The selected video does not exist or has been moved to Trash.")}),i.addEventListener("rise-storage-file-throttled",function(e){var i={event:"storage file throttled",file_url:e.detail};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("The selected video is temporarily unavailable.")}),i.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),i.addEventListener("rise-storage-error",function(e){var i={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),i.addEventListener("rise-cache-error",function(e){var i={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Video.logEvent(i,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var n=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Video.showError(n)}),i.addEventListener("rise-cache-not-running",function(e){var i={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(i,!0)}),i.setAttribute("folder",e.storage.folder),i.setAttribute("fileName",e.storage.fileName),i.setAttribute("companyId",e.storage.companyId),i.setAttribute("env",config.STORAGE_ENV),i.go())}var t=!0;return{init:i}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFolder=function(e){"use strict";function i(){return _.pluck(l,"url")}function t(e){return _.find(l,function(i){return e.name===i.name})}function n(e){var i=t(e);i&&l.splice(l.indexOf(i),1)}function o(e){var i=t(e);i&&(i.url=e.url)}function r(e){var i=t(e);i||(e.fileName=e.name.slice(e.name.lastIndexOf("/")+1,e.name.lastIndexOf(".")).toLowerCase(),l.splice(_.sortedIndex(l,e,"fileName"),0,e))}function s(){var t=document.getElementById("videoStorage");t&&(t.addEventListener("rise-storage-response",function(e){var t=e.detail;if(t.added&&(r(t),a))return a=!1,RiseVision.Video.onFileInit(i()),void 0;if(t.hasOwnProperty("changed"))if(t.changed)o(t);else if(!RiseVision.Video.hasStorageError())return;t.deleted&&n(t),RiseVision.Video.onFileRefresh(i())}),t.addEventListener("rise-storage-api-error",function(e){var i={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-empty-folder",function(){var e={event:"storage folder empty"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any videos.")}),t.addEventListener("rise-storage-no-folder",function(e){var i={event:"storage folder doesn't exist",event_details:e.detail};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("The selected folder does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-folder-invalid",function(){var e={event:"storage folder format(s) invalid"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any supported video formats.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-error",function(e){var i={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(i,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var i={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Video.logEvent(i,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var n=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Video.showError(n)}),t.addEventListener("rise-cache-not-running",function(e){var i={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(i,!0)}),t.setAttribute("fileType","video"),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("folder",e.storage.folder),t.setAttribute("env",config.STORAGE_ENV),t.go())}var a=!0,l=[];return{init:s}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.NonStorage=function(e){"use strict";function i(e){o.getFile(l,function(e,i){if(i){RiseVision.Video.logEvent({event:"non-storage error",event_details:i.message,file_url:e.url},!0);var n=0;i.message&&(n=+i.message.substring(i.message.indexOf(":")+2));var o=RiseVision.Common.Utilities.getRiseCacheErrorMessage(n);RiseVision.Video.showError(o)}else a?(a=!1,RiseVision.Video.onFileInit(e.url),t()):RiseVision.Video.onFileRefresh(e.url)},e)}function t(){null===s&&(s=setInterval(function(){i(!1)},r))}function n(){l=e.url&&""!==e.url?e.url:e.selector.url,i(!0)}var o=RiseVision.Common.RiseCache,r=9e5,s=null,a=!0,l="";return{init:n}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.WindowController=function(){"use strict";function e(){var e=window.location.pathname.split("/"),i=window.location.host,t=window.location.protocol;s=t+"//"+i+"/";for(var n=0;n<e.length&&(""===e[n]||(s+=e[n]+"/","dist"!==e[n]));n+=1);}function i(){"localhost:8000"===window.location.host?a="http://localhost:8000":"s3.amazonaws.com"===window.location.host&&RiseVision.Common.RiseCache.isRiseCacheRunning(function(i){i?(a="http://localhost:9494",e()):a="http://s3.amazonaws.com"})}function t(){window.addEventListener("message",function(e){var i=e.origin||e.originalEvent.origin;if("http://localhost:9494"!==i&&"http://s3.amazonaws.com"!==i&&"http://localhost:8000"!==i)return i=null,void 0;if(e.data&&"object"==typeof e.data&&e.data.event)switch(e.data.event){case"playerEnded":RiseVision.Video.playerEnded();break;case"playerError":RiseVision.Video.playerError(e.data.error);break;case"playerItemChange":RiseVision.Video.playerItemChange(e.data.index);break;case"playerReady":RiseVision.Video.playerReady()}})}function n(){return s}function o(){return a}function r(){i(),t()}var s="",a="";return{getBucketPath:n,getFrameOrigin:o,init:r}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.FrameController=function(){"use strict";function e(e){return document.getElementById(l+e)}function i(i){var t,n=e(i);return t=n.querySelector("iframe"),t?t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument:null}function t(t,n){var o,r=e(t),s=i(t);s&&(o=r.querySelector("iframe"),s.postMessage({event:"remove"},n),o.setAttribute("src","about:blank"))}function n(i){var t=e(i),n=document.createElement("iframe");n.setAttribute("allowTransparency",!0),n.setAttribute("frameborder","0"),n.setAttribute("scrolling","no"),t.appendChild(n)}function o(t,n,o,r,s){var a,l=e(t),d=i(t);d&&(a=l.querySelector("iframe"),a.onload=function(){a.onload=null,d.postMessage({event:"init",params:n,files:o},s)},a.setAttribute("src",r))}function r(i){var t=e(i);t.style.visibility="hidden"}function s(e,i,n){var o=document.getElementById(l+e);t(e,i),setTimeout(function(){for(;o.firstChild;)o.removeChild(o.firstChild);n&&"function"==typeof n&&n()},200)}function a(i){var t=e(i);t.style.visibility="visible"}var l="if_";return{add:n,createFramePlayer:o,getFrameContainer:e,getFrameObject:i,hide:r,remove:s,show:a}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,i){"use strict";function t(){try{i.style.height=e.style.height}catch(t){console.warn("Can't initialize Message - ",t.message)}}function n(){if(r){for(;i.firstChild;)i.removeChild(i.firstChild);i.style.display="none",e.style.visibility="visible",r=!1}}function o(t){var n,o=document.createDocumentFragment();r?(n=i.querySelector(".message"),n.innerHTML=t):(e.style.visibility="hidden",i.style.display="block",n=document.createElement("p"),n.innerHTML=t,n.setAttribute("class","message"),o.appendChild(n),i.appendChild(o),r=!0)}var r=!1;return t(),{hide:n,show:o}},function(e,i){"use strict";function t(e,i){var t=null,n="",o="",r="";Array.isArray(e)&&e.length>0&&Array.isArray(i)&&i.length>0&&("companyId"===e[0]&&(o=i[0]),"displayId"===e[1]&&(r=i[1]?i[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(o,r),RiseVision.Common.LoggerUtils.setVersion(version),"additionalParams"===e[2]&&(t=JSON.parse(i[2]),n=0!==Object.keys(t.storage).length?t.storage.fileName?"file":"folder":"file",RiseVision.Video.setAdditionalParams(t,n)))}function n(){RiseVision.Video.play()}function o(){RiseVision.Video.pause()}function r(){RiseVision.Video.stop()}function s(){e.removeEventListener("WebComponentsReady",s),l&&""!==l&&(i.rpc.register("rscmd_play_"+l,n),i.rpc.register("rscmd_pause_"+l,o),i.rpc.register("rscmd_stop_"+l,r),i.rpc.register("rsparam_set_"+l,t),i.rpc.call("","rsparam_get",null,l,["companyId","displayId","additionalParams"]))}var a=new i.Prefs,l=a.getString("id");e.oncontextmenu=function(){return!1},e.addEventListener("WebComponentsReady",s)}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SQUdFX0VOViIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwiY2IiLCJqc29uIiwiZXZlbnQiLCJmaWxlX3VybCIsImZpbGVfZm9ybWF0IiwiZ2V0RmlsZUZvcm1hdCIsImNvbXBhbnlfaWQiLCJjb21wYW55SWQiLCJkaXNwbGF5X2lkIiwiZGlzcGxheUlkIiwidmVyc2lvbiIsImdldFN1ZmZpeCIsImRhdGUiLCJEYXRlIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJ1cmwiLCJzdHIiLCJoYXNQYXJhbXMiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsInRlc3QiLCJpbmRleE9mIiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJnZXRJbnNlcnREYXRhIiwiQkFTRV9JTlNFUlRfU0NIRU1BIiwia2luZCIsInNraXBJbnZhbGlkUm93cyIsImlnbm9yZVVua25vd25WYWx1ZXMiLCJ0ZW1wbGF0ZVN1ZmZpeCIsInJvd3MiLCJpbnNlcnRJZCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInRzIiwidG9JU09TdHJpbmciLCJsb2dFdmVudCIsInRhYmxlIiwiTG9nZ2VyIiwibG9nIiwic2V0SWRzIiwiY29tcGFueSIsImRpc3BsYXkiLCJzZXRWZXJzaW9uIiwidmFsdWUiLCJ1dGlscyIsInJlZnJlc2hUb2tlbiIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVmcmVzaERhdGUiLCJvcGVuIiwiUkVGUkVTSF9VUkwiLCJvbmxvYWRlbmQiLCJyZXNwIiwicmVzcG9uc2UiLCJ0b2tlbiIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hlZEF0Iiwic2VuZCIsImlzVGhyb3R0bGVkIiwidGhyb3R0bGUiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwicmVwbGFjZSIsInNldFJlcXVlc3RIZWFkZXIiLCJoYXNPd25Qcm9wZXJ0eSIsInNldFRpbWVvdXQiLCJ0aHJvdHRsZURlbGF5IiwiVXRpbGl0aWVzIiwiZ2V0Rm9udENzc1N0eWxlIiwiY2xhc3NOYW1lIiwiZm9udE9iaiIsImZhbWlseSIsImRlY29kZVVSSUNvbXBvbmVudCIsImZvbnQiLCJjb2xvciIsImZvcmVjb2xvciIsInNpemUiLCJ3ZWlnaHQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0Q29sb3IiLCJiYWNrY29sb3IiLCJhZGRDU1NSdWxlcyIsInJ1bGVzIiwic3R5bGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImhlYWQiLCJsb2FkRm9udHMiLCJzZXR0aW5ncyIsImNhbGxiYWNrIiwib25Hb29nbGVGb250c0xvYWRlZCIsImZhbWlsaWVzIiwiZ29vZ2xlRmFtaWxpZXMiLCJjdXN0b21GYW1pbGllcyIsImN1c3RvbVVybHMiLCJmb3JFYWNoIiwiaXRlbSIsImNsYXNzIiwiZm9udFN0eWxlIiwidHlwZSIsInNwbGl0IiwicHVzaCIsImoiLCJsb2FkQ3VzdG9tRm9udCIsImxvYWRHb29nbGVGb250cyIsImNvbnRlbnREb2MiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJXZWJGb250IiwibG9hZCIsImdvb2dsZSIsImFjdGl2ZSIsImluYWN0aXZlIiwidGltZW91dCIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJzcmMiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwicGFpciIsInF1ZXJ5Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJ2YXJzIiwiZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsImVycm9yTWVzc2FnZSIsInVuZXNjYXBlSFRNTCIsImh0bWwiLCJkaXYiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImhhc0ludGVybmV0Q29ubmVjdGlvbiIsImZpbGVQYXRoIiwiZ2V0VGltZSIsInN0YXR1cyIsImUiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiciIsIkJBU0VfQ0FDSEVfVVJMIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIl9waW5nUmVjZWl2ZWQiLCJfaXNDYWNoZVJ1bm5pbmciLCJyZXNwb25zZVRleHQiLCJjb25zb2xlIiwiZGVidWciLCJkZXNjcmlwdGlvbiIsImdldEZpbGUiLCJmaWxlVXJsIiwibm9jYWNoZWJ1c3RlciIsImZpbGVSZXF1ZXN0Iiwic2VwYXJhdG9yIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWFrZVJlcXVlc3QiLCJtZXRob2QiLCJyZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIkVycm9yIiwidGhpcyIsImlzUmlzZUNhY2hlUnVubmluZyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsImNvbmZpZyIsIlZpZGVvIiwiZ2FkZ2V0cyIsIl9kb25lIiwicnBjIiwiY2FsbCIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9lcnJvckxvZyIsIl9yZWFkeSIsIl9jbGVhckVycm9yVGltZXIiLCJjbGVhclRpbWVvdXQiLCJfZXJyb3JUaW1lciIsIl9zdGFydEVycm9yVGltZXIiLCJfZ2V0Q3VycmVudEZpbGUiLCJfY3VycmVudEZpbGVzIiwiX21vZGUiLCJfY3VycmVudFBsYXlsaXN0SW5kZXgiLCJoYXNTdG9yYWdlRXJyb3IiLCJfc3RvcmFnZUVycm9yRmxhZyIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJpc1N0b3JhZ2VFcnJvciIsIl9lcnJvckZsYWciLCJfbWVzc2FnZSIsInNob3ciLCJfZnJhbWVDb250cm9sbGVyIiwicmVtb3ZlIiwiX2N1cnJlbnRGcmFtZSIsIl93aW5kb3dDb250cm9sbGVyIiwiZ2V0RnJhbWVPcmlnaW4iLCJfdmlld2VyUGF1c2VkIiwiaXNFcnJvciIsImdldFRhYmxlTmFtZSIsIm9uRmlsZUluaXQiLCJoaWRlIiwicGxheSIsIm9uRmlsZVJlZnJlc2giLCJwYXVzZSIsImZyYW1lT2JqIiwiZ2V0RnJhbWVPYmplY3QiLCJfcmVzdW1lIiwicG9zdE1lc3NhZ2UiLCJsb2dQYXJhbXMiLCJfaXNMb2FkaW5nIiwiZXZlbnRfZGV0YWlscyIsIl9jb25maWdEZXRhaWxzIiwiaXNSdW5uaW5nIiwiZ2V0QnVja2V0UGF0aCIsImFkZCIsImNyZWF0ZUZyYW1lUGxheWVyIiwiX2FkZGl0aW9uYWxQYXJhbXMiLCJwbGF5ZXJFbmRlZCIsInBsYXllclJlYWR5IiwicGxheWVySXRlbUNoYW5nZSIsImluZGV4Iiwic2V0QWRkaXRpb25hbFBhcmFtcyIsIm1vZGUiLCJpc1N0b3JhZ2VGaWxlIiwiXyIsImNsb25lIiwiUHJlZnMiLCJnZXRFbGVtZW50QnlJZCIsImhlaWdodCIsImdldEludCIsIndpZHRoIiwidmlkZW8iLCJyZXN1bWUiLCJNZXNzYWdlIiwiV2luZG93Q29udHJvbGxlciIsImluaXQiLCJGcmFtZUNvbnRyb2xsZXIiLCJPYmplY3QiLCJrZXlzIiwic3RvcmFnZSIsIl9zdG9yYWdlIiwiU3RvcmFnZUZpbGUiLCJfbm9uU3RvcmFnZSIsIk5vblN0b3JhZ2UiLCJTdG9yYWdlRm9sZGVyIiwicGxheWVyRXJyb3IiLCJlcnJvciIsImRldGFpbHMiLCJNRURJQV9FUlJPUiIsIllPVVRVQkVfRVJST1IiLCJQTEFZRVJfRVJST1IiLCJFTkNPRElOR19NRVNTQUdFIiwiRk9STUFUX01FU1NBR0UiLCJzdG9wIiwiZGV0YWlsIiwiX2luaXRpYWxMb2FkIiwiY2hhbmdlZCIsImNvZGUiLCJjdXJyZW50VGFyZ2V0Iiwic2V0QXR0cmlidXRlIiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJnbyIsIl9nZXRVcmxzIiwicGx1Y2siLCJfZmlsZXMiLCJfZ2V0RXhpc3RpbmdGaWxlIiwiZmlsZSIsImZpbmQiLCJmIiwibmFtZSIsIl9kZWxldGVGaWxlIiwiZXhpc3RpbmciLCJzcGxpY2UiLCJfY2hhbmdlRmlsZSIsIl9hZGRGaWxlIiwic2xpY2UiLCJzb3J0ZWRJbmRleCIsImFkZGVkIiwiZGVsZXRlZCIsIl9nZXRGaWxlIiwib21pdENhY2hlQnVzdGVyIiwicmlzZUNhY2hlIiwiX3VybCIsIl9zdGFydFJlZnJlc2hJbnRlcnZhbCIsIl9yZWZyZXNoSW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiX3JlZnJlc2hEdXJhdGlvbiIsInNlbGVjdG9yIiwiX3NldEJ1Y2tldFBhdGgiLCJwYXRoQXJyYXkiLCJwYXRobmFtZSIsImhvc3QiLCJwcm90b2NvbCIsIl9idWNrZXRQYXRoIiwiX3NldEZyYW1lT3JpZ2luIiwiX2ZyYW1lT3JpZ2luIiwiX3NldE1lc3NhZ2VSZWNlaXZlciIsIm9yaWdpbiIsIm9yaWdpbmFsRXZlbnQiLCJnZXRGcmFtZUNvbnRhaW5lciIsIlBSRUZJWCIsImlmcmFtZSIsImZyYW1lQ29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnRXaW5kb3ciLCJjb250ZW50RG9jdW1lbnQiLCJfY2xlYXIiLCJmaWxlcyIsIm9ubG9hZCIsInZpc2liaWxpdHkiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJtYWluQ29udGFpbmVyIiwibWVzc2FnZUNvbnRhaW5lciIsIl9pbml0Iiwid2FybiIsIl9hY3RpdmUiLCJwIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY29uZmlndXJlIiwibmFtZXMiLCJ2YWx1ZXMiLCJhZGRpdGlvbmFsUGFyYW1zIiwiQXJyYXkiLCJpc0FycmF5IiwicG9seW1lclJlYWR5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlkIiwicmVnaXN0ZXIiLCJwcmVmcyIsIm9uY29udGV4dG1lbnUiLCJfZ2FxIiwiZ2EiLCJhc3luYyIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiJBQUNBLEdBQUlBLHVCQUNGQyxjQUFlLGlCQUNmQyxpQkFBa0IsNEVBQ2xCQyxxQkFBc0IsMkJBQ3RCQyxxQkFBc0IscUVBQ3RCQyxZQUFhLE9BQ2JDLFVBQVcsNkNBSVRDLFdBQWFBLGNBQ2pCQSxZQUFXQyxPQUFTRCxXQUFXQyxXQUUvQkQsV0FBV0MsT0FBT0MsWUFBYyxXQUM5QixZQVdBLFNBQVNDLEdBQWVDLEVBQVFDLEdBQzlCLEdBQUlDLEdBQU8sSUFHUEYsR0FBT0csT0FDVEQsRUFBT0YsRUFFSEUsRUFBS0UsV0FDUEYsRUFBS0csWUFBY0MsRUFBY0osRUFBS0UsV0FHeENGLEVBQUtLLFdBQWFDLEVBQ2xCTixFQUFLTyxXQUFhQyxFQUVkQyxJQUNGVCxFQUFLUyxRQUFVQSxHQUdqQlYsRUFBR0MsSUFHSEQsRUFBR0MsR0FLUCxRQUFTVSxLQUNQLEdBQUlDLEdBQU8sR0FBSUMsTUFDYkMsRUFBT0YsRUFBS0csaUJBQ1pDLEVBQVFKLEVBQUtLLGNBQWdCLEVBQzdCQyxFQUFNTixFQUFLTyxZQVViLE9BUlksSUFBUkgsSUFDRkEsRUFBUSxJQUFNQSxHQUdOLEdBQU5FLElBQ0ZBLEVBQU0sSUFBTUEsR0FHUEosRUFBT0UsRUFBUUUsRUFNeEIsUUFBU2IsR0FBY2UsR0FDckIsR0FDRUMsR0FERUMsRUFBWSxPQUdoQixPQUFLRixJQUFzQixnQkFBUkEsSUFJbkJDLEVBQU1ELEVBQUlHLE9BQU9ILEVBQUlJLFlBQVksS0FBTyxHQUdwQ0YsRUFBVUcsS0FBS0osS0FDakJBLEVBQU1BLEVBQUlFLE9BQU8sRUFBeUIsS0FBckJGLEVBQUlLLFFBQVEsS0FBZUwsRUFBSUssUUFBUSxLQUFPTCxFQUFJTSxRQUV2RU4sRUFBTUEsRUFBSUUsT0FBTyxF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LElBQUlpSyxTQUFTLGNBQWdCRCxFQUFJNUUsR0FFekN0RixFQUFRRSxJQUFJaUssU0FBUyxlQUFpQkQsRUFBSVIsR0FDMUMxSixFQUFRRSxJQUFJQyxLQUFLLEdBQUksY0FBZSxLQUFNK0osR0FBSyxZQUFhLFlBQWEsc0JBMUU3RSxHQUFJRSxHQUFRLEdBQUlwSyxHQUFRMkQsTUFDdEJ1RyxFQUFLRSxFQUFNL0osVUFBVSxLQUd2QnJELEdBQU9xTixjQUFnQixXQUNyQixPQUFPLEdBeUVUck4sRUFBT3VDLGlCQUFpQixxQkFBc0J5SyxJQUU3Q2hOLE9BQVFnRCxRQUtYLElBQUlzSyxNQUFPQSxRQUVYQSxNQUFLOU8sTUFBTSxjQUFlLGtCQUMxQjhPLEtBQUs5TyxNQUFNLG1CQUVYLFdBQ0UsR0FBSStPLEdBQUtuUSxTQUFTQyxjQUFjLFNBQVdrUSxHQUFHalAsS0FBTyxrQkFBbUJpUCxFQUFHQyxPQUFRLEVBQ25GRCxFQUFHNU4sS0FBTyxVQUFZdkMsU0FBUzZDLFNBQVM2SyxTQUFXLGNBQWdCLGNBQWdCLDZCQUNuRixJQUFJMkMsR0FBSXJRLFNBQVNzUSxxQkFBcUIsVUFBVSxFQUFJRCxHQUFFRSxXQUFXQyxhQUFhTCxFQUFJRSIsImZpbGUiOiJqcy93aWRnZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXhwb3J0ZWQgV0lER0VUX0NPTU1PTl9DT05GSUcgKi9cbnZhciBXSURHRVRfQ09NTU9OX0NPTkZJRyA9IHtcbiAgQVVUSF9QQVRIX1VSTDogXCJ2MS93aWRnZXQvYXV0aFwiLFxuICBMT0dHRVJfQ0xJRU5UX0lEOiBcIjEwODg1MjcxNDcxMDktNnExbzJ2dGlobjM0MjkycGp0NGNraG1oY2swcmswbzcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgTE9HR0VSX0NMSUVOVF9TRUNSRVQ6IFwibmxaeXJjUExnNm9Fd085ZjlXZm4yOVdoXCIsXG4gIExPR0dFUl9SRUZSRVNIX1RPS0VOOiBcIjEveHp0NGt3ekUxSDdXOVZuS0I4Y0FhQ3g2emI0RXM0bktFb3FhWUhkVEQxNUlnT3JKRHRkdW42eks2WGlBVENLVFwiLFxuICBTVE9SQUdFX0VOVjogXCJwcm9kXCIsXG4gIFNUT1JFX1VSTDogXCJodHRwczovL3N0b3JlLWRvdC1ydmFzZXJ2ZXIyLmFwcHNwb3QuY29tL1wiXG59O1xuLyogZ2xvYmFsIFdJREdFVF9DT01NT05fQ09ORklHICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAgdmFyIGRpc3BsYXlJZCA9IFwiXCIsXG4gICAgIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgIHZlcnNpb24gPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgLyogUmV0cmlldmUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBldmVudCBsb2dnZXIuICovXG4gIGZ1bmN0aW9uIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgY2IpIHtcbiAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAvLyBldmVudCBpcyByZXF1aXJlZC5cbiAgICBpZiAocGFyYW1zLmV2ZW50KSB7XG4gICAgICBqc29uID0gcGFyYW1zO1xuXG4gICAgICBpZiAoanNvbi5maWxlX3VybCkge1xuICAgICAgICBqc29uLmZpbGVfZm9ybWF0ID0gZ2V0RmlsZUZvcm1hdChqc29uLmZpbGVfdXJsKTtcbiAgICAgIH1cblxuICAgICAganNvbi5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgICAganNvbi5kaXNwbGF5X2lkID0gZGlzcGxheUlkO1xuXG4gICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICBqc29uLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgfVxuXG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgc3VmZml4IGZvciBCUSB0YWJsZSBuYW1lLlxuICBmdW5jdGlvbiBnZXRTdWZmaXgoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSxcbiAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG5cbiAgICBpZiAoZGF5IDwgMTApIHtcbiAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cblxuICAgIHJldHVybiB5ZWFyICsgbW9udGggKyBkYXk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEZpbGVGb3JtYXQodXJsKSB7XG4gICAgdmFyIGhhc1BhcmFtcyA9IC9bPyMmXS8sXG4gICAgICBzdHI7XG5cbiAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzdHIgPSB1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcblxuICAgIC8vIGRvbid0IGluY2x1ZGUgYW55IHBhcmFtcyBhZnRlciB0aGUgZmlsZW5hbWVcbiAgICBpZiAoaGFzUGFyYW1zLnRlc3Qoc3RyKSkge1xuICAgICAgc3RyID0gc3RyLnN1YnN0cigwICwoc3RyLmluZGV4T2YoXCI/XCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIj9cIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCIjXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiNcIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCImXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiZcIikgOiBzdHIubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbnNlcnREYXRhKHBhcmFtcykge1xuICAgIHZhciBCQVNFX0lOU0VSVF9TQ0hFTUEgPSB7XG4gICAgICBcImtpbmRcIjogXCJiaWdxdWVyeSN0YWJsZURhdGFJbnNlcnRBbGxSZXF1ZXN0XCIsXG4gICAgICBcInNraXBJbnZhbGlkUm93c1wiOiBmYWxzZSxcbiAgICAgIFwiaWdub3JlVW5rbm93blZhbHVlc1wiOiBmYWxzZSxcbiAgICAgIFwidGVtcGxhdGVTdWZmaXhcIjogZ2V0U3VmZml4KCksXG4gICAgICBcInJvd3NcIjogW3tcbiAgICAgICAgXCJpbnNlcnRJZFwiOiBcIlwiXG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoQkFTRV9JTlNFUlRfU0NIRU1BKSk7XG5cbiAgICBkYXRhLnJvd3NbMF0uaW5zZXJ0SWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMikudG9VcHBlckNhc2UoKTtcbiAgICBkYXRhLnJvd3NbMF0uanNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24udHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHRhYmxlLCBwYXJhbXMpIHtcbiAgICBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgIGlmIChqc29uICE9PSBudWxsKSB7XG4gICAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlci5sb2codGFibGUsIGpzb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyogU2V0IHRoZSBDb21wYW55IGFuZCBEaXNwbGF5IElEcy4gKi9cbiAgZnVuY3Rpb24gc2V0SWRzKGNvbXBhbnksIGRpc3BsYXkpIHtcbiAgICBjb21wYW55SWQgPSBjb21wYW55O1xuICAgIGRpc3BsYXlJZCA9IGRpc3BsYXk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRWZXJzaW9uKHZhbHVlKSB7XG4gICAgdmVyc2lvbiA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldEluc2VydERhdGFcIjogZ2V0SW5zZXJ0RGF0YSxcbiAgICBcImdldEZpbGVGb3JtYXRcIjogZ2V0RmlsZUZvcm1hdCxcbiAgICBcImxvZ0V2ZW50XCI6IGxvZ0V2ZW50LFxuICAgIFwic2V0SWRzXCI6IHNldElkcyxcbiAgICBcInNldFZlcnNpb25cIjogc2V0VmVyc2lvblxuICB9O1xufSkoKTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyID0gKGZ1bmN0aW9uKHV0aWxzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBSRUZSRVNIX1VSTCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3Rva2VuP2NsaWVudF9pZD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfSUQgK1xuICAgICAgXCImY2xpZW50X3NlY3JldD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfU0VDUkVUICtcbiAgICAgIFwiJnJlZnJlc2hfdG9rZW49XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfUkVGUkVTSF9UT0tFTiArXG4gICAgICBcIiZncmFudF90eXBlPXJlZnJlc2hfdG9rZW5cIjtcblxuICB2YXIgc2VydmljZVVybCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYmlncXVlcnkvdjIvcHJvamVjdHMvY2xpZW50LXNpZGUtZXZlbnRzL2RhdGFzZXRzL1dpZGdldF9FdmVudHMvdGFibGVzL1RBQkxFX0lEL2luc2VydEFsbFwiLFxuICAgIHRocm90dGxlID0gZmFsc2UsXG4gICAgdGhyb3R0bGVEZWxheSA9IDEwMDAsXG4gICAgbGFzdEV2ZW50ID0gXCJcIixcbiAgICByZWZyZXNoRGF0ZSA9IDAsXG4gICAgdG9rZW4gPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbihjYikge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGlmIChuZXcgRGF0ZSgpIC0gcmVmcmVzaERhdGUgPCAzNTgwMDAwKSB7XG4gICAgICByZXR1cm4gY2Ioe30pO1xuICAgIH1cblxuICAgIHhoci5vcGVuKFwiUE9TVFwiLCBSRUZSRVNIX1VSTCwgdHJ1ZSk7XG4gICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3AgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSk7XG5cbiAgICAgIGNiKHsgdG9rZW46IHJlc3AuYWNjZXNzX3Rva2VuLCByZWZyZXNoZWRBdDogbmV3IERhdGUoKSB9KTtcbiAgICB9O1xuXG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVGhyb3R0bGVkKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRocm90dGxlICYmIChsYXN0RXZlbnQgPT09IGV2ZW50KTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gbG9nKHRhYmxlTmFtZSwgcGFyYW1zKSB7XG4gICAgaWYgKCF0YWJsZU5hbWUgfHwgIXBhcmFtcyB8fCAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgIXBhcmFtcy5ldmVudCkgfHxcbiAgICAgIChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiBpc1Rocm90dGxlZChwYXJhbXMuZXZlbnQpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm90dGxlID0gdHJ1ZTtcbiAgICBsYXN0RXZlbnQgPSBwYXJhbXMuZXZlbnQ7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm90dGxlID0gZmFsc2U7XG4gICAgfSwgdGhyb3R0bGVEZWxheSk7XG5cbiAgICBmdW5jdGlvbiBpbnNlcnRXaXRoVG9rZW4ocmVmcmVzaERhdGEpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgaW5zZXJ0RGF0YSwgdXJsO1xuXG4gICAgICB1cmwgPSBzZXJ2aWNlVXJsLnJlcGxhY2UoXCJUQUJMRV9JRFwiLCB0YWJsZU5hbWUpO1xuICAgICAgcmVmcmVzaERhdGUgPSByZWZyZXNoRGF0YS5yZWZyZXNoZWRBdCB8fCByZWZyZXNoRGF0ZTtcbiAgICAgIHRva2VuID0gcmVmcmVzaERhdGEudG9rZW4gfHwgdG9rZW47XG4gICAgICBpbnNlcnREYXRhID0gdXRpbHMuZ2V0SW5zZXJ0RGF0YShwYXJhbXMpO1xuXG4gICAgICAvLyBJbnNlcnQgdGhlIGRhdGEuXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIHRva2VuKTtcblxuICAgICAgaWYgKHBhcmFtcy5jYiAmJiB0eXBlb2YgcGFyYW1zLmNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBhcmFtcy5jYih4aHIucmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShpbnNlcnREYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZnJlc2hUb2tlbihpbnNlcnRXaXRoVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImxvZ1wiOiBsb2dcbiAgfTtcbn0pKFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzKTtcblxuLyogZ2xvYmFsIFdlYkZvbnQgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gZ2V0Rm9udENzc1N0eWxlKGNsYXNzTmFtZSwgZm9udE9iaikge1xuICAgIHZhciBmYW1pbHkgPSBcImZvbnQtZmFtaWx5OiBcIiArIGRlY29kZVVSSUNvbXBvbmVudChmb250T2JqLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpICsgXCI7IFwiO1xuICAgIHZhciBjb2xvciA9IFwiY29sb3I6IFwiICsgKGZvbnRPYmouY29sb3IgPyBmb250T2JqLmNvbG9yIDogZm9udE9iai5mb3JlY29sb3IpICsgXCI7IFwiO1xuICAgIHZhciBzaXplID0gXCJmb250LXNpemU6IFwiICsgKGZvbnRPYmouc2l6ZS5pbmRleE9mKFwicHhcIikgPT09IC0xID8gZm9udE9iai5zaXplICsgXCJweDsgXCIgOiBmb250T2JqLnNpemUgKyBcIjsgXCIpO1xuICAgIHZhciB3ZWlnaHQgPSBcImZvbnQtd2VpZ2h0OiBcIiArIChmb250T2JqLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciBpdGFsaWMgPSBcImZvbnQtc3R5bGU6IFwiICsgKGZvbnRPYmouaXRhbGljID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciB1bmRlcmxpbmUgPSBcInRleHQtZGVjb3JhdGlvbjogXCIgKyAoZm9udE9iai51bmRlcmxpbmUgPyBcInVuZGVybGluZVwiIDogXCJub25lXCIpICsgXCI7IFwiO1xuICAgIHZhciBoaWdobGlnaHQgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgKGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgPyBmb250T2JqLmhpZ2hsaWdodENvbG9yIDogZm9udE9iai5iYWNrY29sb3IpICsgXCI7XCI7XG5cbiAgICByZXR1cm4gXCIuXCIgKyBjbGFzc05hbWUgKyBcIiB7XCIgKyBmYW1pbHkgKyBjb2xvciArIHNpemUgKyB3ZWlnaHQgKyBpdGFsaWMgKyB1bmRlcmxpbmUgKyBoaWdobGlnaHQgKyBcIn1cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENTU1J1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJ1bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShydWxlc1tpXSkpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgLypcbiAgICogTG9hZHMgR29vZ2xlIG9yIGN1c3RvbSBmb250cywgaWYgYXBwbGljYWJsZSwgYW5kIGluamVjdHMgQ1NTIHN0eWxlc1xuICAgKiBpbnRvIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtICAgIGFycmF5ICAgIHNldHRpbmdzICAgIEFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIGZvcm06XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJkYXRlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvbnRTZXR0aW5nXCI6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJWZXJkYW5hXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdvb2dsZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly9jdXN0b20tZm9udC11cmxcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwiMjBcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICpcbiAgICogICAgICAgICAgIG9iamVjdCAgIGNvbnRlbnREb2MgICAgRG9jdW1lbnQgb2JqZWN0IGludG8gd2hpY2ggdG8gaW5qZWN0IHN0eWxlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgbG9hZCBmb250cyAob3B0aW9uYWwpLlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEZvbnRzKHNldHRpbmdzLCBjYikge1xuICAgIHZhciBmYW1pbGllcyA9IG51bGwsXG4gICAgICBnb29nbGVGYW1pbGllcyA9IFtdLFxuICAgICAgY3VzdG9tRmFtaWxpZXMgPSBbXSxcbiAgICAgIGN1c3RvbVVybHMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Hb29nbGVGb250c0xvYWRlZCgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaWYgKCFzZXR0aW5ncyB8fCBzZXR0aW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGN1c3RvbSBjc3MgY2xhc3MgbmFtZXMgYW5kIGFkZCBydWxlcyBpZiBzb1xuICAgIHNldHRpbmdzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uY2xhc3MgJiYgaXRlbS5mb250U3R5bGUpIHtcbiAgICAgICAgYWRkQ1NTUnVsZXMoWyBnZXRGb250Q3NzU3R5bGUoaXRlbS5jbGFzcywgaXRlbS5mb250U3R5bGUpIF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gR29vZ2xlIGZvbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImdvb2dsZVwiKSkge1xuICAgICAgICAvLyBSZW1vdmUgZmFsbGJhY2sgZm9udC5cbiAgICAgICAgZmFtaWxpZXMgPSBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC5mYW1pbHkuc3BsaXQoXCIsXCIpWzBdO1xuXG4gICAgICAgIC8vIHN0cmlwIHBvc3NpYmxlIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgZmFtaWxpZXMgPSBmYW1pbGllcy5yZXBsYWNlKC8nL2csIFwiXCIpO1xuXG4gICAgICAgIGdvb2dsZUZhbWlsaWVzLnB1c2goZmFtaWxpZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEN1c3RvbSBmb250c1xuICAgIGZvciAoaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImN1c3RvbVwiKSkge1xuICAgICAgICAvLyBkZWNvZGUgdmFsdWUgYW5kIHN0cmlwIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgY3VzdG9tRmFtaWxpZXMucHVzaChkZWNvZGVVUklDb21wb25lbnQoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpKTtcbiAgICAgICAgLy8gc3RyaXAgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBjdXN0b21VcmxzLnB1c2goc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudXJsLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdvb2dsZUZhbWlsaWVzLmxlbmd0aCA9PT0gMCAmJiBjdXN0b21GYW1pbGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gTG9hZCB0aGUgZm9udHNcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VzdG9tRmFtaWxpZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgbG9hZEN1c3RvbUZvbnQoY3VzdG9tRmFtaWxpZXNbal0sIGN1c3RvbVVybHNbal0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ29vZ2xlRmFtaWxpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBsb2FkR29vZ2xlRm9udHMoZ29vZ2xlRmFtaWxpZXMsIG9uR29vZ2xlRm9udHNMb2FkZWQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5LCB1cmwsIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc2hlZXQgPSBudWxsO1xuICAgIHZhciBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmYW1pbHkgKyBcIjsgXCIgKyBcInNyYzogdXJsKCdcIiArIHVybCArIFwiJyk7XCI7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHNoZWV0ID0gY29udGVudERvYy5zdHlsZVNoZWV0c1swXTtcblxuICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xuICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEdvb2dsZUZvbnRzKGZhbWlsaWVzLCBjYikge1xuICAgIFdlYkZvbnQubG9hZCh7XG4gICAgICBnb29nbGU6IHtcbiAgICAgICAgZmFtaWxpZXM6IGZhbWlsaWVzXG4gICAgICB9LFxuICAgICAgYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IDIwMDBcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModXJscykge1xuICAgIHZhciBsZW5ndGggPSB1cmxzLmxlbmd0aCxcbiAgICAgIGltYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZXNbaV0uc3JjID0gdXJsc1tpXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWVyeVBhcmFtZXRlcihwYXJhbSkge1xuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLFxuICAgICAgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKSxcbiAgICAgIHBhaXI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgaWYgKHBhaXJbMF0gPT0gcGFyYW0pIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSkge1xuICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIHN3aXRjaCAoc3RhdHVzQ29kZSkge1xuICAgICAgY2FzZSA0MDQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlIGZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTA3OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIGlzIG5vdCBlbm91Z2ggZGlzayBzcGFjZSB0byBzYXZlIHRoZSBmaWxlIG9uIFJpc2UgQ2FjaGUuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHJldHJpZXZpbmcgdGhlIGZpbGUgZnJvbSBSaXNlIENhY2hlLlwiO1xuICAgIH1cblxuICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XG4gIH1cblxuICBmdW5jdGlvbiB1bmVzY2FwZUhUTUwoaHRtbCkge1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICByZXR1cm4gZGl2LnRleHRDb250ZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzSW50ZXJuZXRDb25uZWN0aW9uKGZpbGVQYXRoLCBjYWxsYmFjaykge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGlmICghZmlsZVBhdGggfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJIRUFEXCIsIGZpbGVQYXRoICsgXCI/Y2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgZmFsc2UpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGNhbGxiYWNrKCh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzA0KSk7XG5cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRRdWVyeVBhcmFtZXRlcjogZ2V0UXVlcnlQYXJhbWV0ZXIsXG4gICAgZ2V0Rm9udENzc1N0eWxlOiAgZ2V0Rm9udENzc1N0eWxlLFxuICAgIGFkZENTU1J1bGVzOiAgICAgIGFkZENTU1J1bGVzLFxuICAgIGxvYWRGb250czogICAgICAgIGxvYWRGb250cyxcbiAgICBsb2FkQ3VzdG9tRm9udDogICBsb2FkQ3VzdG9tRm9udCxcbiAgICBsb2FkR29vZ2xlRm9udHM6ICAgbG9hZEdvb2dsZUZvbnRzLFxuICAgIHByZWxvYWRJbWFnZXM6ICAgIHByZWxvYWRJbWFnZXMsXG4gICAgZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlOiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2UsXG4gICAgdW5lc2NhcGVIVE1MOiB1bmVzY2FwZUhUTUwsXG4gICAgaGFzSW50ZXJuZXRDb25uZWN0aW9uOiBoYXNJbnRlcm5ldENvbm5lY3Rpb25cbiAgfTtcbn0pKCk7XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZSA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBCQVNFX0NBQ0hFX1VSTCA9IFwiLy9sb2NhbGhvc3Q6OTQ5NC9cIjtcblxuICB2YXIgX3BpbmdSZWNlaXZlZCA9IGZhbHNlLFxuICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHBpbmcoY2FsbGJhY2spIHtcbiAgICB2YXIgciA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHIub3BlbihcIkdFVFwiLCBCQVNFX0NBQ0hFX1VSTCArIFwicGluZz9jYWxsYmFjaz1fXCIsIHRydWUpO1xuICAgIHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcbiAgICAgICAgICAvLyBzYXZlIHRoaXMgcmVzdWx0IGZvciB1c2UgaW4gZ2V0RmlsZSgpXG4gICAgICAgICAgX3BpbmdSZWNlaXZlZCA9IHRydWU7XG5cbiAgICAgICAgICBpZihyLnN0YXR1cyA9PT0gMjAwKXtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKHRydWUsIHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlJpc2UgQ2FjaGUgaXMgbm90IHJ1bm5pbmdcIik7XG4gICAgICAgICAgICBfaXNDYWNoZVJ1bm5pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkNhdWdodCBleGNlcHRpb246IFwiLCBlLmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cblxuICAgIH07XG4gICAgci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRGaWxlKGZpbGVVcmwsIGNhbGxiYWNrLCBub2NhY2hlYnVzdGVyKSB7XG4gICAgaWYgKCFmaWxlVXJsIHx8ICFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbGVSZXF1ZXN0KCkge1xuICAgICAgdmFyIHVybCwgc3RyLCBzZXBhcmF0b3I7XG5cbiAgICAgIGlmIChfaXNDYWNoZVJ1bm5pbmcpIHtcbiAgICAgICAgLy8gY29uZmlndXJlIHVybCB3aXRoIGNhY2hlYnVzdGVyIG9yIG5vdFxuICAgICAgICB1cmwgPSAobm9jYWNoZWJ1c3RlcikgPyBCQVNFX0NBQ0hFX1VSTCArIFwiP3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlVXJsKSA6XG4gICAgICAgIEJBU0VfQ0FDSEVfVVJMICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5vY2FjaGVidXN0ZXIpIHtcbiAgICAgICAgICB1cmwgPSBmaWxlVXJsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IGZpbGVVcmwuc3BsaXQoXCI/XCIpO1xuICAgICAgICAgIHNlcGFyYXRvciA9IChzdHIubGVuZ3RoID09PSAxKSA/IFwiP1wiIDogXCImXCI7XG4gICAgICAgICAgdXJsID0gZmlsZVVybCArIHNlcGFyYXRvciArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtYWtlUmVxdWVzdChcIkhFQURcIiwgdXJsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlUmVxdWVzdChtZXRob2QsIHVybCkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICByZXF1ZXN0ID0ge1xuICAgICAgICAgIHhocjogeGhyLFxuICAgICAgICAgIHVybDogdXJsXG4gICAgICAgIH07XG5cbiAgICAgIGlmIChfaXNDYWNoZVJ1bm5pbmcpIHtcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgfHwgMDtcblxuICAgICAgICAgIGlmIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNlcnZlciBtYXkgbm90IHN1cHBvcnQgSEVBRCByZXF1ZXN0LiBGYWxsYmFjayB0byBhIEdFVCByZXF1ZXN0LlxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJIRUFEXCIpIHtcbiAgICAgICAgICAgICAgbWFrZVJlcXVlc3QoXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QsIG5ldyBFcnJvcihcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIHN0YXR1cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBSaXNlIENhY2hlIGlzIG5vdCBydW5uaW5nIChwcmV2aWV3KSwgc2tpcCBIRUFEIHJlcXVlc3QgYW5kIGV4ZWN1dGUgY2FsbGJhY2sgaW1tZWRpYXRlbHlcbiAgICAgICAgY2FsbGJhY2socmVxdWVzdCk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZmlsZVJlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmlsZVJlcXVlc3QoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUmlzZUNhY2hlUnVubmluZyhjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhfaXNDYWNoZVJ1bm5pbmcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKF9pc0NhY2hlUnVubmluZyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRGaWxlOiBnZXRGaWxlLFxuICAgIGlzUmlzZUNhY2hlUnVubmluZzogaXNSaXNlQ2FjaGVSdW5uaW5nLFxuICAgIHBpbmc6IHBpbmdcbiAgfTtcblxufSkoKTtcblxuLyogZXhwb3J0ZWQgdmVyc2lvbiAqL1xudmFyIHZlcnNpb24gPSBcIjEuMS4wXCI7XG4vKiBleHBvcnRlZCBjb25maWcgKi9cbmlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwibG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG59XG5cbnZhciAgY29uZmlnID0ge1xuICBTVE9SQUdFX0VOVjogXCJwcm9kXCJcbn07XG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSB7fTtcblxuUmlzZVZpc2lvbi5WaWRlbyA9IChmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWRkaXRpb25hbFBhcmFtcywgX21vZGU7XG5cbiAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlLFxuICAgIF9jb25maWdEZXRhaWxzID0gbnVsbDtcblxuICB2YXIgX3ByZWZzID0gbnVsbCxcbiAgICBfc3RvcmFnZSA9IG51bGwsXG4gICAgX25vblN0b3JhZ2UgPSBudWxsLFxuICAgIF9tZXNzYWdlID0gbnVsbCxcbiAgICBfZnJhbWVDb250cm9sbGVyID0gbnVsbCxcbiAgICBfd2luZG93Q29udHJvbGxlciA9IG51bGw7XG5cbiAgdmFyIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuXG4gIHZhciBfcmVzdW1lID0gdHJ1ZTtcblxuICB2YXIgX2N1cnJlbnRGcmFtZSA9IDA7XG5cbiAgdmFyIF9jdXJyZW50RmlsZXMgPSBbXTtcblxuICB2YXIgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcblxuICB2YXIgX2Vycm9yTG9nID0gbnVsbCxcbiAgICBfZXJyb3JUaW1lciA9IG51bGwsXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlO1xuXG4gIHZhciBfc3RvcmFnZUVycm9yRmxhZyA9IGZhbHNlO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9kb25lKCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X2RvbmVcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcblxuICAgIC8vIEFueSBlcnJvcnMgbmVlZCB0byBiZSBsb2dnZWQgYmVmb3JlIHRoZSBkb25lIGV2ZW50LlxuICAgIGlmIChfZXJyb3JMb2cgIT09IG51bGwpIHtcbiAgICAgIGxvZ0V2ZW50KF9lcnJvckxvZywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwiZG9uZVwiIH0sIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksXG4gICAgICB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGVhckVycm9yVGltZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KF9lcnJvclRpbWVyKTtcbiAgICBfZXJyb3JUaW1lciA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRFcnJvclRpbWVyKCkge1xuICAgIF9jbGVhckVycm9yVGltZXIoKTtcblxuICAgIF9lcnJvclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBub3RpZnkgVmlld2VyIHdpZGdldCBpcyBkb25lXG4gICAgICBfZG9uZSgpO1xuICAgIH0sIDUwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldEN1cnJlbnRGaWxlKCkge1xuICAgIGlmIChfY3VycmVudEZpbGVzICYmIF9jdXJyZW50RmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgICByZXR1cm4gX2N1cnJlbnRGaWxlc1swXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF9tb2RlID09PSBcImZvbGRlclwiKSB7XG4gICAgICAgIC8vIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgcGxheWVkIGZpbGVcbiAgICAgICAgaWYgKF9jdXJyZW50UGxheWxpc3RJbmRleCkge1xuICAgICAgICAgIHJldHVybiBfY3VycmVudEZpbGVzW19jdXJyZW50UGxheWxpc3RJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaGFzU3RvcmFnZUVycm9yKCkge1xuICAgIHJldHVybiBfc3RvcmFnZUVycm9yRmxhZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlLCBpc1N0b3JhZ2VFcnJvcikge1xuICAgIF9lcnJvckZsYWcgPSB0cnVlO1xuICAgIF9zdG9yYWdlRXJyb3JGbGFnID0gdHlwZW9mIGlzU3RvcmFnZUVycm9yICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgX21lc3NhZ2Uuc2hvdyhtZXNzYWdlKTtcblxuICAgIF9jdXJyZW50UGxheWxpc3RJbmRleCA9IG51bGw7XG4gICAgX2ZyYW1lQ29udHJvbGxlci5yZW1vdmUoX2N1cnJlbnRGcmFtZSwgX3dpbmRvd0NvbnRyb2xsZXIuZ2V0RnJhbWVPcmlnaW4oKSwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gaWYgV2lkZ2V0IGlzIHBsYXlpbmcgcmlnaHQgbm93LCBydW4gdGhlIHRpbWVyXG4gICAgICBpZiAoIV92aWV3ZXJQYXVzZWQpIHtcbiAgICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQocGFyYW1zLCBpc0Vycm9yKSB7XG4gICAgaWYgKGlzRXJyb3IpIHtcbiAgICAgIF9lcnJvckxvZyA9IHBhcmFtcztcbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtcy5maWxlX3VybCkge1xuICAgICAgcGFyYW1zLmZpbGVfdXJsID0gX2dldEN1cnJlbnRGaWxlKCk7XG4gICAgfVxuXG4gICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMubG9nRXZlbnQoZ2V0VGFibGVOYW1lKCksIHBhcmFtcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVJbml0KHVybHMpIHtcbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYSBzdHJpbmdcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheVxuICAgICAgX2N1cnJlbnRGaWxlcyA9IHVybHM7XG4gICAgfVxuXG4gICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBwbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlUmVmcmVzaCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nIG9mIG9uZSB1cmxcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheSBvZiB1cmxzXG4gICAgICBfY3VycmVudEZpbGVzID0gdXJscztcbiAgICB9XG5cbiAgICAvLyBpbiBjYXNlIHJlZnJlc2hlZCBmaWxlIGZpeGVzIGFuIGVycm9yIHdpdGggcHJldmlvdXMgZmlsZSwgZW5zdXJlIGZsYWcgaXMgcmVtb3ZlZCBzbyBwbGF5YmFjayBpcyBhdHRlbXB0ZWQgYWdhaW5cbiAgICBfZXJyb3JGbGFnID0gZmFsc2U7XG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSBmYWxzZTtcbiAgICBfZXJyb3JMb2cgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgdmFyIGZyYW1lT2JqID0gX2ZyYW1lQ29udHJvbGxlci5nZXRGcmFtZU9iamVjdChfY3VycmVudEZyYW1lKTtcblxuICAgIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuXG4gICAgLy8gaW4gY2FzZSBlcnJvciB0aW1lciBzdGlsbCBydW5uaW5nIChubyBjb25kaXRpb25hbCBjaGVjayBvbiBlcnJvckZsYWcsIGl0IG1heSBoYXZlIGJlZW4gcmVzZXQgaW4gb25GaWxlUmVmcmVzaClcbiAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG5cbiAgICBpZiAoZnJhbWVPYmopIHtcbiAgICAgIC8vIERlc3Ryb3kgcGxheWVyIGlmcmFtZS5cbiAgICAgIGlmICghX3Jlc3VtZSkge1xuICAgICAgICBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBudWxsO1xuICAgICAgICBfZnJhbWVDb250cm9sbGVyLnJlbW92ZShfY3VycmVudEZyYW1lLCBfd2luZG93Q29udHJvbGxlci5nZXRGcmFtZU9yaWdpbigpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmcmFtZU9iai5wb3N0TWVzc2FnZSh7ZXZlbnQ6IFwicGF1c2VcIn0sIF93aW5kb3dDb250cm9sbGVyLmdldEZyYW1lT3JpZ2luKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgdmFyIGxvZ1BhcmFtcyA9IHt9LFxuICAgICAgZnJhbWVPYmogPSBfZnJhbWVDb250cm9sbGVyLmdldEZyYW1lT2JqZWN0KF9jdXJyZW50RnJhbWUpLFxuICAgICAgaHRtbDtcblxuICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIExvZyBjb25maWd1cmF0aW9uIGV2ZW50LlxuICAgICAgbG9nUGFyYW1zLmV2ZW50ID0gXCJjb25maWd1cmF0aW9uXCI7XG4gICAgICBsb2dQYXJhbXMuZXZlbnRfZGV0YWlscyA9IF9jb25maWdEZXRhaWxzO1xuICAgICAgbG9nRXZlbnQobG9nUGFyYW1zLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX3ZpZXdlclBhdXNlZCA9IGZhbHNlO1xuXG4gICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwicGxheVwiIH0sIGZhbHNlKTtcblxuICAgIGlmIChfZXJyb3JGbGFnKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZyYW1lT2JqKSB7XG4gICAgICBmcmFtZU9iai5wb3N0TWVzc2FnZSh7ZXZlbnQ6IFwicGxheVwifSwgX3dpbmRvd0NvbnRyb2xsZXIuZ2V0RnJhbWVPcmlnaW4oKSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKF9jdXJyZW50RmlsZXMgJiYgX2N1cnJlbnRGaWxlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlLmlzUmlzZUNhY2hlUnVubmluZyhmdW5jdGlvbiAoaXNSdW5uaW5nKSB7XG4gICAgICAgICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgICAgICAgaHRtbCA9IChpc1J1bm5pbmcpID8gXCIvL2xvY2FsaG9zdDo5NDk0Lz91cmw9XCIgK1xuICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KF93aW5kb3dDb250cm9sbGVyLmdldEJ1Y2tldFBhdGgoKSkgKyBcInBsYXllci1maWxlLWNhY2hlLmh0bWxcIiA6IFwicGxheWVyLWZpbGUuaHRtbFwiO1xuXG4gICAgICAgICAgICAvLyBhZGQgZnJhbWUgYW5kIGNyZWF0ZSB0aGUgcGxheWVyXG4gICAgICAgICAgICBfZnJhbWVDb250cm9sbGVyLmFkZCgwKTtcbiAgICAgICAgICAgIF9mcmFtZUNvbnRyb2xsZXIuY3JlYXRlRnJhbWVQbGF5ZXIoMCwgX2FkZGl0aW9uYWxQYXJhbXMsIF9jdXJyZW50RmlsZXNbMF0sIGh0bWwsIF93aW5kb3dDb250cm9sbGVyLmdldEZyYW1lT3JpZ2luKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgICAgICAgaHRtbCA9IChpc1J1bm5pbmcpID8gXCIvL2xvY2FsaG9zdDo5NDk0Lz91cmw9XCIgK1xuICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KF93aW5kb3dDb250cm9sbGVyLmdldEJ1Y2tldFBhdGgoKSkgKyBcInBsYXllci1mb2xkZXItY2FjaGUuaHRtbFwiIDogXCJwbGF5ZXItZm9sZGVyLmh0bWxcIjtcblxuICAgICAgICAgICAgX2ZyYW1lQ29udHJvbGxlci5hZGQoMCk7XG4gICAgICAgICAgICBfZnJhbWVDb250cm9sbGVyLmNyZWF0ZUZyYW1lUGxheWVyKDAsIF9hZGRpdGlvbmFsUGFyYW1zLCBfY3VycmVudEZpbGVzLCBodG1sLCBfd2luZG93Q29udHJvbGxlci5nZXRGcmFtZU9yaWdpbigpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFibGVOYW1lKCkge1xuICAgIHJldHVybiBcInZpZGVvX2V2ZW50c192MlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheWVyRW5kZWQoKSB7XG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcbiAgICBfZnJhbWVDb250cm9sbGVyLnJlbW92ZShfY3VycmVudEZyYW1lLCBfd2luZG93Q29udHJvbGxlci5nZXRGcmFtZU9yaWdpbigpLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfZG9uZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheWVyUmVhZHkoKSB7XG4gICAgdmFyIGZyYW1lT2JqO1xuXG4gICAgLy8gRW5zdXJlcyBtZXNzYWdpbmcgaXMgaGlkZGVuIGZvciBub24tc3RvcmFnZSB2aWRlbyBmaWxlXG4gICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBmcmFtZU9iaiA9IF9mcmFtZUNvbnRyb2xsZXIuZ2V0RnJhbWVPYmplY3QoX2N1cnJlbnRGcmFtZSk7XG5cbiAgICAgIGlmIChmcmFtZU9iaikge1xuICAgICAgICBmcmFtZU9iai5wb3N0TWVzc2FnZSh7ZXZlbnQ6IFwicGxheVwifSwgX3dpbmRvd0NvbnRyb2xsZXIuZ2V0RnJhbWVPcmlnaW4oKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheWVySXRlbUNoYW5nZShpbmRleCkge1xuICAgIF9jdXJyZW50UGxheWxpc3RJbmRleCA9IGluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhwYXJhbXMsIG1vZGUpIHtcbiAgICB2YXIgaXNTdG9yYWdlRmlsZTtcblxuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0gXy5jbG9uZShwYXJhbXMpO1xuICAgIF9tb2RlID0gbW9kZTtcbiAgICBfcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb0NvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMud2lkdGggPSBfcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIik7XG5cbiAgICBpZiAoX2FkZGl0aW9uYWxQYXJhbXMudmlkZW8uaGFzT3duUHJvcGVydHkoXCJyZXN1bWVcIikpIHtcbiAgICAgIF9yZXN1bWUgPSBfYWRkaXRpb25hbFBhcmFtcy52aWRlby5yZXN1bWU7XG4gICAgfVxuXG4gICAgX21lc3NhZ2UgPSBuZXcgUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvQ29udGFpbmVyXCIpLFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlQ29udGFpbmVyXCIpKTtcblxuICAgIC8vIHNob3cgd2FpdCBtZXNzYWdlIHdoaWxlIFN0b3JhZ2UgaW5pdGlhbGl6ZXNcbiAgICBfbWVzc2FnZS5zaG93KFwiUGxlYXNlIHdhaXQgd2hpbGUgeW91ciB2aWRlbyBpcyBkb3dubG9hZGVkLlwiKTtcblxuICAgIF93aW5kb3dDb250cm9sbGVyID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uV2luZG93Q29udHJvbGxlcigpO1xuICAgIF93aW5kb3dDb250cm9sbGVyLmluaXQoKTtcblxuICAgIF9mcmFtZUNvbnRyb2xsZXIgPSBuZXcgUmlzZVZpc2lvbi5WaWRlby5GcmFtZUNvbnRyb2xsZXIoKTtcblxuICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgIGlzU3RvcmFnZUZpbGUgPSAoT2JqZWN0LmtleXMoX2FkZGl0aW9uYWxQYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKTtcblxuICAgICAgaWYgKCFpc1N0b3JhZ2VGaWxlKSB7XG4gICAgICAgIF9jb25maWdEZXRhaWxzID0gXCJjdXN0b21cIjtcblxuICAgICAgICBfbm9uU3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLk5vblN0b3JhZ2UoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgICBfbm9uU3RvcmFnZS5pbml0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY29uZmlnRGV0YWlscyA9IFwic3RvcmFnZSBmaWxlXCI7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBTdG9yYWdlIGZpbGUgaW5zdGFuY2VcbiAgICAgICAgX3N0b3JhZ2UgPSBuZXcgUmlzZVZpc2lvbi5WaWRlby5TdG9yYWdlRmlsZShfYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICAgIF9zdG9yYWdlLmluaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIF9jb25maWdEZXRhaWxzID0gXCJzdG9yYWdlIGZvbGRlclwiO1xuXG4gICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZm9sZGVyIGluc3RhbmNlXG4gICAgICBfc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLlN0b3JhZ2VGb2xkZXIoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgX3N0b3JhZ2UuaW5pdCgpO1xuICAgIH1cblxuICAgIF9yZWFkeSgpO1xuICB9XG5cbiAgLy8gQW4gZXJyb3Igb2NjdXJyZWQgd2l0aCBKVyBQbGF5ZXIuXG4gIGZ1bmN0aW9uIHBsYXllckVycm9yKGVycm9yKSB7XG4gICAgdmFyIGRldGFpbHMgPSBudWxsLFxuICAgICAgcGFyYW1zID0ge30sXG4gICAgICBtZXNzYWdlID0gXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBwbGF5aW5nIHRoZSB2aWRlby5cIixcbiAgICAgIE1FRElBX0VSUk9SID0gXCJFcnJvciBsb2FkaW5nIG1lZGlhOiBGaWxlIGNvdWxkIG5vdCBiZSBwbGF5ZWRcIixcbiAgICAgIFlPVVRVQkVfRVJST1IgPSBcIkVycm9yIGxvYWRpbmcgWW91VHViZTogVmlkZW8gY291bGQgbm90IGJlIHBsYXllZFwiLFxuICAgICAgUExBWUVSX0VSUk9SID0gXCJFcnJvciBsb2FkaW5nIHBsYXllcjogTm8gcGxheWFibGUgc291cmNlcyBmb3VuZFwiLFxuICAgICAgRU5DT0RJTkdfTUVTU0FHRSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBwbGF5aW5nIHRoYXQgdmlkZW8uIEl0IGNvdWxkIGJlIHRoYXQgd2UgZG9uJ3QgXCIgK1xuICAgICAgICBcInN1cHBvcnQgdGhhdCBmb3JtYXQgb3IgaXQgaXMgbm90IGVuY29kZWQgY29ycmVjdGx5LlwiLFxuICAgICAgRk9STUFUX01FU1NBR0UgPSBcIlRoZSBmb3JtYXQgb2YgdGhhdCB2aWRlbyBpcyBub3Qgc3VwcG9ydGVkXCI7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci50eXBlICYmIGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLnR5cGUgKyBcIiAtIFwiICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVycm9yLnR5cGUpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLnR5cGU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7XG4gICAgICAgIGRldGFpbHMgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICAvLyBEaXNwbGF5IGFwcHJvcHJpYXRlIG9uLXNjcmVlbiBlcnJvciBtZXNzYWdlLlxuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKChlcnJvci5tZXNzYWdlID09PSBNRURJQV9FUlJPUikgfHwgKGVycm9yLm1lc3NhZ2UgPT09IFlPVVRVQkVfRVJST1IpKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IEVOQ09ESU5HX01FU1NBR0U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3IubWVzc2FnZSA9PT0gUExBWUVSX0VSUk9SKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IEZPUk1BVF9NRVNTQUdFO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGFyYW1zLmV2ZW50ID0gXCJwbGF5ZXIgZXJyb3JcIjtcbiAgICBwYXJhbXMuZXZlbnRfZGV0YWlscyA9IGRldGFpbHM7XG5cbiAgICBsb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIHNob3dFcnJvcihtZXNzYWdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRUYWJsZU5hbWVcIjogZ2V0VGFibGVOYW1lLFxuICAgIFwiaGFzU3RvcmFnZUVycm9yXCI6IGhhc1N0b3JhZ2VFcnJvcixcbiAgICBcImxvZ0V2ZW50XCI6IGxvZ0V2ZW50LFxuICAgIFwib25GaWxlSW5pdFwiOiBvbkZpbGVJbml0LFxuICAgIFwib25GaWxlUmVmcmVzaFwiOiBvbkZpbGVSZWZyZXNoLFxuICAgIFwicGF1c2VcIjogcGF1c2UsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJzZXRBZGRpdGlvbmFsUGFyYW1zXCI6IHNldEFkZGl0aW9uYWxQYXJhbXMsXG4gICAgXCJzaG93RXJyb3JcIjogc2hvd0Vycm9yLFxuICAgIFwicGxheWVyRW5kZWRcIjogcGxheWVyRW5kZWQsXG4gICAgXCJwbGF5ZXJSZWFkeVwiOiBwbGF5ZXJSZWFkeSxcbiAgICBcInBsYXllckVycm9yXCI6IHBsYXllckVycm9yLFxuICAgIFwicGxheWVySXRlbUNoYW5nZVwiOiBwbGF5ZXJJdGVtQ2hhbmdlLFxuICAgIFwic3RvcFwiOiBzdG9wXG4gIH07XG5cbn0pKHdpbmRvdywgZ2FkZ2V0cyk7XG5cbi8qIGdsb2JhbCBjb25maWcgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uU3RvcmFnZUZpbGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2luaXRpYWxMb2FkID0gdHJ1ZTtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvU3RvcmFnZVwiKTtcblxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwudXJsKSB7XG5cbiAgICAgICAgaWYgKF9pbml0aWFsTG9hZCkge1xuICAgICAgICAgIF9pbml0aWFsTG9hZCA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVJbml0KGUuZGV0YWlsLnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gY2hlY2sgZm9yIFwiY2hhbmdlZFwiIHByb3BlcnR5XG4gICAgICAgICAgaWYgKGUuZGV0YWlsLmhhc093blByb3BlcnR5KFwiY2hhbmdlZFwiKSkge1xuICAgICAgICAgICAgaWYgKGUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVSZWZyZXNoKGUuZGV0YWlsLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaW4gdGhlIGV2ZW50IG9mIGEgbmV0d29yayBmYWlsdXJlIGFuZCByZWNvdmVyeSwgY2hlY2sgaWYgdGhlIFdpZGdldCBpcyBpbiBhIHN0YXRlIG9mIHN0b3JhZ2UgZXJyb3JcbiAgICAgICAgICAgICAgaWYgKFJpc2VWaXNpb24uVmlkZW8uaGFzU3RvcmFnZUVycm9yKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBwcm9jZWVkIHdpdGggcmVmcmVzaCBsb2dpYyBzbyB0aGUgV2lkZ2V0IGNhbiBldmVudHVhbGx5IHBsYXkgdmlkZW8gYWdhaW4gZnJvbSBhIG5ldHdvcmsgcmVjb3ZlcnlcbiAgICAgICAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZVJlZnJlc2goZS5kZXRhaWwudXJsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWFwaS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwic3RvcmFnZSBhcGkgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiUmVzcG9uc2UgY29kZTogXCIgKyBlLmRldGFpbC5jb2RlICsgXCIsIG1lc3NhZ2U6IFwiICsgZS5kZXRhaWwubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1uby1maWxlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIGZpbGUgbm90IGZvdW5kXCIsIFwiZXZlbnRfZGV0YWlsc1wiOiBlLmRldGFpbCB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCB2aWRlbyBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZmlsZS10aHJvdHRsZWRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZmlsZSB0aHJvdHRsZWRcIiwgXCJmaWxlX3VybFwiOiBlLmRldGFpbCB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCB2aWRlbyBpcyB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utc3Vic2NyaXB0aW9uLWV4cGlyZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXhwaXJlZFwiIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiUmlzZSBTdG9yYWdlIHN1YnNjcmlwdGlvbiBpcyBub3QgYWN0aXZlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1ub3QtcnVubmluZ1wiLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIGNhY2hlIG5vdCBydW5uaW5nXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3IpPyBlLmRldGFpbC5lcnJvci5tZXNzYWdlOiBcIlwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cblxuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgZGF0YS5zdG9yYWdlLmZpbGVOYW1lKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBkYXRhLnN0b3JhZ2UuY29tcGFueUlkKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImVudlwiLCBjb25maWcuU1RPUkFHRV9FTlYpO1xuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBjb25maWcsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uU3RvcmFnZUZvbGRlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfaW5pdGlhbExvYWQgPSB0cnVlO1xuXG4gIHZhciBfZmlsZXMgPSBbXTtcblxuICBmdW5jdGlvbiBfZ2V0VXJscygpIHtcbiAgICByZXR1cm4gXy5wbHVjayhfZmlsZXMsIFwidXJsXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldEV4aXN0aW5nRmlsZShmaWxlKSB7XG4gICAgcmV0dXJuIF8uZmluZChfZmlsZXMsIGZ1bmN0aW9uIChmKSB7XG4gICAgICByZXR1cm4gZmlsZS5uYW1lID09PSBmLm5hbWU7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVsZXRlRmlsZShmaWxlKSB7XG4gICAgdmFyIGV4aXN0aW5nID0gX2dldEV4aXN0aW5nRmlsZShmaWxlKTtcblxuICAgIGlmIChleGlzdGluZykge1xuICAgICAgX2ZpbGVzLnNwbGljZShfZmlsZXMuaW5kZXhPZihleGlzdGluZyksIDEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jaGFuZ2VGaWxlKGZpbGUpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBfZ2V0RXhpc3RpbmdGaWxlKGZpbGUpO1xuXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICBleGlzdGluZy51cmwgPSBmaWxlLnVybDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfYWRkRmlsZShmaWxlKSB7XG4gICAgdmFyIGV4aXN0aW5nID0gX2dldEV4aXN0aW5nRmlsZShmaWxlKTtcblxuICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgIC8vIGV4dHJhY3QgdGhlIGFjdHVhbCBmaWxlIG5hbWUgYW5kIHN0b3JlIGluIG5ldyBwcm9wZXJ0eSBvbiBmaWxlIG9iamVjdFxuICAgICAgZmlsZS5maWxlTmFtZSA9IGZpbGUubmFtZS5zbGljZShmaWxlLm5hbWUubGFzdEluZGV4T2YoXCIvXCIpICsgMSwgZmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKSkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgLy8gaW5zZXJ0IGZpbGUgdG8gX2ZpbGVzIGxpc3QgYXQgc3BlY2lmaWMgaW5kZXggYmFzZWQgb24gYWxwaGFiZXRpY2FsIG9yZGVyIG9mIGZpbGUgbmFtZVxuICAgICAgX2ZpbGVzLnNwbGljZShfLnNvcnRlZEluZGV4KF9maWxlcywgZmlsZSwgXCJmaWxlTmFtZVwiKSwgMCwgZmlsZSk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1N0b3JhZ2VcIik7XG5cbiAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGZpbGUgPSBlLmRldGFpbDtcblxuICAgICAgLy8gQWRkZWRcbiAgICAgIGlmKGZpbGUuYWRkZWQpIHtcbiAgICAgICAgX2FkZEZpbGUoZmlsZSk7XG5cbiAgICAgICAgaWYgKF9pbml0aWFsTG9hZCkge1xuICAgICAgICAgIF9pbml0aWFsTG9hZCA9IGZhbHNlO1xuICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlSW5pdChfZ2V0VXJscygpKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDaGFuZ2VkIG9yIHVuY2hhbmdlZFxuICAgICAgaWYgKGZpbGUuaGFzT3duUHJvcGVydHkoXCJjaGFuZ2VkXCIpKSB7XG4gICAgICAgIGlmKGZpbGUuY2hhbmdlZCkge1xuICAgICAgICAgIF9jaGFuZ2VGaWxlKGZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICAgICAgaWYgKCFSaXNlVmlzaW9uLlZpZGVvLmhhc1N0b3JhZ2VFcnJvcigpKSB7XG4gICAgICAgICAgICAvLyBvbmx5IHByb2NlZWQgd2l0aCByZWZyZXNoIGxvZ2ljIGJlbG93IGlmIHRoZXJlJ3MgYmVlbiBhIHN0b3JhZ2UgZXJyb3IsIG90aGVyd2lzZSBkbyBub3RoaW5nXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSB2aWRlbyBhZ2FpbiBmcm9tIGEgbmV0d29yayByZWNvdmVyeVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBEZWxldGVkXG4gICAgICBpZihmaWxlLmRlbGV0ZWQpIHtcbiAgICAgICAgX2RlbGV0ZUZpbGUoZmlsZSk7XG4gICAgICB9XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ub25GaWxlUmVmcmVzaChfZ2V0VXJscygpKTtcblxuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWFwaS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwic3RvcmFnZSBhcGkgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiUmVzcG9uc2UgY29kZTogXCIgKyBlLmRldGFpbC5jb2RlICsgXCIsIG1lc3NhZ2U6IFwiICsgZS5kZXRhaWwubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lbXB0eS1mb2xkZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZm9sZGVyIGVtcHR5XCIgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IHZpZGVvcy5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utbm8tZm9sZGVyXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBmb2xkZXIgZG9lc24ndCBleGlzdFwiLCBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGV4aXN0IG9yIGhhcyBiZWVuIG1vdmVkIHRvIFRyYXNoLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1mb2xkZXItaW52YWxpZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBmb2xkZXIgZm9ybWF0KHMpIGludmFsaWRcIiB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBmb2xkZXIgZG9lcyBub3QgY29udGFpbiBhbnkgc3VwcG9ydGVkIHZpZGVvIGZvcm1hdHMuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1leHBpcmVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGV4cGlyZWRcIiB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlJpc2UgU3RvcmFnZSBzdWJzY3JpcHRpb24gaXMgbm90IGFjdGl2ZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2Ugc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJUaGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZTogXCIgKyBlLmRldGFpbC5lcnJvci5jdXJyZW50VGFyZ2V0LnN0YXR1c1xuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2UgY2FjaGUgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcblxuICAgICAgdmFyIHN0YXR1c0NvZGUgPSAwO1xuICAgICAgLy8gU2hvdyBhIGRpZmZlcmVudCBtZXNzYWdlIGlmIHRoZXJlIGlzIGEgNDA0IGNvbWluZyBmcm9tIHJpc2UgY2FjaGVcbiAgICAgIGlmKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2Upe1xuICAgICAgICBzdGF0dXNDb2RlID0gK2UuZGV0YWlsLmVycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICB9XG5cbiAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtbm90LXJ1bm5pbmdcIiwgZnVuY3Rpb24oZSkge1xuXG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBub3QgcnVubmluZ1wiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogKGUuZGV0YWlsICYmIGUuZGV0YWlsLmVycm9yKT8gZS5kZXRhaWwuZXJyb3IubWVzc2FnZTogXCJcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlVHlwZVwiLCBcInZpZGVvXCIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGRhdGEuc3RvcmFnZS5jb21wYW55SWQpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZW52XCIsIGNvbmZpZy5TVE9SQUdFX0VOVik7XG5cbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5Ob25TdG9yYWdlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHJpc2VDYWNoZSA9IFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZTtcblxuICB2YXIgX3JlZnJlc2hEdXJhdGlvbiA9IDkwMDAwMCwgIC8vIDE1IG1pbnV0ZXNcbiAgICBfcmVmcmVzaEludGVydmFsSWQgPSBudWxsO1xuXG4gIHZhciBfaXNMb2FkaW5nID0gdHJ1ZTtcblxuICB2YXIgX3VybCA9IFwiXCI7XG5cbiAgZnVuY3Rpb24gX2dldEZpbGUob21pdENhY2hlQnVzdGVyKSB7XG4gICAgcmlzZUNhY2hlLmdldEZpbGUoX3VybCwgZnVuY3Rpb24gKHJlc3BvbnNlLCBlcnJvcikge1xuICAgICAgaWYgKCFlcnJvcikge1xuXG4gICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVJbml0KHJlc3BvbnNlLnVybCk7XG5cbiAgICAgICAgICAvLyBzdGFydCB0aGUgcmVmcmVzaCBpbnRlcnZhbFxuICAgICAgICAgIF9zdGFydFJlZnJlc2hJbnRlcnZhbCgpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVSZWZyZXNoKHJlc3BvbnNlLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXJyb3Igb2NjdXJyZWRcbiAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudCh7XG4gICAgICAgICAgXCJldmVudFwiOiBcIm5vbi1zdG9yYWdlIGVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgXCJmaWxlX3VybFwiOiByZXNwb25zZS51cmxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSAwO1xuICAgICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgICBpZihlcnJvci5tZXNzYWdlKXtcbiAgICAgICAgICBzdGF0dXNDb2RlID0gK2Vycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LCBvbWl0Q2FjaGVCdXN0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0UmVmcmVzaEludGVydmFsKCkge1xuICAgIGlmIChfcmVmcmVzaEludGVydmFsSWQgPT09IG51bGwpIHtcbiAgICAgIF9yZWZyZXNoSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2dldEZpbGUoZmFsc2UpO1xuICAgICAgfSwgX3JlZnJlc2hEdXJhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIC8vIEhhbmRsZSBwcmUtbWVyZ2UgdXNlIG9mIFwidXJsXCIgc2V0dGluZyBwcm9wZXJ0eVxuICAgIF91cmwgPSAoZGF0YS51cmwgJiYgZGF0YS51cmwgIT09IFwiXCIpID8gZGF0YS51cmwgOiBkYXRhLnNlbGVjdG9yLnVybDtcblxuICAgIF9nZXRGaWxlKHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uV2luZG93Q29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9idWNrZXRQYXRoID0gXCJcIixcbiAgICBfZnJhbWVPcmlnaW4gPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9zZXRCdWNrZXRQYXRoKCkge1xuICAgIHZhciBwYXRoQXJyYXkgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoIFwiL1wiKSxcbiAgICAgIGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdCxcbiAgICAgIHByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sO1xuXG4gICAgX2J1Y2tldFBhdGggPSBwcm90b2NvbCArIFwiLy9cIiArIGhvc3QgKyBcIi9cIjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aEFycmF5Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAocGF0aEFycmF5W2ldICE9PSBcIlwiKSB7XG4gICAgICAgIF9idWNrZXRQYXRoICs9IHBhdGhBcnJheVtpXSArIFwiL1wiO1xuXG4gICAgICAgIGlmIChwYXRoQXJyYXlbaV0gPT09IFwiZGlzdFwiKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfc2V0RnJhbWVPcmlnaW4oKSB7XG4gICAgLy8gd2lkZ2V0LXByZXZpZXcgYXBwIChsb2NhbClcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3QgPT09IFwibG9jYWxob3N0OjgwMDBcIikge1xuICAgICAgX2ZyYW1lT3JpZ2luID0gXCJodHRwOi8vbG9jYWxob3N0OjgwMDBcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhvc3QgPT09IFwiczMuYW1hem9uYXdzLmNvbVwiKSB7XG4gICAgICBSaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGUuaXNSaXNlQ2FjaGVSdW5uaW5nKGZ1bmN0aW9uIChpc1J1bm5pbmcpIHtcblxuICAgICAgICBpZiAoaXNSdW5uaW5nKSB7XG4gICAgICAgICAgLy8gcnVubmluZyBpbiBwbGF5ZXIsIG9yaWdpbiBzaG91bGQgYmUgUmlzZSBDYWNoZVxuICAgICAgICAgIF9mcmFtZU9yaWdpbiA9IFwiaHR0cDovL2xvY2FsaG9zdDo5NDk0XCI7XG5cbiAgICAgICAgICAvLyBzZXQgdGhlIGJ1Y2tldCBwYXRoIGFzIFZpZGVvIG1vZHVsZSB3aWxsIG5lZWQgaXQgd2hlbiBSaXNlIENhY2hlIGlzIHJ1bm5pbmdcbiAgICAgICAgICBfc2V0QnVja2V0UGF0aCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIHJ1bm5pbmcgaW4gcHJldmlldyAoYnJvd3NlcilcbiAgICAgICAgICBfZnJhbWVPcmlnaW4gPSBcImh0dHA6Ly9zMy5hbWF6b25hd3MuY29tXCI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRNZXNzYWdlUmVjZWl2ZXIoKSB7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgb3JpZ2luID0gZXZlbnQub3JpZ2luIHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQub3JpZ2luO1xuXG4gICAgICAvLyBlbnN1cmUgdGhpcyBtZXNzYWdlIGlzIGNvbWluZyBmcm9tIGVpdGhlciBSaXNlIENhY2hlLCBBbWF6b24gUzMgKHByZXZpZXcpLCBvciBwcmV2aWV3IGFwcCAobG9jYWwpXG4gICAgICBpZiAob3JpZ2luICE9PSBcImh0dHA6Ly9sb2NhbGhvc3Q6OTQ5NFwiICYmIG9yaWdpbiAhPT0gXCJodHRwOi8vczMuYW1hem9uYXdzLmNvbVwiICYmIG9yaWdpbiAhPT0gXCJodHRwOi8vbG9jYWxob3N0OjgwMDBcIikge1xuICAgICAgICBvcmlnaW4gPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5kYXRhICYmIHR5cGVvZiBldmVudC5kYXRhID09PSBcIm9iamVjdFwiICYmIGV2ZW50LmRhdGEuZXZlbnQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC5kYXRhLmV2ZW50KSB7XG4gICAgICAgICAgY2FzZSBcInBsYXllckVuZGVkXCI6XG4gICAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllckVuZGVkKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicGxheWVyRXJyb3JcIjpcbiAgICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheWVyRXJyb3IoZXZlbnQuZGF0YS5lcnJvcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicGxheWVySXRlbUNoYW5nZVwiOlxuICAgICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJJdGVtQ2hhbmdlKGV2ZW50LmRhdGEuaW5kZXgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBsYXllclJlYWR5XCI6XG4gICAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllclJlYWR5KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEJ1Y2tldFBhdGgoKSB7XG4gICAgcmV0dXJuIF9idWNrZXRQYXRoO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RnJhbWVPcmlnaW4oKSB7XG4gICAgcmV0dXJuIF9mcmFtZU9yaWdpbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgX3NldEZyYW1lT3JpZ2luKCk7XG4gICAgX3NldE1lc3NhZ2VSZWNlaXZlcigpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRCdWNrZXRQYXRoOiBnZXRCdWNrZXRQYXRoLFxuICAgIGdldEZyYW1lT3JpZ2luOiBnZXRGcmFtZU9yaWdpbixcbiAgICBpbml0OiBpbml0XG4gIH07XG5cbn07XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLkZyYW1lQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIFBSRUZJWCA9IFwiaWZfXCI7XG5cbiAgZnVuY3Rpb24gZ2V0RnJhbWVDb250YWluZXIoaW5kZXgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoUFJFRklYICsgaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RnJhbWVPYmplY3QoaW5kZXgpIHtcbiAgICB2YXIgZnJhbWVDb250YWluZXIgPSBnZXRGcmFtZUNvbnRhaW5lcihpbmRleCksXG4gICAgICBpZnJhbWU7XG5cbiAgICBpZnJhbWUgPSBmcmFtZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiaWZyYW1lXCIpO1xuXG4gICAgaWYgKGlmcmFtZSkge1xuICAgICAgcmV0dXJuIChpZnJhbWUuY29udGVudFdpbmRvdykgPyBpZnJhbWUuY29udGVudFdpbmRvdyA6XG4gICAgICAgIChpZnJhbWUuY29udGVudERvY3VtZW50LmRvY3VtZW50KSA/IGlmcmFtZS5jb250ZW50RG9jdW1lbnQuZG9jdW1lbnQgOiBpZnJhbWUuY29udGVudERvY3VtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsZWFyKGluZGV4LCBvcmlnaW4pIHtcbiAgICB2YXIgZnJhbWVDb250YWluZXIgPSBnZXRGcmFtZUNvbnRhaW5lcihpbmRleCksXG4gICAgICBmcmFtZU9iaiA9IGdldEZyYW1lT2JqZWN0KGluZGV4KSxcbiAgICAgIGlmcmFtZTtcblxuICAgIGlmIChmcmFtZU9iaikge1xuICAgICAgaWZyYW1lID0gZnJhbWVDb250YWluZXIucXVlcnlTZWxlY3RvcihcImlmcmFtZVwiKTtcbiAgICAgIGZyYW1lT2JqLnBvc3RNZXNzYWdlKHtldmVudDogXCJyZW1vdmVcIn0sIG9yaWdpbik7XG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiYWJvdXQ6YmxhbmtcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkKGluZGV4KSB7XG4gICAgdmFyIGZyYW1lQ29udGFpbmVyID0gZ2V0RnJhbWVDb250YWluZXIoaW5kZXgpLFxuICAgICAgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcblxuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJhbGxvd1RyYW5zcGFyZW5jeVwiLCB0cnVlKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiZnJhbWVib3JkZXJcIiwgXCIwXCIpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzY3JvbGxpbmdcIiwgXCJub1wiKTtcblxuICAgIGZyYW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVGcmFtZVBsYXllcihpbmRleCwgcGFyYW1zLCBmaWxlcywgc3JjLCBvcmlnaW4pIHtcbiAgICB2YXIgZnJhbWVDb250YWluZXIgPSBnZXRGcmFtZUNvbnRhaW5lcihpbmRleCksXG4gICAgICBmcmFtZU9iaiA9IGdldEZyYW1lT2JqZWN0KGluZGV4KSxcbiAgICAgIGlmcmFtZTtcblxuICAgIGlmIChmcmFtZU9iaikge1xuICAgICAgaWZyYW1lID0gZnJhbWVDb250YWluZXIucXVlcnlTZWxlY3RvcihcImlmcmFtZVwiKTtcblxuICAgICAgaWZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWZyYW1lLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBhbmQgbG9hZCB0aGUgcGxheWVyIGluc2lkZSB0aGUgaWZyYW1lXG4gICAgICAgIGZyYW1lT2JqLnBvc3RNZXNzYWdlKHtldmVudDogXCJpbml0XCIsIHBhcmFtczogcGFyYW1zLCBmaWxlczogZmlsZXN9LCBvcmlnaW4pO1xuICAgICAgfTtcblxuICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcInNyY1wiLCBzcmMpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gaGlkZShpbmRleCkge1xuICAgIHZhciBmcmFtZUNvbnRhaW5lciA9IGdldEZyYW1lQ29udGFpbmVyKGluZGV4KTtcblxuICAgIGZyYW1lQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlKGluZGV4LCBvcmlnaW4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZyYW1lQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoUFJFRklYICsgaW5kZXgpO1xuXG4gICAgX2NsZWFyKGluZGV4LCBvcmlnaW4pO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyByZW1vdmUgdGhlIGlmcmFtZSBieSBjbGVhcmluZyBhbGwgZWxlbWVudHMgaW5zaWRlIGRpdiBjb250YWluZXJcbiAgICAgIHdoaWxlIChmcmFtZUNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgIGZyYW1lQ29udGFpbmVyLnJlbW92ZUNoaWxkKGZyYW1lQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LCAyMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdyhpbmRleCkge1xuICAgIHZhciBmcmFtZUNvbnRhaW5lciA9IGdldEZyYW1lQ29udGFpbmVyKGluZGV4KTtcblxuICAgIGZyYW1lQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYWRkOiBhZGQsXG4gICAgY3JlYXRlRnJhbWVQbGF5ZXI6IGNyZWF0ZUZyYW1lUGxheWVyLFxuICAgIGdldEZyYW1lQ29udGFpbmVyOiBnZXRGcmFtZUNvbnRhaW5lcixcbiAgICBnZXRGcmFtZU9iamVjdDogZ2V0RnJhbWVPYmplY3QsXG4gICAgaGlkZTogaGlkZSxcbiAgICByZW1vdmU6IHJlbW92ZSxcbiAgICBzaG93OiBzaG93XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlID0gZnVuY3Rpb24gKG1haW5Db250YWluZXIsIG1lc3NhZ2VDb250YWluZXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hY3RpdmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBtYWluQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBpbml0aWFsaXplIE1lc3NhZ2UgLSBcIiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgaWYgKF9hY3RpdmUpIHtcbiAgICAgIC8vIGNsZWFyIGNvbnRlbnQgb2YgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIHdoaWxlIChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5yZW1vdmVDaGlsZChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICAvLyBoaWRlIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgLy8gc2hvdyBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgIF9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBwO1xuXG4gICAgaWYgKCFfYWN0aXZlKSB7XG4gICAgICAvLyBoaWRlIG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBtZXNzYWdlIGVsZW1lbnRcbiAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgIHAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZXNzYWdlXCIpO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwKTtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWVzc2FnZSBhbHJlYWR5IGJlaW5nIHNob3duLCB1cGRhdGUgbWVzc2FnZSB0ZXh0XG4gICAgICBwID0gbWVzc2FnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgX2luaXQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiaGlkZVwiOiBoaWRlLFxuICAgIFwic2hvd1wiOiBzaG93XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgUmlzZVZpc2lvbiAqL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLFxuICAgIGlkID0gcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgLy8gRGlzYWJsZSBjb250ZXh0IG1lbnUgKHJpZ2h0IGNsaWNrIG1lbnUpXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBjb25maWd1cmUobmFtZXMsIHZhbHVlcykge1xuICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zID0gbnVsbCxcbiAgICAgIG1vZGUgPSBcIlwiLFxuICAgICAgY29tcGFueUlkID0gXCJcIixcbiAgICAgIGRpc3BsYXlJZCA9IFwiXCI7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lcykgJiYgbmFtZXMubGVuZ3RoID4gMCAmJiBBcnJheS5pc0FycmF5KHZhbHVlcykgJiYgdmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChuYW1lc1swXSA9PT0gXCJjb21wYW55SWRcIikge1xuICAgICAgICBjb21wYW55SWQgPSB2YWx1ZXNbMF07XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lc1sxXSA9PT0gXCJkaXNwbGF5SWRcIikge1xuICAgICAgICBpZiAodmFsdWVzWzFdKSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gdmFsdWVzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IFwicHJldmlld1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldElkcyhjb21wYW55SWQsIGRpc3BsYXlJZCk7XG4gICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5zZXRWZXJzaW9uKHZlcnNpb24pO1xuXG4gICAgICBpZiAobmFtZXNbMl0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1syXSk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFkZGl0aW9uYWxQYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgLy8gc3RvcmFnZSBmaWxlIG9yIGZvbGRlciBzZWxlY3RlZFxuICAgICAgICAgIGlmICghYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlLmZpbGVOYW1lKSB7XG4gICAgICAgICAgICAvLyBmb2xkZXIgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICBtb2RlID0gXCJmb2xkZXJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm9uLXN0b3JhZ2UgZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICBtb2RlID0gXCJmaWxlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLnNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcywgbW9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5zdG9wKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwb2x5bWVyUmVhZHkoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgcG9seW1lclJlYWR5KTtcblxuICAgIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG5cbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgY29uZmlndXJlKTtcbiAgICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiY29tcGFueUlkXCIsIFwiZGlzcGxheUlkXCIsIFwiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgcG9seW1lclJlYWR5KTtcblxufSkod2luZG93LCBnYWRnZXRzKTtcblxuXG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMiddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
