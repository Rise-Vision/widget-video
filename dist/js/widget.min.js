if("undefined"==typeof config){var config={};"undefined"!=typeof angular&&(angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","components/rv-common-i18n/dist/locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.common.storage-selector.config").value("STORAGE_MODAL","http://storage.risevision.com/~rvi/storage-client-rva-test/storage-modal.html#/files/"))}var RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,i){"use strict";function t(){i.rpc.call("","rsevent_done",null,g.getString("id"))}function n(){i.rpc.call("","rsevent_ready",null,g.getString("id"),!0,!0,!0,!0,!0)}function o(){y=new RiseVision.Video.Player(m,p),y.init()}function a(){y.pause()}function s(){y.isInitialPlay()?m.video.autoplay&&y.play():y.userPaused()||y.play()}function r(){n()}function d(e){p=e}function c(t){g=new i.Prefs,m=t,e.getElementById("videoContainer").style.height=g.getInt("rsH")+"px",f=new RiseVision.Video.Background(m,p),f.init()}function u(){}function l(){t()}var g=null,m={},p=null,f=null,y=null;return{backgroundReady:o,pause:a,play:s,setCompanyId:d,setAdditionalParams:c,playerReady:r,stop:u,videoEnded:l}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Background=function(e,i){"use strict";function t(){var t=document.getElementById("background"),n=document.getElementById("backgroundStorage");document.body.style.background=e.background.color,e.background.useImage?(t.className=e.background.image.position,t.className=e.background.image.scale?t.className+" scale-to-fit":t.className,0===Object.keys(e.backgroundStorage).length?(t.style.backgroundImage="url("+e.background.image.url+")",RiseVision.Video.backgroundReady()):(n.addEventListener("rise-storage-response",function(e){t.style.backgroundImage="url("+e.detail[0]+")",RiseVision.Video.backgroundReady()}),n.setAttribute("folder",e.backgroundStorage.folder),n.setAttribute("fileName",e.backgroundStorage.fileName),n.setAttribute("companyId",i),n.go())):RiseVision.Video.backgroundReady()}return{init:t}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Player=function(e,i){"use strict";function t(){m.style.visibility="visible",g.removeEventListener("loadeddata",t,!1)}function n(){RiseVision.Video.playerReady(),g.removeEventListener("canplay",n,!1)}function o(){f=!1,RiseVision.Video.videoEnded()}function a(){f=!y}function s(){f=!1}function r(){return p}function d(){var r=document.getElementById("videoStorage"),d=document.createDocumentFragment(),c=d.appendChild(document.createElement("source")),u=document.createAttribute("src"),l=document.createAttribute("type");g.volume=e.video.volume/100,l.value="video/webm",c.setAttributeNode(l),g.addEventListener("loadeddata",t,!1),g.addEventListener("canplay",n,!1),g.addEventListener("ended",o,!1),g.addEventListener("pause",a,!1),g.addEventListener("play",s,!1),0===Object.keys(e.videoStorage).length?(u.value=e.url,c.setAttributeNode(u),g.appendChild(d)):(r.addEventListener("rise-storage-response",function(e){u.value=e.detail[0],c.setAttributeNode(u),g.appendChild(d)}),r.setAttribute("folder",e.videoStorage.folder),r.setAttribute("fileName",e.videoStorage.fileName),r.setAttribute("companyId",i),r.go())}function c(){y=!0,g.pause()}function u(){y=!1,g.play(),p&&(p=!1)}function l(){return f}var g=document.getElementById("video"),m=document.getElementById("videoContainer"),p=!0,f=!1,y=!1;return{isInitialPlay:r,init:d,pause:c,play:u,userPaused:l}},function(e,i){"use strict";function t(){RiseVision.Video.play()}function n(){RiseVision.Video.pause()}function o(){RiseVision.Video.stop()}function a(e,i){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(i)&&i.length>0&&RiseVision.Video.setAdditionalParams(JSON.parse(i[0]))}function s(e,t){e&&"companyId"===e&&RiseVision.Video.setCompanyId(t),i.rpc.register("rsparam_set_"+d,a),i.rpc.call("","rsparam_get",null,d,["additionalParams"])}var r=new i.Prefs,d=r.getString("id");e.oncontextmenu=function(){return!1},d&&""!==d&&(i.rpc.register("rscmd_play_"+d,t),i.rpc.register("rscmd_pause_"+d,n),i.rpc.register("rscmd_stop_"+d,o),i.rpc.register("rsparam_set_"+d,s),i.rpc.call("","rsparam_get",null,d,"companyId"))}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY29uZmlnIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidmFsdWUiLCJSaXNlVmlzaW9uIiwiVmlkZW8iLCJkb2N1bWVudCIsImdhZGdldHMiLCJfZG9uZSIsInJwYyIsImNhbGwiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJfcmVhZHkiLCJiYWNrZ3JvdW5kUmVhZHkiLCJfcGxheWVyIiwiUGxheWVyIiwiX2FkZGl0aW9uYWxQYXJhbXMiLCJfY29tcGFueUlkIiwiaW5pdCIsInBhdXNlIiwicGxheSIsImlzSW5pdGlhbFBsYXkiLCJ2aWRlbyIsImF1dG9wbGF5IiwidXNlclBhdXNlZCIsInBsYXllclJlYWR5Iiwic2V0Q29tcGFueUlkIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsInBhcmFtcyIsIlByZWZzIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImhlaWdodCIsImdldEludCIsIl9iYWNrZ3JvdW5kIiwiQmFja2dyb3VuZCIsInN0b3AiLCJ2aWRlb0VuZGVkIiwiZGF0YSIsImNvbXBhbnlJZCIsImJhY2tncm91bmQiLCJzdG9yYWdlIiwiYm9keSIsImNvbG9yIiwidXNlSW1hZ2UiLCJjbGFzc05hbWUiLCJpbWFnZSIsInBvc2l0aW9uIiwic2NhbGUiLCJPYmplY3QiLCJrZXlzIiwiYmFja2dyb3VuZFN0b3JhZ2UiLCJsZW5ndGgiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJ1cmwiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRldGFpbCIsInNldEF0dHJpYnV0ZSIsImZvbGRlciIsImZpbGVOYW1lIiwiZ28iLCJfb25Mb2FkZWREYXRhIiwiX3ZpZGVvQ29udGFpbmVyIiwidmlzaWJpbGl0eSIsIl92aWRlbyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfb25DYW5QbGF5IiwiX29uRW5kZWQiLCJfdXNlclBhdXNlZCIsIl9vblBhdXNlIiwiX3ZpZXdlclBhdXNlZCIsIl9vblBsYXkiLCJfaW5pdGlhbFBsYXkiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJzb3VyY2UiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJzcmNBdHRyIiwiY3JlYXRlQXR0cmlidXRlIiwidHlwZUF0dHIiLCJ2b2x1bWUiLCJzZXRBdHRyaWJ1dGVOb2RlIiwidmlkZW9TdG9yYWdlIiwid2luZG93IiwiYWRkaXRpb25hbFBhcmFtcyIsIm5hbWVzIiwidmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwibmFtZSIsInJlZ2lzdGVyIiwiaWQiLCJwcmVmcyIsIm9uY29udGV4dG1lbnUiLCJfZ2FxIiwicHVzaCIsImdhIiwidHlwZSIsImFzeW5jIiwic3JjIiwibG9jYXRpb24iLCJwcm90b2NvbCIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiJBQUVBLEdBQXNCLG1CQUFYQSxRQUF3QixDQUNqQyxHQUFJQSxVQUltQixvQkFBWkMsV0FDVEEsUUFBUUMsT0FBTyxvQ0FDWkMsU0FBUyxpQkFBa0IsdURBQzNCQSxTQUFTLGdCQUFpQixTQUU3QkYsUUFBUUMsT0FBTyxvREFDWkUsTUFBTSxnQkFBaUIsMEZBTTlCLEdBQUlDLFlBQWFBLGNBQ2pCQSxZQUFXQyxTQUVYRCxXQUFXQyxNQUFRLFNBQVdDLEVBQVVDLEdBQ3RDLFlBV0EsU0FBU0MsS0FDUEQsRUFBUUUsSUFBSUMsS0FBSyxHQUFJLGVBQWdCLEtBQU1DLEVBQU9DLFVBQVUsT0FJOUQsUUFBU0MsS0FDUE4sRUFBUUUsSUFBSUMsS0FBSyxHQUFJLGdCQUFpQixLQUFNQyxFQUFPQyxVQUFVLE9BQzNELEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FNNUIsUUFBU0UsS0FFUEMsRUFBVSxHQUFJWCxZQUFXQyxNQUFNVyxPQUFPQyxFQUFtQkMsR0FDekRILEVBQVFJLE9BR1YsUUFBU0MsS0FDUEwsRUFBUUssUUFHVixRQUFTQyxLQUNITixFQUFRTyxnQkFFTkws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aW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgY29uZmlnOiB0cnVlICovXG4vKiBleHBvcnRlZCBjb25maWcgKi9cbmlmICh0eXBlb2YgY29uZmlnID09PSBcInVuZGVmaW5lZFwiKSB7XG4gIHZhciBjb25maWcgPSB7XG4gICAgLy8gdmFyaWFibGVzIGdvIGhlcmVcbiAgfTtcblxuICBpZiAodHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJjb21wb25lbnRzL3J2LWNvbW1vbi1pMThuL2Rpc3QvbG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnN0b3JhZ2Utc2VsZWN0b3IuY29uZmlnXCIpXG4gICAgICAudmFsdWUoXCJTVE9SQUdFX01PREFMXCIsIFwiaHR0cDovL3N0b3JhZ2UucmlzZXZpc2lvbi5jb20vfnJ2aS9zdG9yYWdlLWNsaWVudC1ydmEtdGVzdC9zdG9yYWdlLW1vZGFsLmh0bWwjL2ZpbGVzL1wiKTtcbiAgfVxufVxuXG4vKiBnbG9iYWwgZ2FkZ2V0cyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0ge307XG5cblJpc2VWaXNpb24uVmlkZW8gPSAoZnVuY3Rpb24gKGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfcHJlZnMgPSBudWxsLFxuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0ge30sXG4gICAgX2NvbXBhbnlJZCA9IG51bGwsXG4gICAgX2JhY2tncm91bmQgPSBudWxsLFxuICAgIF9wbGF5ZXIgPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9kb25lKCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X2RvbmVcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBiYWNrZ3JvdW5kUmVhZHkoKSB7XG4gICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBQbGF5ZXIgaW5zdGFuY2VcbiAgICBfcGxheWVyID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uUGxheWVyKF9hZGRpdGlvbmFsUGFyYW1zLCBfY29tcGFueUlkKTtcbiAgICBfcGxheWVyLmluaXQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIF9wbGF5ZXIucGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKF9wbGF5ZXIuaXNJbml0aWFsUGxheSgpKSB7XG4gICAgICAvLyBcImF1dG9wbGF5XCIgd2FzIHNlbGVjdGVkIGluIHNldHRpbmdzXG4gICAgICBpZiAoX2FkZGl0aW9uYWxQYXJhbXMudmlkZW8uYXV0b3BsYXkpIHtcbiAgICAgICAgX3BsYXllci5wbGF5KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghX3BsYXllci51c2VyUGF1c2VkKCkpIHtcbiAgICAgICAgX3BsYXllci5wbGF5KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheWVyUmVhZHkoKSB7XG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDb21wYW55SWQodmFsdWUpIHtcbiAgICBfY29tcGFueUlkID0gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKHBhcmFtcykge1xuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG4gICAgX2FkZGl0aW9uYWxQYXJhbXMgPSBwYXJhbXM7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvQ29udGFpbmVyXCIpLnN0eWxlLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIikgKyBcInB4XCI7XG5cbiAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIEJhY2tncm91bmQgaW5zdGFuY2VcbiAgICBfYmFja2dyb3VuZCA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLkJhY2tncm91bmQoX2FkZGl0aW9uYWxQYXJhbXMsIF9jb21wYW55SWQpO1xuICAgIF9iYWNrZ3JvdW5kLmluaXQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgLy8gVE9ETzogbmVlZCBhIHJlc2V0IG9uIG9uIHRoZSBwbGF5ZXJcbiAgfVxuXG4gIGZ1bmN0aW9uIHZpZGVvRW5kZWQoKSB7XG4gICAgX2RvbmUoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJiYWNrZ3JvdW5kUmVhZHlcIjogYmFja2dyb3VuZFJlYWR5LFxuICAgIFwicGF1c2VcIjogcGF1c2UsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJzZXRDb21wYW55SWRcIjogc2V0Q29tcGFueUlkLFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwicGxheWVyUmVhZHlcIjogcGxheWVyUmVhZHksXG4gICAgXCJzdG9wXCI6IHN0b3AsXG4gICAgXCJ2aWRlb0VuZGVkXCI6IHZpZGVvRW5kZWRcbiAgfTtcblxufSkoZG9jdW1lbnQsIGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5CYWNrZ3JvdW5kID0gZnVuY3Rpb24gKGRhdGEsIGNvbXBhbnlJZCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIGJhY2tncm91bmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhY2tncm91bmRcIiksXG4gICAgICBzdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWNrZ3JvdW5kU3RvcmFnZVwiKTtcblxuICAgIC8vIHNldCB0aGUgZG9jdW1lbnQgYmFja2dyb3VuZFxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9IGRhdGEuYmFja2dyb3VuZC5jb2xvcjtcblxuICAgIGlmIChkYXRhLmJhY2tncm91bmQudXNlSW1hZ2UpIHtcbiAgICAgIGJhY2tncm91bmQuY2xhc3NOYW1lID0gZGF0YS5iYWNrZ3JvdW5kLmltYWdlLnBvc2l0aW9uO1xuICAgICAgYmFja2dyb3VuZC5jbGFzc05hbWUgPSBkYXRhLmJhY2tncm91bmQuaW1hZ2Uuc2NhbGUgPyBiYWNrZ3JvdW5kLmNsYXNzTmFtZSArIFwiIHNjYWxlLXRvLWZpdFwiXG4gICAgICAgIDogYmFja2dyb3VuZC5jbGFzc05hbWU7XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhLmJhY2tncm91bmRTdG9yYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmFja2dyb3VuZC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGRhdGEuYmFja2dyb3VuZC5pbWFnZS51cmwgKyBcIilcIjtcbiAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5iYWNrZ3JvdW5kUmVhZHkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJpc2UgU3RvcmFnZVxuICAgICAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGJhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBlLmRldGFpbFswXSArIFwiKVwiO1xuICAgICAgICAgIFJpc2VWaXNpb24uVmlkZW8uYmFja2dyb3VuZFJlYWR5KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuYmFja2dyb3VuZFN0b3JhZ2UuZm9sZGVyKTtcbiAgICAgICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlTmFtZVwiLCBkYXRhLmJhY2tncm91bmRTdG9yYWdlLmZpbGVOYW1lKTtcbiAgICAgICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgY29tcGFueUlkKTtcbiAgICAgICAgc3RvcmFnZS5nbygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmJhY2tncm91bmRSZWFkeSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLlBsYXllciA9IGZ1bmN0aW9uIChkYXRhLCBjb21wYW55SWQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF92aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9cIiksXG4gICAgX3ZpZGVvQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb0NvbnRhaW5lclwiKSxcbiAgICBfaW5pdGlhbFBsYXkgPSB0cnVlLFxuICAgIF91c2VyUGF1c2VkID0gZmFsc2UsXG4gICAgX3ZpZXdlclBhdXNlZCA9IGZhbHNlO1xuXG4gIC8qXG4gICAqIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX29uTG9hZGVkRGF0YSgpIHtcbiAgICAvLyBhdCBsZWFzZSAxc3QgZnJhbWUgb2YgdmlkZW8gaGFzIGxvYWRlZFxuICAgIF92aWRlb0NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgLy8gcmVtb3ZlIHRoaXMgbGlzdGVuZXJcbiAgICBfdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRlZGRhdGFcIiwgX29uTG9hZGVkRGF0YSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uQ2FuUGxheSgpIHtcbiAgICAvLyBlbm91Z2ggZGF0YSBoYXMgbG9hZGVkIHRvIHNhZmVseSBwbGF5IHdpdGhvdXQgaW50ZXJydXB0aW9uXG4gICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJSZWFkeSgpO1xuICAgIC8vIHJlbW92ZSB0aGlzIGxpc3RlbmVyXG4gICAgX3ZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsIF9vbkNhblBsYXksIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vbkVuZGVkKCkge1xuICAgIC8vIGEgXCJwYXVzZVwiIGV2ZW50IGlzIGFsd2F5cyBmaXJlZCBiZWZvcmUgXCJlbmRlZFwiIGV2ZW50LCBlbnN1cmUgX3VzZXJQYXVzZWQgaXMgZmFsc2VcbiAgICBfdXNlclBhdXNlZCA9IGZhbHNlO1xuICAgIC8vIHZpZGVvIGVuZGVkXG4gICAgUmlzZVZpc2lvbi5WaWRlby52aWRlb0VuZGVkKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfb25QYXVzZSgpIHtcbiAgICAvLyB0aGlzIGhhbmRsZXIgYWxzbyBnZXRzIGNhbGxlZCB2aWEgcHVibGljIFwicGF1c2UoKVwiIGZ1bmN0aW9uLCBvbmx5IHNldCBcIl91c2VyUGF1c2VkID0gdHJ1ZVwiIGlmIG5vdCB0aGUgY2FzZVxuICAgIF91c2VyUGF1c2VkID0gIV92aWV3ZXJQYXVzZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBfb25QbGF5KCkge1xuICAgIF91c2VyUGF1c2VkID0gZmFsc2U7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGlzSW5pdGlhbFBsYXkoKSB7XG4gICAgcmV0dXJuIF9pbml0aWFsUGxheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvU3RvcmFnZVwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgc291cmNlID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNvdXJjZVwiKSksXG4gICAgICBzcmNBdHRyID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKFwic3JjXCIpLFxuICAgICAgdHlwZUF0dHIgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xuXG4gICAgLy8gc2V0IGluaXRpYWwgdm9sdW1lIG9uIDx2aWRlbz5cbiAgICBfdmlkZW8udm9sdW1lID0gZGF0YS52aWRlby52b2x1bWUvMTAwO1xuXG4gICAgLy8gc2V0IHRoZSBcInR5cGVcIiBhdHRyaWJ1dGUgb24gPHNvdXJjZT5cbiAgICB0eXBlQXR0ci52YWx1ZSA9IFwidmlkZW8vd2VibVwiO1xuICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGVOb2RlKHR5cGVBdHRyKTtcblxuICAgIC8vIHZpZGVvIGV2ZW50c1xuICAgIF92aWRlby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkZGF0YVwiLCBfb25Mb2FkZWREYXRhLCBmYWxzZSk7XG4gICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsIF9vbkNhblBsYXksIGZhbHNlKTtcbiAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIF9vbkVuZGVkLCBmYWxzZSk7XG4gICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXVzZVwiLCBfb25QYXVzZSwgZmFsc2UpO1xuICAgIF92aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheVwiLCBfb25QbGF5LCBmYWxzZSk7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoZGF0YS52aWRlb1N0b3JhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gTm9uIHN0b3JhZ2UgVVJMXG4gICAgICBzcmNBdHRyLnZhbHVlID0gZGF0YS51cmw7XG4gICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlTm9kZShzcmNBdHRyKTtcbiAgICAgIF92aWRlby5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmlzZSBTdG9yYWdlXG4gICAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBzcmNBdHRyLnZhbHVlID0gZS5kZXRhaWxbMF07XG4gICAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGVOb2RlKHNyY0F0dHIpO1xuICAgICAgICBfdmlkZW8uYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEudmlkZW9TdG9yYWdlLmZvbGRlcik7XG4gICAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZpbGVOYW1lXCIsIGRhdGEudmlkZW9TdG9yYWdlLmZpbGVOYW1lKTtcbiAgICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGNvbXBhbnlJZCk7XG4gICAgICBzdG9yYWdlLmdvKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgX3ZpZXdlclBhdXNlZCA9IHRydWU7XG4gICAgX3ZpZGVvLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcbiAgICBfdmlkZW8ucGxheSgpO1xuXG4gICAgaWYgKF9pbml0aWFsUGxheSkge1xuICAgICAgX2luaXRpYWxQbGF5ID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXNlclBhdXNlZCgpIHtcbiAgICByZXR1cm4gX3VzZXJQYXVzZWQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaXNJbml0aWFsUGxheVwiOiBpc0luaXRpYWxQbGF5LFxuICAgIFwiaW5pdFwiOiBpbml0LFxuICAgIFwicGF1c2VcIjogcGF1c2UsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJ1c2VyUGF1c2VkXCI6IHVzZXJQYXVzZWRcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBSaXNlVmlzaW9uICovXG5cbihmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICAvLyBEaXNhYmxlIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSlcbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8uc3RvcCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkaXRpb25hbFBhcmFtcyhuYW1lcywgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgbmFtZXNbMF0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2V0QWRkaXRpb25hbFBhcmFtcyhKU09OLnBhcnNlKHZhbHVlc1swXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBhbnlJZChuYW1lLCB2YWx1ZSkge1xuICAgIGlmIChuYW1lICYmIG5hbWUgPT09IFwiY29tcGFueUlkXCIpIHtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2V0Q29tcGFueUlkKHZhbHVlKTtcbiAgICB9XG5cbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gIH1cblxuICBpZiAoaWQgJiYgaWQgIT09IFwiXCIpIHtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9zdG9wX1wiICsgaWQsIHN0b3ApO1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgY29tcGFueUlkKTtcblxuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgXCJjb21wYW55SWRcIik7XG5cbiAgfVxuXG59KSh3aW5kb3csIGdhZGdldHMpO1xuXG5cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xudmFyIF9nYXEgPSBfZ2FxIHx8IFtdO1xuXG5fZ2FxLnB1c2goWydfc2V0QWNjb3VudCcsICdVQS01NzA5MjE1OS0yJ10pO1xuX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnXSk7XG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIGdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IGdhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly9zc2wnIDogJ2h0dHA6Ly93d3cnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnO1xuICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7XG59KSgpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==