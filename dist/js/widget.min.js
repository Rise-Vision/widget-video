(function(){function e(e){function n(n,t,i,r,o,s){for(;o>=0&&s>o;o+=e){var a=r?r[o]:o;i=t(i,n[a],a,n)}return i}return function(t,i,r,o){i=V(i,o,4);var s=!T(t)&&y.keys(t),a=(s||t).length,u=e>0?0:a-1;return arguments.length<3&&(r=t[s?s[u]:u],u+=e),n(t,i,r,s,u,a)}}function n(e){return function(n,t,i){t=R(t,i);for(var r=C(n),o=e>0?0:r-1;o>=0&&r>o;o+=e)if(t(n[o],o,n))return o;return-1}}function t(e,n,t){return function(i,r,o){var s=0,a=C(i);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(t&&o&&a)return o=t(i,r),i[o]===r?o:-1;if(r!==r)return o=n(c.call(i,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&a>o;o+=e)if(i[o]===r)return o;return-1}}function i(e,n){var t=A.length,i=e.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(e,o)&&!y.contains(n,o)&&n.push(o);t--;)o=A[t],o in e&&e[o]!==r[o]&&!y.contains(n,o)&&n.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,u=Function.prototype,l=s.push,c=s.slice,f=a.toString,d=a.hasOwnProperty,p=Array.isArray,g=Object.keys,v=u.bind,h=Object.create,m=function(){},y=function(e){return e instanceof y?e:this instanceof y?(this._wrapped=e,void 0):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var V=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,i){return e.call(n,t,i)};case 3:return function(t,i,r){return e.call(n,t,i,r)};case 4:return function(t,i,r,o){return e.call(n,t,i,r,o)}}return function(){return e.apply(n,arguments)}},R=function(e,n,t){return null==e?y.identity:y.isFunction(e)?V(e,n,t):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,n){return R(e,n,1/0)};var E=function(e,n){return function(t){var i=arguments.length;if(2>i||null==t)return t;for(var r=1;i>r;r++)for(var o=arguments[r],s=e(o),a=s.length,u=0;a>u;u++){var l=s[u];n&&void 0!==t[l]||(t[l]=o[l])}return t}},b=function(e){if(!y.isObject(e))return{};if(h)return h(e);m.prototype=e;var n=new m;return m.prototype=null,n},w=function(e){return function(n){return null==n?void 0:n[e]}},_=Math.pow(2,53)-1,C=w("length"),T=function(e){var n=C(e);return"number"==typeof n&&n>=0&&_>=n};y.each=y.forEach=function(e,n,t){n=V(n,t);var i,r;if(T(e))for(i=0,r=e.length;r>i;i++)n(e[i],i,e);else{var o=y.keys(e);for(i=0,r=o.length;r>i;i++)n(e[o[i]],o[i],e)}return e},y.map=y.collect=function(e,n,t){n=R(n,t);for(var i=!T(e)&&y.keys(e),r=(i||e).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=n(e[a],a,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,n,t){var i;return i=T(e)?y.findIndex(e,n,t):y.findKey(e,n,t),void 0!==i&&-1!==i?e[i]:void 0},y.filter=y.select=function(e,n,t){var i=[];return n=R(n,t),y.each(e,function(e,t,r){n(e,t,r)&&i.push(e)}),i},y.reject=function(e,n,t){return y.filter(e,y.negate(R(n)),t)},y.every=y.all=function(e,n,t){n=R(n,t);for(var i=!T(e)&&y.keys(e),r=(i||e).length,o=0;r>o;o++){var s=i?i[o]:o;if(!n(e[s],s,e))return!1}return!0},y.some=y.any=function(e,n,t){n=R(n,t);for(var i=!T(e)&&y.keys(e),r=(i||e).length,o=0;r>o;o++){var s=i?i[o]:o;if(n(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,n,t,i){return T(e)||(e=y.values(e)),("number"!=typeof t||i)&&(t=0),y.indexOf(e,n,t)>=0},y.invoke=function(e,n){var t=c.call(arguments,2),i=y.isFunction(n);return y.map(e,function(e){var r=i?n:e[n];return null==r?r:r.apply(e,t)})},y.pluck=function(e,n){return y.map(e,y.property(n))},y.where=function(e,n){return y.filter(e,y.matcher(n))},y.findWhere=function(e,n){return y.find(e,y.matcher(n))},y.max=function(e,n,t){var i,r,o=-1/0,s=-1/0;if(null==n&&null!=e){e=T(e)?e:y.values(e);for(var a=0,u=e.length;u>a;a++)i=e[a],i>o&&(o=i)}else n=R(n,t),y.each(e,function(e,t,i){r=n(e,t,i),(r>s||r===-1/0&&o===-1/0)&&(o=e,s=r)});return o},y.min=function(e,n,t){var i,r,o=1/0,s=1/0;if(null==n&&null!=e){e=T(e)?e:y.values(e);for(var a=0,u=e.length;u>a;a++)i=e[a],o>i&&(o=i)}else n=R(n,t),y.each(e,function(e,t,i){r=n(e,t,i),(s>r||1/0===r&&1/0===o)&&(o=e,s=r)});return o},y.shuffle=function(e){for(var n,t=T(e)?e:y.values(e),i=t.length,r=Array(i),o=0;i>o;o++)n=y.random(0,o),n!==o&&(r[o]=r[n]),r[n]=t[o];return r},y.sample=function(e,n,t){return null==n||t?(T(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,n))},y.sortBy=function(e,n,t){return n=R(n,t),y.pluck(y.map(e,function(e,t,i){return{value:e,index:t,criteria:n(e,t,i)}}).sort(function(e,n){var t=e.criteria,i=n.criteria;if(t!==i){if(t>i||void 0===t)return 1;if(i>t||void 0===i)return-1}return e.index-n.index}),"value")};var O=function(e){return function(n,t,i){var r={};return t=R(t,i),y.each(n,function(i,o){var s=t(i,o,n);e(r,i,s)}),r}};y.groupBy=O(function(e,n,t){y.has(e,t)?e[t].push(n):e[t]=[n]}),y.indexBy=O(function(e,n,t){e[t]=n}),y.countBy=O(function(e,n,t){y.has(e,t)?e[t]++:e[t]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):T(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:T(e)?e.length:y.keys(e).length},y.partition=function(e,n,t){n=R(n,t);var i=[],r=[];return y.each(e,function(e,t,o){(n(e,t,o)?i:r).push(e)}),[i,r]},y.first=y.head=y.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:y.initial(e,e.length-n)},y.initial=function(e,n,t){return c.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},y.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:y.rest(e,Math.max(0,e.length-n))},y.rest=y.tail=y.drop=function(e,n,t){return c.call(e,null==n||t?1:n)},y.compact=function(e){return y.filter(e,y.identity)};var S=function(e,n,t,i){for(var r=[],o=0,s=i||0,a=C(e);a>s;s++){var u=e[s];if(T(u)&&(y.isArray(u)||y.isArguments(u))){n||(u=S(u,n,t));var l=0,c=u.length;for(r.length+=c;c>l;)r[o++]=u[l++]}else t||(r[o++]=u)}return r};y.flatten=function(e,n){return S(e,n,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,n,t,i){y.isBoolean(n)||(i=t,t=n,n=!1),null!=t&&(t=R(t,i));for(var r=[],o=[],s=0,a=C(e);a>s;s++){var u=e[s],l=t?t(u,s,e):u;n?(s&&o===l||r.push(u),o=l):t?y.contains(o,l)||(o.push(l),r.push(u)):y.contains(r,u)||r.push(u)}return r},y.union=function(){return y.uniq(S(arguments,!0,!0))},y.intersection=function(e){for(var n=[],t=arguments.length,i=0,r=C(e);r>i;i++){var o=e[i];if(!y.contains(n,o)){for(var s=1;t>s&&y.contains(arguments[s],o);s++);s===t&&n.push(o)}}return n},y.difference=function(e){var n=S(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(n,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var n=e&&y.max(e,C).length||0,t=Array(n),i=0;n>i;i++)t[i]=y.pluck(e,i);return t},y.object=function(e,n){for(var t={},i=0,r=C(e);r>i;i++)n?t[e[i]]=n[i]:t[e[i][0]]=e[i][1];return t},y.findIndex=n(1),y.findLastIndex=n(-1),y.sortedIndex=function(e,n,t,i){t=R(t,i,1);for(var r=t(n),o=0,s=C(e);s>o;){var a=Math.floor((o+s)/2);t(e[a])<r?o=a+1:s=a}return o},y.indexOf=t(1,y.findIndex,y.sortedIndex),y.lastIndexOf=t(-1,y.findLastIndex),y.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var i=Math.max(Math.ceil((n-e)/t),0),r=Array(i),o=0;i>o;o++,e+=t)r[o]=e;return r};var I=function(e,n,t,i,r){if(!(i instanceof n))return e.apply(t,r);var o=b(e.prototype),s=e.apply(o,r);return y.isObject(s)?s:o};y.bind=function(e,n){if(v&&e.bind===v)return v.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var t=c.call(arguments,2),i=function(){return I(e,i,n,this,t.concat(c.call(arguments)))};return i},y.partial=function(e){var n=c.call(arguments,1),t=function(){for(var i=0,r=n.length,o=Array(r),s=0;r>s;s++)o[s]=n[s]===y?arguments[i++]:n[s];for(;i<arguments.length;)o.push(arguments[i++]);return I(e,t,this,this,o)};return t},y.bindAll=function(e){var n,t,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(n=1;i>n;n++)t=arguments[n],e[t]=y.bind(e[t],e);return e},y.memoize=function(e,n){var t=function(i){var r=t.cache,o=""+(n?n.apply(this,arguments):i);return y.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return t.cache={},t},y.delay=function(e,n){var t=c.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,n,t){var i,r,o,s=null,a=0;t||(t={});var u=function(){a=t.leading===!1?0:y.now(),s=null,o=e.apply(i,r),s||(i=r=null)};return function(){var l=y.now();a||t.leading!==!1||(a=l);var c=n-(l-a);return i=this,r=arguments,0>=c||c>n?(s&&(clearTimeout(s),s=null),a=l,o=e.apply(i,r),s||(i=r=null)):s||t.trailing===!1||(s=setTimeout(u,c)),o}},y.debounce=function(e,n,t){var i,r,o,s,a,u=function(){var l=y.now()-s;n>l&&l>=0?i=setTimeout(u,n-l):(i=null,t||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var l=t&&!i;return i||(i=setTimeout(u,n)),l&&(a=e.apply(o,r),o=r=null),a}},y.wrap=function(e,n){return y.partial(n,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,i=e[n].apply(this,arguments);t--;)i=e[t].call(this,i);return i}},y.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},y.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),1>=e&&(n=null),t}},y.once=y.partial(y.before,2);var x=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(g)return g(e);var n=[];for(var t in e)y.has(e,t)&&n.push(t);return x&&i(e,n),n},y.allKeys=function(e){if(!y.isObject(e))return[];var n=[];for(var t in e)n.push(t);return x&&i(e,n),n},y.values=function(e){for(var n=y.keys(e),t=n.length,i=Array(t),r=0;t>r;r++)i[r]=e[n[r]];return i},y.mapObject=function(e,n,t){n=R(n,t);for(var i,r=y.keys(e),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=n(e[i],i,e);return s},y.pairs=function(e){for(var n=y.keys(e),t=n.length,i=Array(t),r=0;t>r;r++)i[r]=[n[r],e[n[r]]];return i},y.invert=function(e){for(var n={},t=y.keys(e),i=0,r=t.length;r>i;i++)n[e[t[i]]]=t[i];return n},y.functions=y.methods=function(e){var n=[];for(var t in e)y.isFunction(e[t])&&n.push(t);return n.sort()},y.extend=E(y.allKeys),y.extendOwn=y.assign=E(y.keys),y.findKey=function(e,n,t){n=R(n,t);for(var i,r=y.keys(e),o=0,s=r.length;s>o;o++)if(i=r[o],n(e[i],i,e))return i},y.pick=function(e,n,t){var i,r,o={},s=e;if(null==s)return o;y.isFunction(n)?(r=y.allKeys(s),i=V(n,t)):(r=S(arguments,!1,!1,1),i=function(e,n,t){return n in t},s=Object(s));for(var a=0,u=r.length;u>a;a++){var l=r[a],c=s[l];i(c,l,s)&&(o[l]=c)}return o},y.omit=function(e,n,t){if(y.isFunction(n))n=y.negate(n);else{var i=y.map(S(arguments,!1,!1,1),String);n=function(e,n){return!y.contains(i,n)}}return y.pick(e,n,t)},y.defaults=E(y.allKeys,!0),y.create=function(e,n){var t=b(e);return n&&y.extendOwn(t,n),t},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,n){return n(e),e},y.isMatch=function(e,n){var t=y.keys(n),i=t.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var s=t[o];if(n[s]!==r[s]||!(s in r))return!1}return!0};var L=function(e,n,t,i){if(e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof y&&(e=e._wrapped),n instanceof y&&(n=n._wrapped);var r=f.call(e);if(r!==f.call(n))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,a=n.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],i=i||[];for(var u=t.length;u--;)if(t[u]===e)return i[u]===n;if(t.push(e),i.push(n),o){if(u=e.length,u!==n.length)return!1;for(;u--;)if(!L(e[u],n[u],t,i))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(n).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(n,l)||!L(e[l],n[l],t,i))return!1}return t.pop(),i.pop(),!0};y.isEqual=function(e,n){return L(e,n)},y.isEmpty=function(e){return null==e?!0:T(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(n){return f.call(n)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,n){return null!=e&&d.call(e,n)},y.noConflict=function(){return r._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=w,y.propertyOf=function(e){return null==e?function(){}:function(n){return e[n]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(n){return y.isMatch(n,e)}},y.times=function(e,n,t){var i=Array(Math.max(0,e));n=V(n,t,1);for(var r=0;e>r;r++)i[r]=n(r);return i},y.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=y.invert(k),F=function(e){var n=function(n){return e[n]},t="(?:"+y.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,n):e}};y.escape=F(k),y.unescape=F(N),y.result=function(e,n,t){var i=null==e?void 0:e[n];return void 0===i&&(i=t),y.isFunction(i)?i.call(e):i};var j=0;y.uniqueId=function(e){var n=++j+"";return e?e+n:n},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,D=function(e){return"\\"+P[e]};y.template=function(e,n,t){!n&&t&&(n=t),n=y.defaults({},n,y.templateSettings);var i=RegExp([(n.escape||M).source,(n.interpolate||M).source,(n.evaluate||M).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(n,t,i,s,a){return o+=e.slice(r,a).replace(U,D),r=a+n.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}var u=function(e){return s.call(this,e,y)},l=n.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},y.chain=function(e){var n=y(e);return n._chain=!0,n};var G=function(e,n){return e._chain?y(n).chain():n};y.mixin=function(e){y.each(y.functions(e),function(n){var t=y[n]=e[n];y.prototype[n]=function(){var e=[this._wrapped];return l.apply(e,arguments),G(this,t.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=s[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],G(this,t)}}),y.each(["concat","join","slice"],function(e){var n=s[e];y.prototype[e]=function(){return G(this,n.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,n){var i=null;e.event?(i=e,i.file_url&&(i.file_format=t(i.file_url)),i.company_id=u,i.display_id=a,l&&(i.version=l),n(i)):n(i)}function n(){var e=new Date,n=e.getUTCFullYear(),t=e.getUTCMonth()+1,i=e.getUTCDate();return 10>t&&(t="0"+t),10>i&&(i="0"+i),n+t+i}function t(e){var n,t=/[?#&]/;return e&&"string"==typeof e?(n=e.substr(e.lastIndexOf(".")+1),t.test(n)&&(n=n.substr(0,-1!==n.indexOf("?")?n.indexOf("?"):n.length),n=n.substr(0,-1!==n.indexOf("#")?n.indexOf("#"):n.length),n=n.substr(0,-1!==n.indexOf("&")?n.indexOf("&"):n.length)),n.toLowerCase()):null}function i(e){var t={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:n(),rows:[{insertId:""}]},i=JSON.parse(JSON.stringify(t));return i.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),i.rows[0].json=JSON.parse(JSON.stringify(e)),i.rows[0].json.ts=(new Date).toISOString(),i}function r(n,t){e(t,function(e){null!==e&&RiseVision.Common.Logger.log(n,e)})}function o(e,n){u=e,a=n}function s(e){l=e}var a="",u="",l=null;return{getInsertData:i,getFileFormat:t,logEvent:r,setIds:o,setVersion:s}}(),RiseVision.Common.Logger=function(e){"use strict";function n(e){var n=new XMLHttpRequest;return new Date-l<358e4?e({}):(n.open("POST",r,!0),n.onloadend=function(){var t=JSON.parse(n.response);e({token:t.access_token,refreshedAt:new Date})},n.send(),void 0)}function t(e){return s&&u===e}function i(i,r){function f(n){var t,s,a=new XMLHttpRequest;s=o.replace("TABLE_ID",i),l=n.refreshedAt||l,c=n.token||c,t=e.getInsertData(r),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+c),r.cb&&"function"==typeof r.cb&&(a.onloadend=function(){r.cb(a.response)}),a.send(JSON.stringify(t))}if(!(!i||!r||r.hasOwnProperty("event")&&!r.event||r.hasOwnProperty("event")&&t(r.event)))return s=!0,u=r.event,setTimeout(function(){s=!1},a),n(f)}var r="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",o="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,u="",l=0,c="";return{log:i}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,n){var t="font-family: "+decodeURIComponent(n.font.family).replace(/'/g,"")+"; ",i="color: "+(n.color?n.color:n.forecolor)+"; ",r="font-size: "+(-1===n.size.indexOf("px")?n.size+"px; ":n.size+"; "),o="font-weight: "+(n.bold?"bold":"normal")+"; ",s="font-style: "+(n.italic?"italic":"normal")+"; ",a="text-decoration: "+(n.underline?"underline":"none")+"; ",u="background-color: "+(n.highlightColor?n.highlightColor:n.backcolor)+";";return"."+e+" {"+t+i+r+o+s+a+u+"}"}function n(e){for(var n=document.createElement("style"),t=0,i=e.length;i>t;t++)n.appendChild(document.createTextNode(e[t]));document.head.appendChild(n)}function t(t,o){function s(){o&&"function"==typeof o&&o()}function a(){s()}var u=null,l=[],c=[],f=[];if(!t||0===t.length)return s(),void 0;t.forEach(function(t){t.class&&t.fontStyle&&n([e(t.class,t.fontStyle)])});for(var d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"google"===t[d].fontStyle.font.type&&(u=t[d].fontStyle.font.family.split(",")[0],u=u.replace(/'/g,""),l.push(u));for(d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"custom"===t[d].fontStyle.font.type&&(c.push(decodeURIComponent(t[d].fontStyle.font.family).replace(/'/g,"")),f.push(t[d].fontStyle.font.url.replace(/'/g,"\\'")));if(0===l.length&&0===c.length)s();else{for(var p=0;p<c.length;p+=1)i(c[p],f[p]);l.length>0?r(l,a):s()}}function i(e,n,t){var i=null,r="font-family: "+e+"; src: url('"+n+"');";t=t||document,i=t.styleSheets[0],null!==i&&i.addRule("@font-face",r)}function r(e,n){WebFont.load({google:{families:e},active:function(){n&&"function"==typeof n&&n()},inactive:function(){n&&"function"==typeof n&&n()},timeout:2e3})}function o(e){for(var n=e.length,t=[],i=0;n>i;i++)t[i]=new Image,t[i].src=e[i]}function s(e){for(var n,t=window.location.search.substring(1),i=t.split("&"),r=0;r<i.length;r++)if(n=i[r].split("="),n[0]==e)return decodeURIComponent(n[1]);return""}function a(e){var n="";switch(e){case 404:n="The file does not exist or cannot be accessed.";break;case 507:n="There is not enough disk space to save the file on Rise Cache.";break;default:n="There was a problem retrieving the file from Rise Cache."}return n}function u(e){var n=document.createElement("div");return n.innerHTML=e,n.textContent}function l(e,n){var t=new XMLHttpRequest;if(e&&n&&"function"==typeof n){t.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{t.send(),n(t.status>=200&&t.status<304)}catch(i){n(!1)}}}function c(){var e=25,n=navigator.userAgent.match(/Chrome\/(\S+)/),t=n?n[1]:0;return t&&(t=parseInt(t.substring(0,t.indexOf("."))),e>=t)?!0:!1}function f(e,n){return/^(?:f|ht)tps?\:\/\//.test(e)||(e=(n?"https://":"http://")+e),e}return{addProtocol:f,getQueryParameter:s,getFontCssStyle:e,addCSSRules:n,loadFonts:t,loadCustomFont:i,loadGoogleFonts:r,preloadImages:o,getRiseCacheErrorMessage:a,unescapeHTML:u,hasInternetConnection:l,isLegacy:c}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var n=new XMLHttpRequest,t=this;e&&"function"==typeof e&&(u?n.open("GET",o,!0):n.open("GET",o+"ping?callback=_",!0),n.onreadystatechange=function(){try{if(4===n.readyState)if(s=!0,200===n.status)a=!0,e(!0,n.responseText);else{if(404===n.status)return u=!0,t.ping(e);console.debug("Rise Cache is not running"),a=!1,e(!1,null)}}catch(i){console.debug("Caught exception: ",i.description)}},n.send())}function n(e,n,t){function i(){var n,i,s;a?n=u?o+"files?url="+encodeURIComponent(e):t?o+"?url="+encodeURIComponent(e):o+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):t?n=e:(i=e.split("?"),s=1===i.length?"?":"&",n=e+s+"cb="+(new Date).getTime()),r("HEAD",n)}function r(e,t){var i=new XMLHttpRequest,o={xhr:i,url:t};a?(i.open(e,t,!0),i.addEventListener("loadend",function(){var s=i.status||0;s>=200&&300>s?n(o):"HEAD"===e?r("GET",t):n(o,new Error("The request failed with status code: "+s))}),i.send()):n(o)}if(e&&n&&"function"==typeof n)return s?i():this.ping(i)}function t(e){var n="";switch(e){case 502:n="There was a problem retrieving the file.";break;case 504:n="Unable to download the file. The server is not responding.";break;case 507:n="There is not enough disk space to save the file on Rise Cache.";break;case 534:n="The file does not exist or cannot be accessed.";break;default:n=""}return n}function i(e){return e&&"function"==typeof e?s?(e(a),void 0):this.ping(function(){e(a)}):void 0}function r(e){return e&&"function"==typeof e?s?(e(u),void 0):this.ping(function(){e(u)}):void 0}var o="//localhost:9494/",s=!1,a=!1,u=!1;return{getErrorMessage:t,getFile:n,isRiseCacheRunning:i,isV2Running:r,ping:e}}();var version="1.1.0";"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod",COMPONENTS_PATH:"components/"},RiseVision=RiseVision||{};RiseVision.Video={},RiseVision.Video=function(e,n){"use strict";function t(){n.rpc.call("","rsevent_done",null,S.getString("id")),null!==M&&c(M,!0),c({event:"done"},!1)}function i(){n.rpc.call("","rsevent_ready",null,S.getString("id"),!0,!0,!0,!0,!0)}function r(){clearTimeout(P),P=null}function o(){r(),P=setTimeout(function(){t()},5e3)}function s(){if(F&&F.length>0){if("file"===C)return F[0];if("folder"===C&&j)return F[j]}return null}function a(){return D}function u(){return G}function l(e,n){U=!0,D="undefined"!=typeof n,A.show(e),j=null,k||o()}function c(e,n){n&&(M=e),e.file_url||(e.file_url=s()),RiseVision.Common.LoggerUtils.logEvent(h(),e)}function f(e){"file"===C?F[0]=e:"folder"===C&&(F=e),q=!1,A.hide(),k||v()}function d(e){"file"===C?F[0]=e:"folder"===C&&(F=e),L&&L.update(F),U=!1,G=!1,D=!1,q=!1,M=null}function p(e){q=!0,A.show(e),j=null,k||o()}function g(){k=!0,r(),L&&(N?L.pause():(j=null,L.reset()))}function v(){return T&&(T=!1,c({event:"configuration",event_details:O},!1)),k=!1,c({event:"play"},!1),U?(o(),void 0):q?("file"===C&&I&&I.retry(),void 0):(L?(A.hide(),L.play()):F&&F.length>0&&(L=new RiseVision.Video.Player(w,C),L.init(F)),void 0)}function h(){return"video_v2_events"}function m(){j=null,t()}function y(){A.hide(),!k&&L&&L.play()}function V(e){j=e}function R(e,t){var r;w=_.clone(e),C=t,S=new n.Prefs,document.getElementById("container").style.width=S.getInt("rsW")+"px",document.getElementById("container").style.height=S.getInt("rsH")+"px",w.width=S.getInt("rsW"),w.height=S.getInt("rsH"),w.video.hasOwnProperty("resume")&&(N=w.video.resume),A=new RiseVision.Common.Message(document.getElementById("container"),document.getElementById("messageContainer")),RiseVision.Common.Utilities.isLegacy()?l("This version of Video Widget is not supported on this version of Rise Player. Please use the latest Rise Player version available at https://help.risevision.com/user/create-a-display"):(A.show("Please wait while your video is downloaded."),"file"===C?(r=0!==Object.keys(w.storage).length,r?(O="storage file",I=new RiseVision.Video.StorageFile(w),I.init()):(O="custom",x=new RiseVision.Video.NonStorage(w),x.init())):"folder"===C&&(O="storage folder",I=new RiseVision.Video.StorageFolder(w),I.init())),i()}function E(e){var n=null,t={},i="Sorry, there was a problem playing the video.",r="Error loading media: File could not be played",o="Error loading YouTube: Video could not be played",s="Error loading player: No media sources found",a="Error loading playlist: No playable sources found",u="There was a problem playing that video. It could be that we don't support that format or it is not encoded correctly.",f="The format of that video is not supported";e&&(e.type&&e.message?n=e.type+" - "+e.message:e.type?n=e.type:e.message&&(n=e.message),e.message&&(e.message===r||e.message===o?i=u:(e.message===s||e.message===a)&&(i=f))),t.event="player error",t.event_details=n,G=!0,c(t,!0),l(i)}function b(){g()}var w,C,T=!0,O=null,S=null,I=null,x=null,A=null,L=null,k=!0,N=!0,F=[],j=null,M=null,P=null,U=!1,D=!1,G=!1,q=!1;return{getTableName:h,hasPlayerError:u,hasStorageError:a,logEvent:c,onFileInit:f,onFileRefresh:d,onFileUnavailable:p,pause:g,play:v,setAdditionalParams:R,showError:l,playerEnded:m,playerReady:y,playerError:E,playerItemChange:V,stop:b}}(window,gadgets);var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.PlayerUtils=function(){"use strict";function e(e){for(var n=[],t=0;t<e.length;t+=1)n.push({file:e[t],type:this.getVideoFileType(e[t])});return n}function n(e){var n,t=[".mp4",".webm"],i=e.toLowerCase(),r=null;for(n=0;n<=t.length;n+=1)if(-1!==i.indexOf(t[n])){r=t[n].substr(t[n].lastIndexOf(".")+1);break}return r}return{getPlaylist:e,getVideoFileType:n}}();var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFile=function(e){"use strict";function n(){var n=document.getElementById("videoStorage");n&&(n.addEventListener("rise-storage-response",function(e){e.detail&&e.detail.url&&(o?(o=!1,RiseVision.Video.onFileInit(e.detail.url)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Video.onFileRefresh(e.detail.url):(RiseVision.Video.hasStorageError()||RiseVision.Video.hasPlayerError())&&RiseVision.Video.onFileRefresh(e.detail.url)))}),n.addEventListener("rise-storage-api-error",function(e){var n={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")}),n.addEventListener("rise-storage-no-file",function(e){var n={event:"storage file not found",event_details:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected video does not exist or has been moved to Trash.")}),n.addEventListener("rise-storage-file-throttled",function(e){var n={event:"storage file throttled",file_url:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected video is temporarily unavailable.")}),n.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),n.addEventListener("rise-storage-subscription-error",function(e){var n={event:"storage subscription error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0)}),n.addEventListener("rise-storage-error",function(e){var n={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),n.addEventListener("rise-cache-error",function(e){var n,t={event:"rise cache error",event_details:e.detail.error.message},o=0;RiseVision.Video.logEvent(t,!0),r.isV2Running()?n=r.getErrorMessage(o):(e.detail.error.message&&(o=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2)),n=i.getRiseCacheErrorMessage(o)),RiseVision.Video.showError(n)}),n.addEventListener("rise-cache-not-running",function(e){var n={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(n,!0)}),n.addEventListener("rise-cache-file-unavailable",function(){RiseVision.Video.onFileUnavailable("File is downloading")}),n.setAttribute("folder",e.storage.folder),n.setAttribute("fileName",e.storage.fileName),n.setAttribute("companyId",e.storage.companyId),n.setAttribute("env",config.STORAGE_ENV),n.go())}function t(){var e=document.getElementById("videoStorage");e&&e.go()}var i=RiseVision.Common.Utilities,r=RiseVision.Common.RiseCache,o=!0;return{init:n,retry:t}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.StorageFolder=function(e){"use strict";function n(){return _.pluck(c,"url")}function t(e){return _.find(c,function(n){return e.name===n.name})}function i(e){var n=t(e);n&&c.splice(c.indexOf(n),1)}function r(e){var n=t(e);n&&(n.url=e.url)}function o(e){var n=t(e);n||(e.fileName=e.name.slice(e.name.lastIndexOf("/")+1,e.name.lastIndexOf(".")).toLowerCase(),c.splice(_.sortedIndex(c,e,"fileName"),0,e))}function s(){var t=document.getElementById("videoStorage");t&&(t.addEventListener("rise-storage-response",function(e){var t=e.detail;if(t.added&&(o(t),l))return l=!1,RiseVision.Video.onFileInit(n()),void 0;if(t.hasOwnProperty("changed"))if(t.changed)r(t);else if(!RiseVision.Video.hasStorageError()&&!RiseVision.Video.hasPlayerError())return;t.deleted&&i(t),RiseVision.Video.onFileRefresh(n())}),t.addEventListener("rise-storage-api-error",function(e){var n={event:"storage api error",event_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.")
}),t.addEventListener("rise-storage-empty-folder",function(){var e={event:"storage folder empty"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any videos.")}),t.addEventListener("rise-storage-no-folder",function(e){var n={event:"storage folder doesn't exist",event_details:e.detail};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("The selected folder does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-folder-invalid",function(){var e={event:"storage folder format(s) invalid"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("The selected folder does not contain any supported video formats.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"storage subscription expired"};RiseVision.Video.logEvent(e,!0),RiseVision.Video.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-subscription-error",function(e){var n={event:"storage subscription error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0)}),t.addEventListener("rise-storage-error",function(e){var n={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Video.logEvent(n,!0),RiseVision.Video.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var n,t={event:"rise cache error",event_details:e.detail.error.message},i=0;RiseVision.Video.logEvent(t,!0),u.isV2Running()?n=u.getErrorMessage(i):(e.detail.error.message&&(i=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2)),n=a.getRiseCacheErrorMessage(i)),RiseVision.Video.showError(n)}),t.addEventListener("rise-cache-not-running",function(e){var n={event:"rise cache not running",event_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Video.logEvent(n,!0)}),t.setAttribute("fileType","video"),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("folder",e.storage.folder),t.setAttribute("env",config.STORAGE_ENV),t.go())}var a=RiseVision.Common.Utilities,u=RiseVision.Common.RiseCache,l=!0,c=[];return{init:s}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.NonStorage=function(e){"use strict";function n(e){r.getFile(l,function(e,n){var i,s=0;n?(RiseVision.Video.logEvent({event:"non-storage error",event_details:n.message,file_url:e.url},!0),r.isV2Running()?i=r.getErrorMessage(s):(n.message&&(s=+n.message.substring(n.message.indexOf(":")+2)),i=o.getRiseCacheErrorMessage(s)),RiseVision.Video.showError(i)):u?(u=!1,RiseVision.Video.onFileInit(e.url),t()):RiseVision.Video.onFileRefresh(e.url)},e)}function t(){null===a&&(a=setInterval(function(){n(!1)},s))}function i(){l=e.url&&""!==e.url?e.url:e.selector.url,l=o.addProtocol(l),n(!0)}var r=RiseVision.Common.RiseCache,o=RiseVision.Common.Utilities,s=9e5,a=null,u=!0,l="";return{init:i}};var RiseVision=RiseVision||{};RiseVision.Video=RiseVision.Video||{},RiseVision.Video.Player=function(e){"use strict";function n(){RiseVision.Video.playerEnded()}function t(){y||(clearTimeout(V),V=setTimeout(function(){"PLAYING"!==h.getState().toUpperCase()&&h.play()},1e3*v))}function i(e){RiseVision.Video.playerItemChange(e)}function r(e){e&&RiseVision.Video.playerError({type:"video",message:e.message})}function o(e){e&&RiseVision.Video.playerError({type:"setup",message:e.message})}function s(){h.on("setupError",function(e){o(e)}),h.on("ready",function(){h.on("playlistComplete",function(){n()}),h.on("playlistItem",function(e){i(e.index)}),h.on("error",function(e){r(e)}),h.setVolume(e.video.volume),e.video.controls&&v>1&&h.on("pause",function(){t()}),RiseVision.Video.playerReady()})}function a(n){return{controls:e.video.controls,height:e.height,playlist:m.getPlaylist(n),skin:{name:"rise"},stretching:g,width:e.width}}function u(n){h=jwplayer("player"),R=n,g=e.video.scaleToFit?"uniform":"none",p=e.video.controls?e.video.autoplay:!0,e.video.pause?(e.video.pause="string"==typeof e.video.pause?parseInt(e.video.pause,10):e.video.pause,v=isNaN(e.video.pause)?0:e.video.pause):v=0,h.setup(a(n)),s()}function l(){y=!1,E&&(E=!1,h.load(m.getPlaylist(R))),p&&h.play()}function c(){y=!0,clearTimeout(V),"PLAYING"===h.getState().toUpperCase()&&h.pause()}function f(){function e(){h.off("play",e),h.pause()}function n(){h.off("seeked",n),h.pause()}c(),"COMPLETE"!==h.getState().toUpperCase()&&setTimeout(function(){0!==h.getPlaylistIndex()?(h.on("play",e),h.playlistItem(0)):(h.on("seeked",n),h.seek(0))},100)}function d(e){R=e,E=!0}var p,g,v,h=null,m=RiseVision.Video.PlayerUtils,y=!1,V=null,R=null,E=!1;return{init:u,pause:c,play:l,reset:f,update:d}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,n){"use strict";function t(){try{n.style.height=e.style.height}catch(t){console.warn("Can't initialize Message - ",t.message)}}function i(){if(o){for(;n.firstChild;)n.removeChild(n.firstChild);n.style.display="none",e.style.display="block",o=!1}}function r(t){var i,r=document.createDocumentFragment();o?(i=n.querySelector(".message"),i.innerHTML=t):(e.style.display="none",n.style.display="block",i=document.createElement("p"),i.innerHTML=t,i.setAttribute("class","message"),r.appendChild(i),n.appendChild(r),o=!0)}var o=!1;return t(),{hide:i,show:r}},function(e,n){"use strict";function t(e,n){var t="",i="";Array.isArray(e)&&e.length>0&&Array.isArray(n)&&n.length>0&&("companyId"===e[0]&&(t=n[0]),"displayId"===e[1]&&(i=n[1]?n[1]:g),RiseVision.Common.RiseCache.isV2Running(function(e){c(e,i)}),RiseVision.Common.LoggerUtils.setIds(t,i),RiseVision.Common.LoggerUtils.setVersion(version),"additionalParams"===e[2]&&(m=JSON.parse(n[2]),f=0!==Object.keys(m.storage).length?m.storage.fileName?"file":"folder":"file"))}function i(){RiseVision.Video.play()}function r(){RiseVision.Video.pause()}function o(){RiseVision.Video.stop()}function s(){l(),p&&""!==p&&(n.rpc.register("rscmd_play_"+p,i),n.rpc.register("rscmd_pause_"+p,r),n.rpc.register("rscmd_stop_"+p,o),n.rpc.register("rsparam_set_"+p,t),n.rpc.call("","rsparam_get",null,p,["companyId","displayId","additionalParams"]))}function a(){e.removeEventListener("WebComponentsReady",a),h=!0,v&&h&&RiseVision.Video.setAdditionalParams(m,f)}function u(){var e=document.createElement("rise-storage");e.removeEventListener("rise-storage-ready",u),v=!0,v&&h&&RiseVision.Video.setAdditionalParams(m,f)}function l(){var n=document.createElement("script");n.src=config.COMPONENTS_PATH+"webcomponentsjs/webcomponents-lite.min.js",e.addEventListener("WebComponentsReady",a),document.getElementsByTagName("head")[0].appendChild(n)}function c(e,n){var t,i=document.createDocumentFragment(),r=document.createElement("link"),o=document.createElement("rise-storage"),s=n===g?0:5,a="rise-storage";(e||n===g)&&(a+="-v2"),t=config.COMPONENTS_PATH+a+"/rise-storage.html",r.setAttribute("rel","import"),r.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(r),o.setAttribute("id","videoStorage"),o.setAttribute("refresh",s),o.addEventListener("rise-storage-ready",u),i.appendChild(o),document.body.appendChild(i)}var f,d=new n.Prefs,p=d.getString("id"),g="preview",v=!1,h=!1,m=null;e.oncontextmenu=function(){return!1},s()}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY3JlYXRlUmVkdWNlIiwiZGlyIiwiaXRlcmF0b3IiLCJvYmoiLCJpdGVyYXRlZSIsIm1lbW8iLCJrZXlzIiwiaW5kZXgiLCJsZW5ndGgiLCJjdXJyZW50S2V5IiwiY29udGV4dCIsIm9wdGltaXplQ2IiLCJpc0FycmF5TGlrZSIsIl8iLCJhcmd1bWVudHMiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsImFycmF5IiwicHJlZGljYXRlIiwiY2IiLCJnZXRMZW5ndGgiLCJjcmVhdGVJbmRleEZpbmRlciIsInByZWRpY2F0ZUZpbmQiLCJzb3J0ZWRJbmRleCIsIml0ZW0iLCJpZHgiLCJpIiwiTWF0aCIsIm1heCIsIm1pbiIsInNsaWNlIiwiY2FsbCIsImlzTmFOIiwiY29sbGVjdE5vbkVudW1Qcm9wcyIsIm5vbkVudW1JZHgiLCJub25FbnVtZXJhYmxlUHJvcHMiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiaXNGdW5jdGlvbiIsInByb3RvdHlwZSIsIk9ialByb3RvIiwicHJvcCIsImhhcyIsImNvbnRhaW5zIiwicHVzaCIsInJvb3QiLCJ0aGlzIiwicHJldmlvdXNVbmRlcnNjb3JlIiwiQXJyYXlQcm90byIsIkFycmF5IiwiT2JqZWN0IiwiRnVuY1Byb3RvIiwiRnVuY3Rpb24iLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwibmF0aXZlSXNBcnJheSIsImlzQXJyYXkiLCJuYXRpdmVLZXlzIiwibmF0aXZlQmluZCIsImJpbmQiLCJuYXRpdmVDcmVhdGUiLCJjcmVhdGUiLCJDdG9yIiwiX3dyYXBwZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiVkVSU0lPTiIsImZ1bmMiLCJhcmdDb3VudCIsInZhbHVlIiwib3RoZXIiLCJjb2xsZWN0aW9uIiwiYWNjdW11bGF0b3IiLCJhcHBseSIsImlkZW50aXR5IiwiaXNPYmplY3QiLCJtYXRjaGVyIiwicHJvcGVydHkiLCJJbmZpbml0eSIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJ1bmRlZmluZWRPbmx5Iiwic291cmNlIiwibCIsImtleSIsImJhc2VDcmVhdGUiLCJyZXN1bHQiLCJNQVhfQVJSQVlfSU5ERVgiLCJwb3ciLCJlYWNoIiwiZm9yRWFjaCIsIm1hcCIsImNvbGxlY3QiLCJyZXN1bHRzIiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJsaXN0IiwicmVqZWN0IiwibmVnYXRlIiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiaW5jbHVkZXMiLCJpbmNsdWRlIiwiZnJvbUluZGV4IiwiZ3VhcmQiLCJ2YWx1ZXMiLCJpbmRleE9mIiwiaW52b2tlIiwibWV0aG9kIiwiYXJncyIsImlzRnVuYyIsInBsdWNrIiwid2hlcmUiLCJhdHRycyIsImZpbmRXaGVyZSIsImNvbXB1dGVkIiwibGFzdENvbXB1dGVkIiwic2h1ZmZsZSIsInJhbmQiLCJzZXQiLCJzaHVmZmxlZCIsInJhbmRvbSIsInNhbXBsZSIsIm4iLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJ0b0FycmF5Iiwic2l6ZSIsInBhcnRpdGlvbiIsInBhc3MiLCJmYWlsIiwiZmlyc3QiLCJoZWFkIiwidGFrZSIsImluaXRpYWwiLCJsYXN0IiwicmVzdCIsInRhaWwiLCJkcm9wIiwiY29tcGFjdCIsImZsYXR0ZW4iLCJpbnB1dCIsInNoYWxsb3ciLCJzdHJpY3QiLCJzdGFydEluZGV4Iiwib3V0cHV0IiwiaXNBcmd1bWVudHMiLCJqIiwibGVuIiwid2l0aG91dCIsImRpZmZlcmVuY2UiLCJ1bmlxIiwidW5pcXVlIiwiaXNTb3J0ZWQiLCJpc0Jvb2xlYW4iLCJzZWVuIiwidW5pb24iLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwiemlwIiwidW56aXAiLCJvYmplY3QiLCJmaW5kTGFzdEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsImZsb29yIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiZXhlY3V0ZUJvdW5kIiwic291cmNlRnVuYyIsImJvdW5kRnVuYyIsImNhbGxpbmdDb250ZXh0Iiwic2VsZiIsIlR5cGVFcnJvciIsImJvdW5kIiwiY29uY2F0IiwicGFydGlhbCIsImJvdW5kQXJncyIsInBvc2l0aW9uIiwiYmluZEFsbCIsIkVycm9yIiwibWVtb2l6ZSIsImhhc2hlciIsImNhY2hlIiwiYWRkcmVzcyIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwib3B0aW9ucyIsInRpbWVvdXQiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsIm5vdyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsInRyYWlsaW5nIiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJ0aW1lc3RhbXAiLCJjYWxsTm93Iiwid3JhcCIsIndyYXBwZXIiLCJjb21wb3NlIiwiYWZ0ZXIiLCJ0aW1lcyIsImJlZm9yZSIsIm9uY2UiLCJoYXNFbnVtQnVnIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJhbGxLZXlzIiwibWFwT2JqZWN0IiwicGFpcnMiLCJpbnZlcnQiLCJmdW5jdGlvbnMiLCJtZXRob2RzIiwibmFtZXMiLCJleHRlbmQiLCJleHRlbmRPd24iLCJhc3NpZ24iLCJwaWNrIiwib2l0ZXJhdGVlIiwib21pdCIsIlN0cmluZyIsImRlZmF1bHRzIiwicHJvcHMiLCJjbG9uZSIsInRhcCIsImludGVyY2VwdG9yIiwiaXNNYXRjaCIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiYXJlQXJyYXlzIiwiYUN0b3IiLCJiQ3RvciIsInBvcCIsImlzRXF1YWwiLCJpc0VtcHR5IiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsInR5cGUiLCJuYW1lIiwiSW50OEFycmF5IiwiaXNGaW5pdGUiLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJjb25zdGFudCIsIm5vb3AiLCJwcm9wZXJ0eU9mIiwibWF0Y2hlcyIsImFjY3VtIiwiRGF0ZSIsImdldFRpbWUiLCJlc2NhcGVNYXAiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJgIiwidW5lc2NhcGVNYXAiLCJjcmVhdGVFc2NhcGVyIiwiZXNjYXBlciIsIm1hdGNoIiwiam9pbiIsInRlc3RSZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlUmVnZXhwIiwic3RyaW5nIiwidGVzdCIsInJlcGxhY2UiLCJlc2NhcGUiLCJ1bmVzY2FwZSIsImZhbGxiYWNrIiwiaWRDb3VudGVyIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJpZCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwibm9NYXRjaCIsImVzY2FwZXMiLCJcXCIsIlxyIiwiXG4iLCLigKgiLCLigKkiLCJlc2NhcGVDaGFyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJvbGRTZXR0aW5ncyIsIm9mZnNldCIsInZhcmlhYmxlIiwicmVuZGVyIiwiZSIsImRhdGEiLCJhcmd1bWVudCIsImNoYWluIiwiaW5zdGFuY2UiLCJfY2hhaW4iLCJtaXhpbiIsInZhbHVlT2YiLCJ0b0pTT04iLCJkZWZpbmUiLCJhbWQiLCJXSURHRVRfQ09NTU9OX0NPTkZJRyIsIkFVVEhfUEFUSF9VUkwiLCJMT0dHRVJfQ0xJRU5UX0lEIiwiTE9HR0VSX0NMSUVOVF9TRUNSRVQiLCJMT0dHRVJfUkVGUkVTSF9UT0tFTiIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwianNvbiIsImV2ZW50IiwiZmlsZV91cmwiLCJmaWxlX2Zvcm1hdCIsImdldEZpbGVGb3JtYXQiLCJjb21wYW55X2lkIiwiY29tcGFueUlkIiwiZGlzcGxheV9pZCIsImRpc3BsYXlJZCIsInZlcnNpb24iLCJnZXRTdWZmaXgiLCJkYXRlIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJ1cmwiLCJzdHIiLCJoYXNQYXJhbXMiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwidG9VcHBlckNhc2UiLCJ0cyIsInRvSVNPU3RyaW5nIiwibG9nRXZlbnQiLCJ0YWJsZSIsIkxvZ2dlciIsImxvZyIsInNldElkcyIsImNvbXBhbnkiLCJkaXNwbGF5Iiwic2V0VmVyc2lvbiIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwic2V0UmVxdWVzdEhlYWRlciIsInRocm90dGxlRGVsYXkiLCJVdGlsaXRpZXMiLCJnZXRGb250Q3NzU3R5bGUiLCJmb250T2JqIiwiZmFtaWx5IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZm9udCIsImNvbG9yIiwiZm9yZWNvbG9yIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImxvYWRGb250cyIsImNhbGxiYWNrIiwib25Hb29nbGVGb250c0xvYWRlZCIsImZhbWlsaWVzIiwiZ29vZ2xlRmFtaWxpZXMiLCJjdXN0b21GYW1pbGllcyIsImN1c3RvbVVybHMiLCJjbGFzcyIsImZvbnRTdHlsZSIsInNwbGl0IiwibG9hZEN1c3RvbUZvbnQiLCJsb2FkR29vZ2xlRm9udHMiLCJjb250ZW50RG9jIiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiV2ViRm9udCIsImxvYWQiLCJnb29nbGUiLCJhY3RpdmUiLCJpbmFjdGl2ZSIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJzcmMiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwicGFpciIsInF1ZXJ5Iiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJ2YXJzIiwiZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsImVycm9yTWVzc2FnZSIsInVuZXNjYXBlSFRNTCIsImh0bWwiLCJkaXYiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImhhc0ludGVybmV0Q29ubmVjdGlvbiIsImZpbGVQYXRoIiwic3RhdHVzIiwiaXNMZWdhY3kiLCJsZWdhY3lWZXJzaW9uIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwicGFyc2VJbnQiLCJhZGRQcm90b2NvbCIsInNlY3VyZSIsIlJpc2VDYWNoZSIsInBpbmciLCJyIiwiX2lzVjJSdW5uaW5nIiwiQkFTRV9DQUNIRV9VUkwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiX3BpbmdSZWNlaXZlZCIsIl9pc0NhY2hlUnVubmluZyIsInJlc3BvbnNlVGV4dCIsImNvbnNvbGUiLCJkZWJ1ZyIsImRlc2NyaXB0aW9uIiwiZ2V0RmlsZSIsImZpbGVVcmwiLCJub2NhY2hlYnVzdGVyIiwiZmlsZVJlcXVlc3QiLCJzZXBhcmF0b3IiLCJlbmNvZGVVUklDb21wb25lbnQiLCJtYWtlUmVxdWVzdCIsInJlcXVlc3QiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0RXJyb3JNZXNzYWdlIiwiaXNSaXNlQ2FjaGVSdW5uaW5nIiwiaXNWMlJ1bm5pbmciLCJhbmd1bGFyIiwiY29uZmlnIiwiU1RPUkFHRV9FTlYiLCJDT01QT05FTlRTX1BBVEgiLCJWaWRlbyIsImdhZGdldHMiLCJfZG9uZSIsInJwYyIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9lcnJvckxvZyIsIl9yZWFkeSIsIl9jbGVhckVycm9yVGltZXIiLCJfZXJyb3JUaW1lciIsIl9zdGFydEVycm9yVGltZXIiLCJfZ2V0Q3VycmVudEZpbGUiLCJfY3VycmVudEZpbGVzIiwiX21vZGUiLCJfY3VycmVudFBsYXlsaXN0SW5kZXgiLCJoYXNTdG9yYWdlRXJyb3IiLCJfc3RvcmFnZUVycm9yRmxhZyIsImhhc1BsYXllckVycm9yIiwiX3BsYXllckVycm9yRmxhZyIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJpc1N0b3JhZ2VFcnJvciIsIl9lcnJvckZsYWciLCJfbWVzc2FnZSIsInNob3ciLCJfdmlld2VyUGF1c2VkIiwiaXNFcnJvciIsImdldFRhYmxlTmFtZSIsIm9uRmlsZUluaXQiLCJfdW5hdmFpbGFibGVGbGFnIiwiaGlkZSIsInBsYXkiLCJvbkZpbGVSZWZyZXNoIiwiX3BsYXllciIsInVwZGF0ZSIsIm9uRmlsZVVuYXZhaWxhYmxlIiwicGF1c2UiLCJfcmVzdW1lIiwicmVzZXQiLCJfaXNMb2FkaW5nIiwiZXZlbnRfZGV0YWlscyIsIl9jb25maWdEZXRhaWxzIiwiX3N0b3JhZ2UiLCJyZXRyeSIsIlBsYXllciIsIl9hZGRpdGlvbmFsUGFyYW1zIiwiaW5pdCIsInBsYXllckVuZGVkIiwicGxheWVyUmVhZHkiLCJwbGF5ZXJJdGVtQ2hhbmdlIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsIm1vZGUiLCJpc1N0b3JhZ2VGaWxlIiwiUHJlZnMiLCJnZXRFbGVtZW50QnlJZCIsIndpZHRoIiwiZ2V0SW50IiwiaGVpZ2h0IiwidmlkZW8iLCJyZXN1bWUiLCJNZXNzYWdlIiwic3RvcmFnZSIsIlN0b3JhZ2VGaWxlIiwiX25vblN0b3JhZ2UiLCJOb25TdG9yYWdlIiwiU3RvcmFnZUZvbGRlciIsInBsYXllckVycm9yIiwiZXJyb3IiLCJkZXRhaWxzIiwiTUVESUFfRVJST1IiLCJZT1VUVUJFX0VSUk9SIiwiUExBWUVSX0VSUk9SIiwiUExBWUxJU1RfRVJST1IiLCJFTkNPRElOR19NRVNTQUdFIiwiRk9STUFUX01FU1NBR0UiLCJQbGF5ZXJVdGlscyIsImdldFBsYXlsaXN0IiwicGxheWxpc3QiLCJmaWxlIiwiZ2V0VmlkZW9GaWxlVHlwZSIsImV4dGVuc2lvbnMiLCJ1cmxMb3dlcmNhc2UiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJjaGFuZ2VkIiwiY29kZSIsImN1cnJlbnRUYXJnZXQiLCJyaXNlQ2FjaGUiLCJzZXRBdHRyaWJ1dGUiLCJmb2xkZXIiLCJmaWxlTmFtZSIsImdvIiwiX2dldFVybHMiLCJfZmlsZXMiLCJfZ2V0RXhpc3RpbmdGaWxlIiwiZiIsIl9kZWxldGVGaWxlIiwiZXhpc3RpbmciLCJzcGxpY2UiLCJfY2hhbmdlRmlsZSIsIl9hZGRGaWxlIiwiYWRkZWQiLCJkZWxldGVkIiwiX2dldEZpbGUiLCJvbWl0Q2FjaGVCdXN0ZXIiLCJfdXJsIiwiX3N0YXJ0UmVmcmVzaEludGVydmFsIiwiX3JlZnJlc2hJbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJfcmVmcmVzaER1cmF0aW9uIiwic2VsZWN0b3IiLCJfb25Db21wbGV0ZSIsIl9vblBhdXNlIiwiX3BhdXNlVGltZXIiLCJfcGxheWVySW5zdGFuY2UiLCJnZXRTdGF0ZSIsIl9wYXVzZUR1cmF0aW9uIiwiX29uUGxheWxpc3RJdGVtIiwiX29uUGxheWVyRXJyb3IiLCJfb25TZXR1cEVycm9yIiwiX2NvbmZpZ3VyZUhhbmRsZXJzIiwib24iLCJzZXRWb2x1bWUiLCJ2b2x1bWUiLCJjb250cm9scyIsIl9nZXRTZXR1cERhdGEiLCJmaWxlcyIsIl91dGlscyIsInNraW4iLCJzdHJldGNoaW5nIiwiX3N0cmV0Y2hpbmciLCJqd3BsYXllciIsIl9hdXRvUGxheSIsImF1dG9wbGF5Iiwic2V0dXAiLCJfdXBkYXRlV2FpdGluZyIsIm9uUGxheSIsIm9mZiIsIm9uU2Vla2VkIiwiZ2V0UGxheWxpc3RJbmRleCIsInBsYXlsaXN0SXRlbSIsInNlZWsiLCJtYWluQ29udGFpbmVyIiwibWVzc2FnZUNvbnRhaW5lciIsIl9pbml0Iiwid2FybiIsIl9hY3RpdmUiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJwIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbmZpZ3VyZSIsImRlZmF1bHREaXNwbGF5SWQiLCJpc1YyIiwiYWRkUmlzZVN0b3JhZ2UiLCJhZGRpdGlvbmFsUGFyYW1zIiwiYWRkUG9seWZpbGwiLCJyZWdpc3RlciIsIm9uUG9seW1lclJlYWR5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBvbHltZXJSZWFkeSIsInN0b3JhZ2VSZWFkeSIsIm9uU3RvcmFnZVJlYWR5Iiwid2ViY29tcG9uZW50cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaHJlZiIsImxpbmsiLCJyZWZyZXNoIiwic3RvcmFnZVBhdGgiLCJib2R5IiwicHJlZnMiLCJvbmNvbnRleHRtZW51IiwiX2dhcSIsImdhIiwiYXN5bmMiLCJwcm90b2NvbCIsInMiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIl0sIm1hcHBpbmdzIjoiQ0FLQyxXQTRLQyxRQUFTQSxHQUFhQyxHQUdwQixRQUFTQyxHQUFTQyxFQUFLQyxFQUFVQyxFQUFNQyxFQUFNQyxFQUFPQyxHQUNsRCxLQUFPRCxHQUFTLEdBQWFDLEVBQVJELEVBQWdCQSxHQUFTTixFQUFLLENBQ2pELEdBQUlRLEdBQWFILEVBQU9BLEVBQUtDLEdBQVNBLENBQ3RD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OVUsSUFBYytULEVBQW9CLEVBQUksRUFDakRnQixFQUFjLGdCQUdaZixHQUFTaFUsSUFBYytULEtBQ3pCZ0IsR0FBZSxPQUdqQkgsRUFBTzFLLE9BQU9FLGdCQUFrQjJLLEVBQWMscUJBRTlDRixFQUFLaEYsYUFBYSxNQUFPLFVBQ3pCZ0YsRUFBS2hGLGFBQWEsT0FBUStFLEdBRzFCOVAsU0FBUzZQLHFCQUFxQixRQUFRLEdBQUczUCxZQUFZNlAsR0FFckQzRyxFQUFRMkIsYUFBYSxLQUFNLGdCQUMzQjNCLEVBQVEyQixhQUFhLFVBQVdpRixHQUNoQzVHLEVBQVFyRSxpQkFBaUIscUJBQXNCNEssR0FDL0NkLEVBQVMzTyxZQUFZa0osR0FHckJwSixTQUFTa1EsS0FBS2hRLFlBQVkyTyxHQTFJNUIsR0FNRW5HLEdBTkV5SCxFQUFRLEdBQUkzSyxHQUFRb0QsTUFDdEIzUSxFQUFLa1ksRUFBTXZLLFVBQVUsTUFDckJxSixFQUFtQixVQUNuQlMsR0FBZSxFQUNmRCxHQUFlLEVBQ2ZMLEVBQW1CLElBSXJCak4sR0FBT2lPLGNBQWdCLFdBQ3JCLE9BQU8sR0FtSVQvSCxLQUVDbEcsT0FBUXFELFFBS1gsSUFBSTZLLE1BQU9BLFFBRVhBLE1BQUsvb0IsTUFBTSxjQUFlLGtCQUMxQitvQixLQUFLL29CLE1BQU0sbUJBRVgsV0FDRSxHQUFJZ3BCLEdBQUt0USxTQUFTQyxjQUFjLFNBQVdxUSxHQUFHN2EsS0FBTyxrQkFBbUI2YSxFQUFHQyxPQUFRLEVBQ25GRCxFQUFHeE8sS0FBTyxVQUFZOUIsU0FBU29DLFNBQVNvTyxTQUFXLGNBQWdCLGNBQWdCLDZCQUNuRixJQUFJQyxHQUFJelEsU0FBUzZQLHFCQUFxQixVQUFVLEVBQUlZLEdBQUVDLFdBQVdDLGFBQWFMLEVBQUlHIiwiZmlsZSI6ImpzL3dpZGdldC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAgICAgVW5kZXJzY29yZS5qcyAxLjguM1xuLy8gICAgIGh0dHA6Ly91bmRlcnNjb3JlanMub3JnXG4vLyAgICAgKGMpIDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuLy8gICAgIFVuZGVyc2NvcmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbihmdW5jdGlvbigpIHtcblxuICAvLyBCYXNlbGluZSBzZXR1cFxuICAvLyAtLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIGluIHRoZSBicm93c2VyLCBvciBgZXhwb3J0c2Agb24gdGhlIHNlcnZlci5cbiAgdmFyIHJvb3QgPSB0aGlzO1xuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgX2AgdmFyaWFibGUuXG4gIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgRnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIC8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLlxuICB2YXJcbiAgICBwdXNoICAgICAgICAgICAgID0gQXJyYXlQcm90by5wdXNoLFxuICAgIHNsaWNlICAgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlLFxuICAgIHRvU3RyaW5nICAgICAgICAgPSBPYmpQcm90by50b1N0cmluZyxcbiAgICBoYXNPd25Qcm9wZXJ0eSAgID0gT2JqUHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgLy8gQWxsICoqRUNNQVNjcmlwdCA1KiogbmF0aXZlIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9ucyB0aGF0IHdlIGhvcGUgdG8gdXNlXG4gIC8vIGFyZSBkZWNsYXJlZCBoZXJlLlxuICB2YXJcbiAgICBuYXRpdmVJc0FycmF5ICAgICAgPSBBcnJheS5pc0FycmF5LFxuICAgIG5hdGl2ZUtleXMgICAgICAgICA9IE9iamVjdC5rZXlzLFxuICAgIG5hdGl2ZUJpbmQgICAgICAgICA9IEZ1bmNQcm90by5iaW5kLFxuICAgIG5hdGl2ZUNyZWF0ZSAgICAgICA9IE9iamVjdC5jcmVhdGU7XG5cbiAgLy8gTmFrZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdXJyb2dhdGUtcHJvdG90eXBlLXN3YXBwaW5nLlxuICB2YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZSBvbGQgYHJlcXVpcmUoKWAgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF87XG4gICAgfVxuICAgIGV4cG9ydHMuXyA9IF87XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5fID0gXztcbiAgfVxuXG4gIC8vIEN1cnJlbnQgdmVyc2lvbi5cbiAgXy5WRVJTSU9OID0gJzEuOC4zJztcblxuICAvLyBJbnRlcm5hbCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gZWZmaWNpZW50IChmb3IgY3VycmVudCBlbmdpbmVzKSB2ZXJzaW9uXG4gIC8vIG9mIHRoZSBwYXNzZWQtaW4gY2FsbGJhY2ssIHRvIGJlIHJlcGVhdGVkbHkgYXBwbGllZCBpbiBvdGhlciBVbmRlcnNjb3JlXG4gIC8vIGZ1bmN0aW9ucy5cbiAgdmFyIG9wdGltaXplQ2IgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHJldHVybiBmdW5jO1xuICAgIHN3aXRjaCAoYXJnQ291bnQgPT0gbnVsbCA/IDMgOiBhcmdDb3VudCkge1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSk7XG4gICAgICB9O1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGZ1bmN0aW9uKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBBIG1vc3RseS1pbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZFxuICAvLyB0byBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGRlc2lyZWQgcmVzdWx0IOKAlCBlaXRoZXJcbiAgLy8gaWRlbnRpdHksIGFuIGFyYml0cmFyeSBjYWxsYmFjaywgYSBwcm9wZXJ0eSBtYXRjaGVyLCBvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuICB2YXIgY2IgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIF8uaWRlbnRpdHk7XG4gICAgaWYgKF8uaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybiBvcHRpbWl6ZUNiKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gICAgaWYgKF8uaXNPYmplY3QodmFsdWUpKSByZXR1cm4gXy5tYXRjaGVyKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wcm9wZXJ0eSh2YWx1ZSk7XG4gIH07XG4gIF8uaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBjYih2YWx1ZSwgY29udGV4dCwgSW5maW5pdHkpO1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhc3NpZ25lciBmdW5jdGlvbnMuXG4gIHZhciBjcmVhdGVBc3NpZ25lciA9IGZ1bmN0aW9uKGtleXNGdW5jLCB1bmRlZmluZWRPbmx5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMiB8fCBvYmogPT0gbnVsbCkgcmV0dXJuIG9iajtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF0sXG4gICAgICAgICAgICBrZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICAgIGwgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoIXVuZGVmaW5lZE9ubHkgfHwgb2JqW2tleV0gPT09IHZvaWQgMCkgb2JqW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG4gIHZhciBiYXNlQ3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgICBpZiAobmF0aXZlQ3JlYXRlKSByZXR1cm4gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICAgIEN0b3IucHJvdG90eXBlID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBwcm9wZXJ0eSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtrZXldO1xuICAgIH07XG4gIH07XG5cbiAgLy8gSGVscGVyIGZvciBjb2xsZWN0aW9uIG1ldGhvZHMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBjb2xsZWN0aW9uXG4gIC8vIHNob3VsZCBiZSBpdGVyYXRlZCBhcyBhbiBhcnJheSBvciBhcyBhbiBvYmplY3RcbiAgLy8gUmVsYXRlZDogaHR0cDovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtdG9sZW5ndGhcbiAgLy8gQXZvaWRzIGEgdmVyeSBuYXN0eSBpT1MgOCBKSVQgYnVnIG9uIEFSTS02NC4gIzIwOTRcbiAgdmFyIE1BWF9BUlJBWV9JTkRFWCA9IE1hdGgucG93KDIsIDUzKSAtIDE7XG4gIHZhciBnZXRMZW5ndGggPSBwcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gIHZhciBpc0FycmF5TGlrZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8PSBNQVhfQVJSQVlfSU5ERVg7XG4gIH07XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyByYXcgb2JqZWN0cyBpbiBhZGRpdGlvbiB0byBhcnJheS1saWtlcy4gVHJlYXRzIGFsbFxuICAvLyBzcGFyc2UgYXJyYXktbGlrZXMgYXMgaWYgdGhleSB3ZXJlIGRlbnNlLlxuICBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgaSwgbGVuZ3RoO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpba2V5c1tpXV0sIGtleXNbaV0sIG9iaik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQuXG4gIF8ubWFwID0gXy5jb2xsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICByZXN1bHRzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgcmVzdWx0c1tpbmRleF0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIHJlZHVjaW5nIGZ1bmN0aW9uIGl0ZXJhdGluZyBsZWZ0IG9yIHJpZ2h0LlxuICBmdW5jdGlvbiBjcmVhdGVSZWR1Y2UoZGlyKSB7XG4gICAgLy8gT3B0aW1pemVkIGl0ZXJhdG9yIGZ1bmN0aW9uIGFzIHVzaW5nIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAvLyBpbiB0aGUgbWFpbiBmdW5jdGlvbiB3aWxsIGRlb3B0aW1pemUgdGhlLCBzZWUgIzE5OTEuXG4gICAgZnVuY3Rpb24gaXRlcmF0b3Iob2JqLCBpdGVyYXRlZSwgbWVtbywga2V5cywgaW5kZXgsIGxlbmd0aCkge1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgICBtZW1vID0gaXRlcmF0ZWUobWVtbywgb2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGNvbnRleHQpIHtcbiAgICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgNCk7XG4gICAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBpbml0aWFsIHZhbHVlIGlmIG5vbmUgaXMgcHJvdmlkZWQuXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgbWVtbyA9IG9ialtrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGRpcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvcihvYmosIGl0ZXJhdGVlLCBtZW1vLCBrZXlzLCBpbmRleCwgbGVuZ3RoKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gKipSZWR1Y2UqKiBidWlsZHMgdXAgYSBzaW5nbGUgcmVzdWx0IGZyb20gYSBsaXN0IG9mIHZhbHVlcywgYWthIGBpbmplY3RgLFxuICAvLyBvciBgZm9sZGxgLlxuICBfLnJlZHVjZSA9IF8uZm9sZGwgPSBfLmluamVjdCA9IGNyZWF0ZVJlZHVjZSgxKTtcblxuICAvLyBUaGUgcmlnaHQtYXNzb2NpYXRpdmUgdmVyc2lvbiBvZiByZWR1Y2UsIGFsc28ga25vd24gYXMgYGZvbGRyYC5cbiAgXy5yZWR1Y2VSaWdodCA9IF8uZm9sZHIgPSBjcmVhdGVSZWR1Y2UoLTEpO1xuXG4gIC8vIFJldHVybiB0aGUgZmlyc3QgdmFsdWUgd2hpY2ggcGFzc2VzIGEgdHJ1dGggdGVzdC4gQWxpYXNlZCBhcyBgZGV0ZWN0YC5cbiAgXy5maW5kID0gXy5kZXRlY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBrZXk7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIGtleSA9IF8uZmluZEluZGV4KG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gXy5maW5kS2V5KG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKGtleSAhPT0gdm9pZCAwICYmIGtleSAhPT0gLTEpIHJldHVybiBvYmpba2V5XTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyB0aGF0IHBhc3MgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBzZWxlY3RgLlxuICBfLmZpbHRlciA9IF8uc2VsZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgbGlzdCkpIHJlc3VsdHMucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgZm9yIHdoaWNoIGEgdHJ1dGggdGVzdCBmYWlscy5cbiAgXy5yZWplY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubmVnYXRlKGNiKHByZWRpY2F0ZSkpLCBjb250ZXh0KTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgd2hldGhlciBhbGwgb2YgdGhlIGVsZW1lbnRzIG1hdGNoIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgYWxsYC5cbiAgXy5ldmVyeSA9IF8uYWxsID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICBpZiAoIXByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgbWF0Y2hlcyBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFueWAuXG4gIF8uc29tZSA9IF8uYW55ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICBpZiAocHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgdGhlIGFycmF5IG9yIG9iamVjdCBjb250YWlucyBhIGdpdmVuIGl0ZW0gKHVzaW5nIGA9PT1gKS5cbiAgLy8gQWxpYXNlZCBhcyBgaW5jbHVkZXNgIGFuZCBgaW5jbHVkZWAuXG4gIF8uY29udGFpbnMgPSBfLmluY2x1ZGVzID0gXy5pbmNsdWRlID0gZnVuY3Rpb24ob2JqLCBpdGVtLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgIGlmICh0eXBlb2YgZnJvbUluZGV4ICE9ICdudW1iZXInIHx8IGd1YXJkKSBmcm9tSW5kZXggPSAwO1xuICAgIHJldHVybiBfLmluZGV4T2Yob2JqLCBpdGVtLCBmcm9tSW5kZXgpID49IDA7XG4gIH07XG5cbiAgLy8gSW52b2tlIGEgbWV0aG9kICh3aXRoIGFyZ3VtZW50cykgb24gZXZlcnkgaXRlbSBpbiBhIGNvbGxlY3Rpb24uXG4gIF8uaW52b2tlID0gZnVuY3Rpb24ob2JqLCBtZXRob2QpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgaXNGdW5jID0gXy5pc0Z1bmN0aW9uKG1ldGhvZCk7XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNGdW5jID8gbWV0aG9kIDogdmFsdWVbbWV0aG9kXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyBmdW5jIDogZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgbWFwYDogZmV0Y2hpbmcgYSBwcm9wZXJ0eS5cbiAgXy5wbHVjayA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgXy5wcm9wZXJ0eShrZXkpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaWx0ZXJgOiBzZWxlY3Rpbmcgb25seSBvYmplY3RzXG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ud2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5tYXRjaGVyKGF0dHJzKSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmluZGA6IGdldHRpbmcgdGhlIGZpcnN0IG9iamVjdFxuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmZpbmRXaGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maW5kKG9iaiwgXy5tYXRjaGVyKGF0dHJzKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtYXhpbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1heCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gLUluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSAtSW5maW5pdHksXG4gICAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCAmJiBvYmogIT0gbnVsbCkge1xuICAgICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgICBpZiAodmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgICAgIGlmIChjb21wdXRlZCA+IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gLUluZmluaXR5ICYmIHJlc3VsdCA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5taW4gPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IEluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA8IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkIDwgbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSBJbmZpbml0eSAmJiByZXN1bHQgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFNodWZmbGUgYSBjb2xsZWN0aW9uLCB1c2luZyB0aGUgbW9kZXJuIHZlcnNpb24gb2YgdGhlXG4gIC8vIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXLigJNZYXRlc19zaHVmZmxlKS5cbiAgXy5zaHVmZmxlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHNldCA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBzZXQubGVuZ3RoO1xuICAgIHZhciBzaHVmZmxlZCA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwLCByYW5kOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgcmFuZCA9IF8ucmFuZG9tKDAsIGluZGV4KTtcbiAgICAgIGlmIChyYW5kICE9PSBpbmRleCkgc2h1ZmZsZWRbaW5kZXhdID0gc2h1ZmZsZWRbcmFuZF07XG4gICAgICBzaHVmZmxlZFtyYW5kXSA9IHNldFtpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBzaHVmZmxlZDtcbiAgfTtcblxuICAvLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbi5cbiAgLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbiAgLy8gVGhlIGludGVybmFsIGBndWFyZGAgYXJndW1lbnQgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgbWFwYC5cbiAgXy5zYW1wbGUgPSBmdW5jdGlvbihvYmosIG4sIGd1YXJkKSB7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgICAgcmV0dXJuIG9ialtfLnJhbmRvbShvYmoubGVuZ3RoIC0gMSldO1xuICAgIH1cbiAgICByZXR1cm4gXy5zaHVmZmxlKG9iaikuc2xpY2UoMCwgTWF0aC5tYXgoMCwgbikpO1xuICB9O1xuXG4gIC8vIFNvcnQgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiBwcm9kdWNlZCBieSBhbiBpdGVyYXRlZS5cbiAgXy5zb3J0QnkgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIF8ucGx1Y2soXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBjcml0ZXJpYTogaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KVxuICAgICAgfTtcbiAgICB9KS5zb3J0KGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWE7XG4gICAgICB2YXIgYiA9IHJpZ2h0LmNyaXRlcmlhO1xuICAgICAgaWYgKGEgIT09IGIpIHtcbiAgICAgICAgaWYgKGEgPiBiIHx8IGEgPT09IHZvaWQgMCkgcmV0dXJuIDE7XG4gICAgICAgIGlmIChhIDwgYiB8fCBiID09PSB2b2lkIDApIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZWZ0LmluZGV4IC0gcmlnaHQuaW5kZXg7XG4gICAgfSksICd2YWx1ZScpO1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIHVzZWQgZm9yIGFnZ3JlZ2F0ZSBcImdyb3VwIGJ5XCIgb3BlcmF0aW9ucy5cbiAgdmFyIGdyb3VwID0gZnVuY3Rpb24oYmVoYXZpb3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgICAgYmVoYXZpb3IocmVzdWx0LCB2YWx1ZSwga2V5KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdyb3VwcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLiBQYXNzIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGVcbiAgLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG4gIF8uZ3JvdXBCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldLnB1c2godmFsdWUpOyBlbHNlIHJlc3VsdFtrZXldID0gW3ZhbHVlXTtcbiAgfSk7XG5cbiAgLy8gSW5kZXhlcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLCBzaW1pbGFyIHRvIGBncm91cEJ5YCwgYnV0IGZvclxuICAvLyB3aGVuIHlvdSBrbm93IHRoYXQgeW91ciBpbmRleCB2YWx1ZXMgd2lsbCBiZSB1bmlxdWUuXG4gIF8uaW5kZXhCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gIH0pO1xuXG4gIC8vIENvdW50cyBpbnN0YW5jZXMgb2YgYW4gb2JqZWN0IHRoYXQgZ3JvdXAgYnkgYSBjZXJ0YWluIGNyaXRlcmlvbi4gUGFzc1xuICAvLyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlIHRvIGNvdW50IGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGVcbiAgLy8gY3JpdGVyaW9uLlxuICBfLmNvdW50QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoXy5oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XSsrOyBlbHNlIHJlc3VsdFtrZXldID0gMTtcbiAgfSk7XG5cbiAgLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbiAgXy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikpIHJldHVybiBzbGljZS5jYWxsKG9iaik7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBfLnZhbHVlcyhvYmopO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqKSA/IG9iai5sZW5ndGggOiBfLmtleXMob2JqKS5sZW5ndGg7XG4gIH07XG5cbiAgLy8gU3BsaXQgYSBjb2xsZWN0aW9uIGludG8gdHdvIGFycmF5czogb25lIHdob3NlIGVsZW1lbnRzIGFsbCBzYXRpc2Z5IHRoZSBnaXZlblxuICAvLyBwcmVkaWNhdGUsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG4gIF8ucGFydGl0aW9uID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBwYXNzID0gW10sIGZhaWwgPSBbXTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmopIHtcbiAgICAgIChwcmVkaWNhdGUodmFsdWUsIGtleSwgb2JqKSA/IHBhc3MgOiBmYWlsKS5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW3Bhc3MsIGZhaWxdO1xuICB9O1xuXG4gIC8vIEFycmF5IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS1cblxuICAvLyBHZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGZpcnN0IE5cbiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgaGVhZGAgYW5kIGB0YWtlYC4gVGhlICoqZ3VhcmQqKiBjaGVja1xuICAvLyBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG4gIF8uZmlyc3QgPSBfLmhlYWQgPSBfLnRha2UgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbMF07XG4gICAgcmV0dXJuIF8uaW5pdGlhbChhcnJheSwgYXJyYXkubGVuZ3RoIC0gbik7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgbGFzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEVzcGVjaWFsbHkgdXNlZnVsIG9uXG4gIC8vIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIGFsbCB0aGUgdmFsdWVzIGluXG4gIC8vIHRoZSBhcnJheSwgZXhjbHVkaW5nIHRoZSBsYXN0IE4uXG4gIF8uaW5pdGlhbCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAwLCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSAobiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pKSk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGxhc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuICBfLmxhc3QgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIF8ucmVzdChhcnJheSwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gbikpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgdGFpbGAgYW5kIGBkcm9wYC5cbiAgLy8gRXNwZWNpYWxseSB1c2VmdWwgb24gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm5cbiAgLy8gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuICBfLnJlc3QgPSBfLnRhaWwgPSBfLmRyb3AgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIF8uaWRlbnRpdHkpO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgc3RyaWN0LCBzdGFydEluZGV4KSB7XG4gICAgdmFyIG91dHB1dCA9IFtdLCBpZHggPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4IHx8IDAsIGxlbmd0aCA9IGdldExlbmd0aChpbnB1dCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmIChfLmlzQXJyYXkodmFsdWUpIHx8IF8uaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAvL2ZsYXR0ZW4gY3VycmVudCBsZXZlbCBvZiBhcnJheSBvciBhcmd1bWVudHMgb2JqZWN0XG4gICAgICAgIGlmICghc2hhbGxvdykgdmFsdWUgPSBmbGF0dGVuKHZhbHVlLCBzaGFsbG93LCBzdHJpY3QpO1xuICAgICAgICB2YXIgaiA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgb3V0cHV0Lmxlbmd0aCArPSBsZW47XG4gICAgICAgIHdoaWxlIChqIDwgbGVuKSB7XG4gICAgICAgICAgb3V0cHV0W2lkeCsrXSA9IHZhbHVlW2orK107XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCkge1xuICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4gIF8ud2l0aG91dCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uXG4gIC8vIEFsaWFzZWQgYXMgYHVuaXF1ZWAuXG4gIF8udW5pcSA9IF8udW5pcXVlID0gZnVuY3Rpb24oYXJyYXksIGlzU29ydGVkLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGlmICghXy5pc0Jvb2xlYW4oaXNTb3J0ZWQpKSB7XG4gICAgICBjb250ZXh0ID0gaXRlcmF0ZWU7XG4gICAgICBpdGVyYXRlZSA9IGlzU29ydGVkO1xuICAgICAgaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGl0ZXJhdGVlICE9IG51bGwpIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgc2VlbiA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2ldLFxuICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSwgaSwgYXJyYXkpIDogdmFsdWU7XG4gICAgICBpZiAoaXNTb3J0ZWQpIHtcbiAgICAgICAgaWYgKCFpIHx8IHNlZW4gIT09IGNvbXB1dGVkKSByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFfLmNvbnRhaW5zKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bmlxKGZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuICAvLyBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgaWYgKF8uY29udGFpbnMocmVzdWx0LCBpdGVtKSkgY29udGludWU7XG4gICAgICBmb3IgKHZhciBqID0gMTsgaiA8IGFyZ3NMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoYXJndW1lbnRzW2pdLCBpdGVtKSkgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoaiA9PT0gYXJnc0xlbmd0aCkgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gVGFrZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9uZSBhcnJheSBhbmQgYSBudW1iZXIgb2Ygb3RoZXIgYXJyYXlzLlxuICAvLyBPbmx5IHRoZSBlbGVtZW50cyBwcmVzZW50IGluIGp1c3QgdGhlIGZpcnN0IGFycmF5IHdpbGwgcmVtYWluLlxuICBfLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciByZXN0ID0gZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUsIDEpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBaaXAgdG9nZXRoZXIgbXVsdGlwbGUgbGlzdHMgaW50byBhIHNpbmdsZSBhcnJheSAtLSBlbGVtZW50cyB0aGF0IHNoYXJlXG4gIC8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuICBfLnppcCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuemlwKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgLy8gQ29tcGxlbWVudCBvZiBfLnppcC4gVW56aXAgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgYW5kIGdyb3Vwc1xuICAvLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXNcbiAgXy51bnppcCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ICYmIF8ubWF4KGFycmF5LCBnZXRMZW5ndGgpLmxlbmd0aCB8fCAwO1xuICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IF8ucGx1Y2soYXJyYXksIGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBDb252ZXJ0cyBsaXN0cyBpbnRvIG9iamVjdHMuIFBhc3MgZWl0aGVyIGEgc2luZ2xlIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gXG4gIC8vIHBhaXJzLCBvciB0d28gcGFyYWxsZWwgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCAtLSBvbmUgb2Yga2V5cywgYW5kIG9uZSBvZlxuICAvLyB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gIF8ub2JqZWN0ID0gZnVuY3Rpb24obGlzdCwgdmFsdWVzKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgobGlzdCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICByZXN1bHRbbGlzdFtpXV0gPSB2YWx1ZXNbaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbbGlzdFtpXVswXV0gPSBsaXN0W2ldWzFdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRvciBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGZpbmRJbmRleCBhbmQgZmluZExhc3RJbmRleCBmdW5jdGlvbnNcbiAgZnVuY3Rpb24gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoZGlyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIHZhciBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0XG4gIF8uZmluZEluZGV4ID0gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoMSk7XG4gIF8uZmluZExhc3RJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKC0xKTtcblxuICAvLyBVc2UgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgdGhlIHNtYWxsZXN0IGluZGV4IGF0IHdoaWNoXG4gIC8vIGFuIG9iamVjdCBzaG91bGQgYmUgaW5zZXJ0ZWQgc28gYXMgdG8gbWFpbnRhaW4gb3JkZXIuIFVzZXMgYmluYXJ5IHNlYXJjaC5cbiAgXy5zb3J0ZWRJbmRleCA9IGZ1bmN0aW9uKGFycmF5LCBvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgdmFyIHZhbHVlID0gaXRlcmF0ZWUob2JqKTtcbiAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgIHZhciBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W21pZF0pIDwgdmFsdWUpIGxvdyA9IG1pZCArIDE7IGVsc2UgaGlnaCA9IG1pZDtcbiAgICB9XG4gICAgcmV0dXJuIGxvdztcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBpbmRleE9mIGFuZCBsYXN0SW5kZXhPZiBmdW5jdGlvbnNcbiAgZnVuY3Rpb24gY3JlYXRlSW5kZXhGaW5kZXIoZGlyLCBwcmVkaWNhdGVGaW5kLCBzb3J0ZWRJbmRleCkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcnJheSwgaXRlbSwgaWR4KSB7XG4gICAgICB2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgICBpZiAodHlwZW9mIGlkeCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICAgICAgaSA9IGlkeCA+PSAwID8gaWR4IDogTWF0aC5tYXgoaWR4ICsgbGVuZ3RoLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IGlkeCA+PSAwID8gTWF0aC5taW4oaWR4ICsgMSwgbGVuZ3RoKSA6IGlkeCArIGxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc29ydGVkSW5kZXggJiYgaWR4ICYmIGxlbmd0aCkge1xuICAgICAgICBpZHggPSBzb3J0ZWRJbmRleChhcnJheSwgaXRlbSk7XG4gICAgICAgIHJldHVybiBhcnJheVtpZHhdID09PSBpdGVtID8gaWR4IDogLTE7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbSAhPT0gaXRlbSkge1xuICAgICAgICBpZHggPSBwcmVkaWNhdGVGaW5kKHNsaWNlLmNhbGwoYXJyYXksIGksIGxlbmd0aCksIF8uaXNOYU4pO1xuICAgICAgICByZXR1cm4gaWR4ID49IDAgPyBpZHggKyBpIDogLTE7XG4gICAgICB9XG4gICAgICBmb3IgKGlkeCA9IGRpciA+IDAgPyBpIDogbGVuZ3RoIC0gMTsgaWR4ID49IDAgJiYgaWR4IDwgbGVuZ3RoOyBpZHggKz0gZGlyKSB7XG4gICAgICAgIGlmIChhcnJheVtpZHhdID09PSBpdGVtKSByZXR1cm4gaWR4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH1cblxuICAvLyBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFuIGl0ZW0gaW4gYW4gYXJyYXksXG4gIC8vIG9yIC0xIGlmIHRoZSBpdGVtIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgYXJyYXkuXG4gIC8vIElmIHRoZSBhcnJheSBpcyBsYXJnZSBhbmQgYWxyZWFkeSBpbiBzb3J0IG9yZGVyLCBwYXNzIGB0cnVlYFxuICAvLyBmb3IgKippc1NvcnRlZCoqIHRvIHVzZSBiaW5hcnkgc2VhcmNoLlxuICBfLmluZGV4T2YgPSBjcmVhdGVJbmRleEZpbmRlcigxLCBfLmZpbmRJbmRleCwgXy5zb3J0ZWRJbmRleCk7XG4gIF8ubGFzdEluZGV4T2YgPSBjcmVhdGVJbmRleEZpbmRlcigtMSwgXy5maW5kTGFzdEluZGV4KTtcblxuICAvLyBHZW5lcmF0ZSBhbiBpbnRlZ2VyIEFycmF5IGNvbnRhaW5pbmcgYW4gYXJpdGhtZXRpYyBwcm9ncmVzc2lvbi4gQSBwb3J0IG9mXG4gIC8vIHRoZSBuYXRpdmUgUHl0aG9uIGByYW5nZSgpYCBmdW5jdGlvbi4gU2VlXG4gIC8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9mdW5jdGlvbnMuaHRtbCNyYW5nZSkuXG4gIF8ucmFuZ2UgPSBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkge1xuICAgIGlmIChzdG9wID09IG51bGwpIHtcbiAgICAgIHN0b3AgPSBzdGFydCB8fCAwO1xuICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBzdGVwID0gc3RlcCB8fCAxO1xuXG4gICAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KE1hdGguY2VpbCgoc3RvcCAtIHN0YXJ0KSAvIHN0ZXApLCAwKTtcbiAgICB2YXIgcmFuZ2UgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKywgc3RhcnQgKz0gc3RlcCkge1xuICAgICAgcmFuZ2VbaWR4XSA9IHN0YXJ0O1xuICAgIH1cblxuICAgIHJldHVybiByYW5nZTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiAoYWhlbSkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIERldGVybWluZXMgd2hldGhlciB0byBleGVjdXRlIGEgZnVuY3Rpb24gYXMgYSBjb25zdHJ1Y3RvclxuICAvLyBvciBhIG5vcm1hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudHNcbiAgdmFyIGV4ZWN1dGVCb3VuZCA9IGZ1bmN0aW9uKHNvdXJjZUZ1bmMsIGJvdW5kRnVuYywgY29udGV4dCwgY2FsbGluZ0NvbnRleHQsIGFyZ3MpIHtcbiAgICBpZiAoIShjYWxsaW5nQ29udGV4dCBpbnN0YW5jZW9mIGJvdW5kRnVuYykpIHJldHVybiBzb3VyY2VGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIHZhciBzZWxmID0gYmFzZUNyZWF0ZShzb3VyY2VGdW5jLnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3VsdCA9IHNvdXJjZUZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgaWYgKF8uaXNPYmplY3QocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cyxcbiAgLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuICAvLyBhdmFpbGFibGUuXG4gIF8uYmluZCA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQpIHtcbiAgICBpZiAobmF0aXZlQmluZCAmJiBmdW5jLmJpbmQgPT09IG5hdGl2ZUJpbmQpIHJldHVybiBuYXRpdmVCaW5kLmFwcGx5KGZ1bmMsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgaWYgKCFfLmlzRnVuY3Rpb24oZnVuYykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JpbmQgbXVzdCBiZSBjYWxsZWQgb24gYSBmdW5jdGlvbicpO1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgY29udGV4dCwgdGhpcywgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgfTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC4gXyBhY3RzXG4gIC8vIGFzIGEgcGxhY2Vob2xkZXIsIGFsbG93aW5nIGFueSBjb21iaW5hdGlvbiBvZiBhcmd1bWVudHMgdG8gYmUgcHJlLWZpbGxlZC5cbiAgXy5wYXJ0aWFsID0gZnVuY3Rpb24oZnVuYykge1xuICAgIHZhciBib3VuZEFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSAwLCBsZW5ndGggPSBib3VuZEFyZ3MubGVuZ3RoO1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBhcmdzW2ldID0gYm91bmRBcmdzW2ldID09PSBfID8gYXJndW1lbnRzW3Bvc2l0aW9uKytdIDogYm91bmRBcmdzW2ldO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCB0aGlzLCB0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfTtcblxuICAvLyBCaW5kIGEgbnVtYmVyIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFJlbWFpbmluZyBhcmd1bWVudHNcbiAgLy8gYXJlIHRoZSBtZXRob2QgbmFtZXMgdG8gYmUgYm91bmQuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdCBhbGwgY2FsbGJhY2tzXG4gIC8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGksIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsIGtleTtcbiAgICBpZiAobGVuZ3RoIDw9IDEpIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gYXJndW1lbnRzW2ldO1xuICAgICAgb2JqW2tleV0gPSBfLmJpbmQob2JqW2tleV0sIG9iaik7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gTWVtb2l6ZSBhbiBleHBlbnNpdmUgZnVuY3Rpb24gYnkgc3RvcmluZyBpdHMgcmVzdWx0cy5cbiAgXy5tZW1vaXplID0gZnVuY3Rpb24oZnVuYywgaGFzaGVyKSB7XG4gICAgdmFyIG1lbW9pemUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBjYWNoZSA9IG1lbW9pemUuY2FjaGU7XG4gICAgICB2YXIgYWRkcmVzcyA9ICcnICsgKGhhc2hlciA/IGhhc2hlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDoga2V5KTtcbiAgICAgIGlmICghXy5oYXMoY2FjaGUsIGFkZHJlc3MpKSBjYWNoZVthZGRyZXNzXSA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBjYWNoZVthZGRyZXNzXTtcbiAgICB9O1xuICAgIG1lbW9pemUuY2FjaGUgPSB7fTtcbiAgICByZXR1cm4gbWVtb2l6ZTtcbiAgfTtcblxuICAvLyBEZWxheXMgYSBmdW5jdGlvbiBmb3IgdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFuZCB0aGVuIGNhbGxzXG4gIC8vIGl0IHdpdGggdGhlIGFyZ3VtZW50cyBzdXBwbGllZC5cbiAgXy5kZWxheSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfSwgd2FpdCk7XG4gIH07XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBfLnBhcnRpYWwoXy5kZWxheSwgXywgMSk7XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgYXQgbW9zdCBvbmNlXG4gIC8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuICAvLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4gIC8vIGJ1dCBpZiB5b3UnZCBsaWtlIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLCBwYXNzXG4gIC8vIGB7bGVhZGluZzogZmFsc2V9YC4gVG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UsIGRpdHRvLlxuICBfLnRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91cyA9IDA7XG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogXy5ub3coKTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IF8ubm93KCk7XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4gIC8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3JcbiAgLy8gTiBtaWxsaXNlY29uZHMuIElmIGBpbW1lZGlhdGVgIGlzIHBhc3NlZCwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gb24gdGhlXG4gIC8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG4gIF8uZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICB2YXIgdGltZW91dCwgYXJncywgY29udGV4dCwgdGltZXN0YW1wLCByZXN1bHQ7XG5cbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsYXN0ID0gXy5ub3coKSAtIHRpbWVzdGFtcDtcblxuICAgICAgaWYgKGxhc3QgPCB3YWl0ICYmIGxhc3QgPj0gMCkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB0aW1lc3RhbXAgPSBfLm5vdygpO1xuICAgICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgICBpZiAoIXRpbWVvdXQpIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGZ1bmN0aW9uIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgc2Vjb25kLFxuICAvLyBhbGxvd2luZyB5b3UgdG8gYWRqdXN0IGFyZ3VtZW50cywgcnVuIGNvZGUgYmVmb3JlIGFuZCBhZnRlciwgYW5kXG4gIC8vIGNvbmRpdGlvbmFsbHkgZXhlY3V0ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG4gIF8ud3JhcCA9IGZ1bmN0aW9uKGZ1bmMsIHdyYXBwZXIpIHtcbiAgICByZXR1cm4gXy5wYXJ0aWFsKHdyYXBwZXIsIGZ1bmMpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBuZWdhdGVkIHZlcnNpb24gb2YgdGhlIHBhc3NlZC1pbiBwcmVkaWNhdGUuXG4gIF8ubmVnYXRlID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBhIGxpc3Qgb2YgZnVuY3Rpb25zLCBlYWNoXG4gIC8vIGNvbnN1bWluZyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGZvbGxvd3MuXG4gIF8uY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBzdGFydCA9IGFyZ3MubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaSA9IHN0YXJ0O1xuICAgICAgdmFyIHJlc3VsdCA9IGFyZ3Nbc3RhcnRdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB3aGlsZSAoaS0tKSByZXN1bHQgPSBhcmdzW2ldLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgb24gYW5kIGFmdGVyIHRoZSBOdGggY2FsbC5cbiAgXy5hZnRlciA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPCAxKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgdXAgdG8gKGJ1dCBub3QgaW5jbHVkaW5nKSB0aGUgTnRoIGNhbGwuXG4gIF8uYmVmb3JlID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICB2YXIgbWVtbztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA+IDApIHtcbiAgICAgICAgbWVtbyA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aW1lcyA8PSAxKSBmdW5jID0gbnVsbDtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhdCBtb3N0IG9uZSB0aW1lLCBubyBtYXR0ZXIgaG93XG4gIC8vIG9mdGVuIHlvdSBjYWxsIGl0LiBVc2VmdWwgZm9yIGxhenkgaW5pdGlhbGl6YXRpb24uXG4gIF8ub25jZSA9IF8ucGFydGlhbChfLmJlZm9yZSwgMik7XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gS2V5cyBpbiBJRSA8IDkgdGhhdCB3b24ndCBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC5cbiAgdmFyIGhhc0VudW1CdWcgPSAhe3RvU3RyaW5nOiBudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKTtcbiAgdmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFsndmFsdWVPZicsICdpc1Byb3RvdHlwZU9mJywgJ3RvU3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLCAnaGFzT3duUHJvcGVydHknLCAndG9Mb2NhbGVTdHJpbmcnXTtcblxuICBmdW5jdGlvbiBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cykge1xuICAgIHZhciBub25FbnVtSWR4ID0gbm9uRW51bWVyYWJsZVByb3BzLmxlbmd0aDtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBvYmouY29uc3RydWN0b3I7XG4gICAgdmFyIHByb3RvID0gKF8uaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikgJiYgY29uc3RydWN0b3IucHJvdG90eXBlKSB8fCBPYmpQcm90bztcblxuICAgIC8vIENvbnN0cnVjdG9yIGlzIGEgc3BlY2lhbCBjYXNlLlxuICAgIHZhciBwcm9wID0gJ2NvbnN0cnVjdG9yJztcbiAgICBpZiAoXy5oYXMob2JqLCBwcm9wKSAmJiAhXy5jb250YWlucyhrZXlzLCBwcm9wKSkga2V5cy5wdXNoKHByb3ApO1xuXG4gICAgd2hpbGUgKG5vbkVudW1JZHgtLSkge1xuICAgICAgcHJvcCA9IG5vbkVudW1lcmFibGVQcm9wc1tub25FbnVtSWR4XTtcbiAgICAgIGlmIChwcm9wIGluIG9iaiAmJiBvYmpbcHJvcF0gIT09IHByb3RvW3Byb3BdICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSB7XG4gICAgICAgIGtleXMucHVzaChwcm9wKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2BcbiAgXy5rZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICBpZiAobmF0aXZlS2V5cykgcmV0dXJuIG5hdGl2ZUtleXMob2JqKTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICAgIC8vIEFoZW0sIElFIDwgOS5cbiAgICBpZiAoaGFzRW51bUJ1ZykgY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIGFsbCB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYW4gb2JqZWN0LlxuICBfLmFsbEtleXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgdGhlIHZhbHVlcyBvZiBhbiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICBfLnZhbHVlcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciB2YWx1ZXMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlc1tpXSA9IG9ialtrZXlzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQgb2YgdGhlIG9iamVjdFxuICAvLyBJbiBjb250cmFzdCB0byBfLm1hcCBpdCByZXR1cm5zIGFuIG9iamVjdFxuICBfLm1hcE9iamVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICBfLmtleXMob2JqKSxcbiAgICAgICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHRzID0ge30sXG4gICAgICAgICAgY3VycmVudEtleTtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY3VycmVudEtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICByZXN1bHRzW2N1cnJlbnRLZXldID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gIF8ucGFpcnMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgcGFpcnMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXJzW2ldID0gW2tleXNbaV0sIG9ialtrZXlzW2ldXV07XG4gICAgfVxuICAgIHJldHVybiBwYWlycztcbiAgfTtcblxuICAvLyBJbnZlcnQgdGhlIGtleXMgYW5kIHZhbHVlcyBvZiBhbiBvYmplY3QuIFRoZSB2YWx1ZXMgbXVzdCBiZSBzZXJpYWxpemFibGUuXG4gIF8uaW52ZXJ0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc3VsdFtvYmpba2V5c1tpXV1dID0ga2V5c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0aGUgZnVuY3Rpb24gbmFtZXMgYXZhaWxhYmxlIG9uIHRoZSBvYmplY3QuXG4gIC8vIEFsaWFzZWQgYXMgYG1ldGhvZHNgXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMpO1xuXG4gIC8vIEFzc2lnbnMgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIG93biBwcm9wZXJ0aWVzIGluIHRoZSBwYXNzZWQtaW4gb2JqZWN0KHMpXG4gIC8vIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduKVxuICBfLmV4dGVuZE93biA9IF8uYXNzaWduID0gY3JlYXRlQXNzaWduZXIoXy5rZXlzKTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBrZXkgb24gYW4gb2JqZWN0IHRoYXQgcGFzc2VzIGEgcHJlZGljYXRlIHRlc3RcbiAgXy5maW5kS2V5ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaiksIGtleTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2tleV0sIGtleSwgb2JqKSkgcmV0dXJuIGtleTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgd2hpdGVsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5waWNrID0gZnVuY3Rpb24ob2JqZWN0LCBvaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0ge30sIG9iaiA9IG9iamVjdCwgaXRlcmF0ZWUsIGtleXM7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0O1xuICAgIGlmIChfLmlzRnVuY3Rpb24ob2l0ZXJhdGVlKSkge1xuICAgICAga2V5cyA9IF8uYWxsS2V5cyhvYmopO1xuICAgICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKG9pdGVyYXRlZSwgY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleXMgPSBmbGF0dGVuKGFyZ3VtZW50cywgZmFsc2UsIGZhbHNlLCAxKTtcbiAgICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7IHJldHVybiBrZXkgaW4gb2JqOyB9O1xuICAgICAgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgaWYgKGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iaikpIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCB3aXRob3V0IHRoZSBibGFja2xpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLm9taXQgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGl0ZXJhdGVlID0gXy5uZWdhdGUoaXRlcmF0ZWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IF8ubWFwKGZsYXR0ZW4oYXJndW1lbnRzLCBmYWxzZSwgZmFsc2UsIDEpLCBTdHJpbmcpO1xuICAgICAgaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIHJldHVybiAhXy5jb250YWlucyhrZXlzLCBrZXkpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIF8ucGljayhvYmosIGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgfTtcblxuICAvLyBGaWxsIGluIGEgZ2l2ZW4gb2JqZWN0IHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBfLmRlZmF1bHRzID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzLCB0cnVlKTtcblxuICAvLyBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGdpdmVuIHByb3RvdHlwZSBvYmplY3QuXG4gIC8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gIC8vIGNyZWF0ZWQgb2JqZWN0LlxuICBfLmNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSwgcHJvcHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIGlmIChwcm9wcykgXy5leHRlbmRPd24ocmVzdWx0LCBwcm9wcyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSAoc2hhbGxvdy1jbG9uZWQpIGR1cGxpY2F0ZSBvZiBhbiBvYmplY3QuXG4gIF8uY2xvbmUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgICByZXR1cm4gXy5pc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IF8uZXh0ZW5kKHt9LCBvYmopO1xuICB9O1xuXG4gIC8vIEludm9rZXMgaW50ZXJjZXB0b3Igd2l0aCB0aGUgb2JqLCBhbmQgdGhlbiByZXR1cm5zIG9iai5cbiAgLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4sIGluXG4gIC8vIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW4gdGhlIGNoYWluLlxuICBfLnRhcCA9IGZ1bmN0aW9uKG9iaiwgaW50ZXJjZXB0b3IpIHtcbiAgICBpbnRlcmNlcHRvcihvYmopO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2YgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uaXNNYXRjaCA9IGZ1bmN0aW9uKG9iamVjdCwgYXR0cnMpIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhhdHRycyksIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICFsZW5ndGg7XG4gICAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKGF0dHJzW2tleV0gIT09IG9ialtrZXldIHx8ICEoa2V5IGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cblxuICAvLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuICB2YXIgZXEgPSBmdW5jdGlvbihhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAgIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsKS5cbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAgIC8vIEEgc3RyaWN0IGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5IGJlY2F1c2UgYG51bGwgPT0gdW5kZWZpbmVkYC5cbiAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGEgPT09IGI7XG4gICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBfKSBhID0gYS5fd3JhcHBlZDtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAgIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTdHJpbmdzLCBudW1iZXJzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBkYXRlcywgYW5kIGJvb2xlYW5zIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgICByZXR1cm4gJycgKyBhID09PSAnJyArIGI7XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICAgICAgICAvLyBPYmplY3QoTmFOKSBpcyBlcXVpdmFsZW50IHRvIE5hTlxuICAgICAgICBpZiAoK2EgIT09ICthKSByZXR1cm4gK2IgIT09ICtiO1xuICAgICAgICAvLyBBbiBgZWdhbGAgY29tcGFyaXNvbiBpcyBwZXJmb3JtZWQgZm9yIG90aGVyIG51bWVyaWMgdmFsdWVzLlxuICAgICAgICByZXR1cm4gK2EgPT09IDAgPyAxIC8gK2EgPT09IDEgLyBiIDogK2EgPT09ICtiO1xuICAgICAgY2FzZSAnW29iamVjdCBEYXRlXSc6XG4gICAgICBjYXNlICdbb2JqZWN0IEJvb2xlYW5dJzpcbiAgICAgICAgLy8gQ29lcmNlIGRhdGVzIGFuZCBib29sZWFucyB0byBudW1lcmljIHByaW1pdGl2ZSB2YWx1ZXMuIERhdGVzIGFyZSBjb21wYXJlZCBieSB0aGVpclxuICAgICAgICAvLyBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnMuIE5vdGUgdGhhdCBpbnZhbGlkIGRhdGVzIHdpdGggbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zXG4gICAgICAgIC8vIG9mIGBOYU5gIGFyZSBub3QgZXF1aXZhbGVudC5cbiAgICAgICAgcmV0dXJuICthID09PSArYjtcbiAgICB9XG5cbiAgICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIGlmICghYXJlQXJyYXlzKSB7XG4gICAgICBpZiAodHlwZW9mIGEgIT0gJ29iamVjdCcgfHwgdHlwZW9mIGIgIT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gT2JqZWN0cyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVpdmFsZW50LCBidXQgYE9iamVjdGBzIG9yIGBBcnJheWBzXG4gICAgICAvLyBmcm9tIGRpZmZlcmVudCBmcmFtZXMgYXJlLlxuICAgICAgdmFyIGFDdG9yID0gYS5jb25zdHJ1Y3RvciwgYkN0b3IgPSBiLmNvbnN0cnVjdG9yO1xuICAgICAgaWYgKGFDdG9yICE9PSBiQ3RvciAmJiAhKF8uaXNGdW5jdGlvbihhQ3RvcikgJiYgYUN0b3IgaW5zdGFuY2VvZiBhQ3RvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uaXNGdW5jdGlvbihiQ3RvcikgJiYgYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKCdjb25zdHJ1Y3RvcicgaW4gYSAmJiAnY29uc3RydWN0b3InIGluIGIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQXNzdW1lIGVxdWFsaXR5IGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpY1xuICAgIC8vIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gLlxuXG4gICAgLy8gSW5pdGlhbGl6aW5nIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIC8vIEl0J3MgZG9uZSBoZXJlIHNpbmNlIHdlIG9ubHkgbmVlZCB0aGVtIGZvciBvYmplY3RzIGFuZCBhcnJheXMgY29tcGFyaXNvbi5cbiAgICBhU3RhY2sgPSBhU3RhY2sgfHwgW107XG4gICAgYlN0YWNrID0gYlN0YWNrIHx8IFtdO1xuICAgIHZhciBsZW5ndGggPSBhU3RhY2subGVuZ3RoO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgLy8gTGluZWFyIHNlYXJjaC4gUGVyZm9ybWFuY2UgaXMgaW52ZXJzZWx5IHByb3BvcnRpb25hbCB0byB0aGUgbnVtYmVyIG9mXG4gICAgICAvLyB1bmlxdWUgbmVzdGVkIHN0cnVjdHVyZXMuXG4gICAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PT0gYjtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGZpcnN0IG9iamVjdCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgYVN0YWNrLnB1c2goYSk7XG4gICAgYlN0YWNrLnB1c2goYik7XG5cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgICBpZiAoYXJlQXJyYXlzKSB7XG4gICAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIERlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKCFlcShhW2xlbmd0aF0sIGJbbGVuZ3RoXSwgYVN0YWNrLCBiU3RhY2spKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZXAgY29tcGFyZSBvYmplY3RzLlxuICAgICAgdmFyIGtleXMgPSBfLmtleXMoYSksIGtleTtcbiAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgLy8gRW5zdXJlIHRoYXQgYm90aCBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyIG9mIHByb3BlcnRpZXMgYmVmb3JlIGNvbXBhcmluZyBkZWVwIGVxdWFsaXR5LlxuICAgICAgaWYgKF8ua2V5cyhiKS5sZW5ndGggIT09IGxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIC8vIERlZXAgY29tcGFyZSBlYWNoIG1lbWJlclxuICAgICAgICBrZXkgPSBrZXlzW2xlbmd0aF07XG4gICAgICAgIGlmICghKF8uaGFzKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGFTdGFjaywgYlN0YWNrKSkpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBvYmplY3QgZnJvbSB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgYVN0YWNrLnBvcCgpO1xuICAgIGJTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBQZXJmb3JtIGEgZGVlcCBjb21wYXJpc29uIHRvIGNoZWNrIGlmIHR3byBvYmplY3RzIGFyZSBlcXVhbC5cbiAgXy5pc0VxdWFsID0gZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBlcShhLCBiKTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIGFycmF5LCBzdHJpbmcsIG9yIG9iamVjdCBlbXB0eT9cbiAgLy8gQW4gXCJlbXB0eVwiIG9iamVjdCBoYXMgbm8gZW51bWVyYWJsZSBvd24tcHJvcGVydGllcy5cbiAgXy5pc0VtcHR5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSAmJiAoXy5pc0FycmF5KG9iaikgfHwgXy5pc1N0cmluZyhvYmopIHx8IF8uaXNBcmd1bWVudHMob2JqKSkpIHJldHVybiBvYmoubGVuZ3RoID09PSAwO1xuICAgIHJldHVybiBfLmtleXMob2JqKS5sZW5ndGggPT09IDA7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIERPTSBlbGVtZW50P1xuICBfLmlzRWxlbWVudCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiAhIShvYmogJiYgb2JqLm5vZGVUeXBlID09PSAxKTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGFuIGFycmF5P1xuICAvLyBEZWxlZ2F0ZXMgdG8gRUNNQTUncyBuYXRpdmUgQXJyYXkuaXNBcnJheVxuICBfLmlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSBhbiBvYmplY3Q/XG4gIF8uaXNPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgcmV0dXJuIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gJ29iamVjdCcgJiYgISFvYmo7XG4gIH07XG5cbiAgLy8gQWRkIHNvbWUgaXNUeXBlIG1ldGhvZHM6IGlzQXJndW1lbnRzLCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaXNOdW1iZXIsIGlzRGF0ZSwgaXNSZWdFeHAsIGlzRXJyb3IuXG4gIF8uZWFjaChbJ0FyZ3VtZW50cycsICdGdW5jdGlvbicsICdTdHJpbmcnLCAnTnVtYmVyJywgJ0RhdGUnLCAnUmVnRXhwJywgJ0Vycm9yJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBfWydpcycgKyBuYW1lXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgJyArIG5hbWUgKyAnXSc7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuICAvLyB0aGVyZSBpc24ndCBhbnkgaW5zcGVjdGFibGUgXCJBcmd1bWVudHNcIiB0eXBlLlxuICBpZiAoIV8uaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIF8uaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmhhcyhvYmosICdjYWxsZWUnKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gT3B0aW1pemUgYGlzRnVuY3Rpb25gIGlmIGFwcHJvcHJpYXRlLiBXb3JrIGFyb3VuZCBzb21lIHR5cGVvZiBidWdzIGluIG9sZCB2OCxcbiAgLy8gSUUgMTEgKCMxNjIxKSwgYW5kIGluIFNhZmFyaSA4ICgjMTkyOSkuXG4gIGlmICh0eXBlb2YgLy4vICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mIEludDhBcnJheSAhPSAnb2JqZWN0Jykge1xuICAgIF8uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBmYWxzZTtcbiAgICB9O1xuICB9XG5cbiAgLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuICBfLmlzRmluaXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIGlzRmluaXRlKG9iaikgJiYgIWlzTmFOKHBhcnNlRmxvYXQob2JqKSk7XG4gIH07XG5cbiAgLy8gSXMgdGhlIGdpdmVuIHZhbHVlIGBOYU5gPyAoTmFOIGlzIHRoZSBvbmx5IG51bWJlciB3aGljaCBkb2VzIG5vdCBlcXVhbCBpdHNlbGYpLlxuICBfLmlzTmFOID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIF8uaXNOdW1iZXIob2JqKSAmJiBvYmogIT09ICtvYmo7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGJvb2xlYW4/XG4gIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD9cbiAgXy5pc051bGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgdW5kZWZpbmVkP1xuICBfLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwO1xuICB9O1xuXG4gIC8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHlcbiAgLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbiAgXy5oYXMgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbiAgfTtcblxuICAvLyBVdGlsaXR5IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFJ1biBVbmRlcnNjb3JlLmpzIGluICpub0NvbmZsaWN0KiBtb2RlLCByZXR1cm5pbmcgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHNcbiAgLy8gcHJldmlvdXMgb3duZXIuIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICByb290Ll8gPSBwcmV2aW91c1VuZGVyc2NvcmU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gS2VlcCB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gYXJvdW5kIGZvciBkZWZhdWx0IGl0ZXJhdGVlcy5cbiAgXy5pZGVudGl0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIC8vIFByZWRpY2F0ZS1nZW5lcmF0aW5nIGZ1bmN0aW9ucy4gT2Z0ZW4gdXNlZnVsIG91dHNpZGUgb2YgVW5kZXJzY29yZS5cbiAgXy5jb25zdGFudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gIH07XG5cbiAgXy5ub29wID0gZnVuY3Rpb24oKXt9O1xuXG4gIF8ucHJvcGVydHkgPSBwcm9wZXJ0eTtcblxuICAvLyBHZW5lcmF0ZXMgYSBmdW5jdGlvbiBmb3IgYSBnaXZlbiBvYmplY3QgdGhhdCByZXR1cm5zIGEgZ2l2ZW4gcHJvcGVydHkuXG4gIF8ucHJvcGVydHlPZiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT0gbnVsbCA/IGZ1bmN0aW9uKCl7fSA6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIHByZWRpY2F0ZSBmb3IgY2hlY2tpbmcgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mXG4gIC8vIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLm1hdGNoZXIgPSBfLm1hdGNoZXMgPSBmdW5jdGlvbihhdHRycykge1xuICAgIGF0dHJzID0gXy5leHRlbmRPd24oe30sIGF0dHJzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gXy5pc01hdGNoKG9iaiwgYXR0cnMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUnVuIGEgZnVuY3Rpb24gKipuKiogdGltZXMuXG4gIF8udGltZXMgPSBmdW5jdGlvbihuLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciBhY2N1bSA9IEFycmF5KE1hdGgubWF4KDAsIG4pKTtcbiAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdGVlKGkpO1xuICAgIHJldHVybiBhY2N1bTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiBhbmQgbWF4IChpbmNsdXNpdmUpLlxuICBfLnJhbmRvbSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgaWYgKG1heCA9PSBudWxsKSB7XG4gICAgICBtYXggPSBtaW47XG4gICAgICBtaW4gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbWluICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKTtcbiAgfTtcblxuICAvLyBBIChwb3NzaWJseSBmYXN0ZXIpIHdheSB0byBnZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIGFzIGFuIGludGVnZXIuXG4gIF8ubm93ID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9O1xuXG4gICAvLyBMaXN0IG9mIEhUTUwgZW50aXRpZXMgZm9yIGVzY2FwaW5nLlxuICB2YXIgZXNjYXBlTWFwID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjeDI3OycsXG4gICAgJ2AnOiAnJiN4NjA7J1xuICB9O1xuICB2YXIgdW5lc2NhcGVNYXAgPSBfLmludmVydChlc2NhcGVNYXApO1xuXG4gIC8vIEZ1bmN0aW9ucyBmb3IgZXNjYXBpbmcgYW5kIHVuZXNjYXBpbmcgc3RyaW5ncyB0by9mcm9tIEhUTUwgaW50ZXJwb2xhdGlvbi5cbiAgdmFyIGNyZWF0ZUVzY2FwZXIgPSBmdW5jdGlvbihtYXApIHtcbiAgICB2YXIgZXNjYXBlciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICByZXR1cm4gbWFwW21hdGNoXTtcbiAgICB9O1xuICAgIC8vIFJlZ2V4ZXMgZm9yIGlkZW50aWZ5aW5nIGEga2V5IHRoYXQgbmVlZHMgdG8gYmUgZXNjYXBlZFxuICAgIHZhciBzb3VyY2UgPSAnKD86JyArIF8ua2V5cyhtYXApLmpvaW4oJ3wnKSArICcpJztcbiAgICB2YXIgdGVzdFJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UpO1xuICAgIHZhciByZXBsYWNlUmVnZXhwID0gUmVnRXhwKHNvdXJjZSwgJ2cnKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSBzdHJpbmcgPT0gbnVsbCA/ICcnIDogJycgKyBzdHJpbmc7XG4gICAgICByZXR1cm4gdGVzdFJlZ2V4cC50ZXN0KHN0cmluZykgPyBzdHJpbmcucmVwbGFjZShyZXBsYWNlUmVnZXhwLCBlc2NhcGVyKSA6IHN0cmluZztcbiAgICB9O1xuICB9O1xuICBfLmVzY2FwZSA9IGNyZWF0ZUVzY2FwZXIoZXNjYXBlTWFwKTtcbiAgXy51bmVzY2FwZSA9IGNyZWF0ZUVzY2FwZXIodW5lc2NhcGVNYXApO1xuXG4gIC8vIElmIHRoZSB2YWx1ZSBvZiB0aGUgbmFtZWQgYHByb3BlcnR5YCBpcyBhIGZ1bmN0aW9uIHRoZW4gaW52b2tlIGl0IHdpdGggdGhlXG4gIC8vIGBvYmplY3RgIGFzIGNvbnRleHQ7IG90aGVyd2lzZSwgcmV0dXJuIGl0LlxuICBfLnJlc3VsdCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIGZhbGxiYWNrKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB2b2lkIDAgOiBvYmplY3RbcHJvcGVydHldO1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YWx1ZSA9IGZhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGUgICAgOiAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgIGludGVycG9sYXRlIDogLzwlPShbXFxzXFxTXSs/KSU+L2csXG4gICAgZXNjYXBlICAgICAgOiAvPCUtKFtcXHNcXFNdKz8pJT4vZ1xuICB9O1xuXG4gIC8vIFdoZW4gY3VzdG9taXppbmcgYHRlbXBsYXRlU2V0dGluZ3NgLCBpZiB5b3UgZG9uJ3Qgd2FudCB0byBkZWZpbmUgYW5cbiAgLy8gaW50ZXJwb2xhdGlvbiwgZXZhbHVhdGlvbiBvciBlc2NhcGluZyByZWdleCwgd2UgbmVlZCBvbmUgdGhhdCBpc1xuICAvLyBndWFyYW50ZWVkIG5vdCB0byBtYXRjaC5cbiAgdmFyIG5vTWF0Y2ggPSAvKC4pXi87XG5cbiAgLy8gQ2VydGFpbiBjaGFyYWN0ZXJzIG5lZWQgdG8gYmUgZXNjYXBlZCBzbyB0aGF0IHRoZXkgY2FuIGJlIHB1dCBpbnRvIGFcbiAgLy8gc3RyaW5nIGxpdGVyYWwuXG4gIHZhciBlc2NhcGVzID0ge1xuICAgIFwiJ1wiOiAgICAgIFwiJ1wiLFxuICAgICdcXFxcJzogICAgICdcXFxcJyxcbiAgICAnXFxyJzogICAgICdyJyxcbiAgICAnXFxuJzogICAgICduJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgdmFyIGVzY2FwZXIgPSAvXFxcXHwnfFxccnxcXG58XFx1MjAyOHxcXHUyMDI5L2c7XG5cbiAgdmFyIGVzY2FwZUNoYXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiAnXFxcXCcgKyBlc2NhcGVzW21hdGNoXTtcbiAgfTtcblxuICAvLyBKYXZhU2NyaXB0IG1pY3JvLXRlbXBsYXRpbmcsIHNpbWlsYXIgdG8gSm9obiBSZXNpZydzIGltcGxlbWVudGF0aW9uLlxuICAvLyBVbmRlcnNjb3JlIHRlbXBsYXRpbmcgaGFuZGxlcyBhcmJpdHJhcnkgZGVsaW1pdGVycywgcHJlc2VydmVzIHdoaXRlc3BhY2UsXG4gIC8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuICAvLyBOQjogYG9sZFNldHRpbmdzYCBvbmx5IGV4aXN0cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gIF8udGVtcGxhdGUgPSBmdW5jdGlvbih0ZXh0LCBzZXR0aW5ncywgb2xkU2V0dGluZ3MpIHtcbiAgICBpZiAoIXNldHRpbmdzICYmIG9sZFNldHRpbmdzKSBzZXR0aW5ncyA9IG9sZFNldHRpbmdzO1xuICAgIHNldHRpbmdzID0gXy5kZWZhdWx0cyh7fSwgc2V0dGluZ3MsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG5cbiAgICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgICB2YXIgbWF0Y2hlciA9IFJlZ0V4cChbXG4gICAgICAoc2V0dGluZ3MuZXNjYXBlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5pbnRlcnBvbGF0ZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuZXZhbHVhdGUgfHwgbm9NYXRjaCkuc291cmNlXG4gICAgXS5qb2luKCd8JykgKyAnfCQnLCAnZycpO1xuXG4gICAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgc291cmNlLCBlc2NhcGluZyBzdHJpbmcgbGl0ZXJhbHMgYXBwcm9wcmlhdGVseS5cbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzb3VyY2UgPSBcIl9fcCs9J1wiO1xuICAgIHRleHQucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlLCBpbnRlcnBvbGF0ZSwgZXZhbHVhdGUsIG9mZnNldCkge1xuICAgICAgc291cmNlICs9IHRleHQuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShlc2NhcGVyLCBlc2NhcGVDaGFyKTtcbiAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuXG4gICAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZlc3QuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyAncmV0dXJuIF9fcDtcXG4nO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciByZW5kZXIgPSBuZXcgRnVuY3Rpb24oc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicsICdfJywgc291cmNlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgdmFyIHRlbXBsYXRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGRhdGEsIF8pO1xuICAgIH07XG5cbiAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBzb3VyY2UgYXMgYSBjb252ZW5pZW5jZSBmb3IgcHJlY29tcGlsYXRpb24uXG4gICAgdmFyIGFyZ3VtZW50ID0gc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaic7XG4gICAgdGVtcGxhdGUuc291cmNlID0gJ2Z1bmN0aW9uKCcgKyBhcmd1bWVudCArICcpe1xcbicgKyBzb3VyY2UgKyAnfSc7XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH07XG5cbiAgLy8gQWRkIGEgXCJjaGFpblwiIGZ1bmN0aW9uLiBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8uY2hhaW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBfKG9iaik7XG4gICAgaW5zdGFuY2UuX2NoYWluID0gdHJ1ZTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgLy8gT09QXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAvLyBJZiBVbmRlcnNjb3JlIGlzIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLCBpdCByZXR1cm5zIGEgd3JhcHBlZCBvYmplY3QgdGhhdFxuICAvLyBjYW4gYmUgdXNlZCBPTy1zdHlsZS4gVGhpcyB3cmFwcGVyIGhvbGRzIGFsdGVyZWQgdmVyc2lvbnMgb2YgYWxsIHRoZVxuICAvLyB1bmRlcnNjb3JlIGZ1bmN0aW9ucy4gV3JhcHBlZCBvYmplY3RzIG1heSBiZSBjaGFpbmVkLlxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjb250aW51ZSBjaGFpbmluZyBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBvYmopIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuX2NoYWluID8gXyhvYmopLmNoYWluKCkgOiBvYmo7XG4gIH07XG5cbiAgLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgXy5lYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gX1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gW3RoaXMuX3dyYXBwZWRdO1xuICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiByZXN1bHQodGhpcywgZnVuYy5hcHBseShfLCBhcmdzKSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEFkZCBhbGwgb2YgdGhlIFVuZGVyc2NvcmUgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgXy5taXhpbihfKTtcblxuICAvLyBBZGQgYWxsIG11dGF0b3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydwb3AnLCAncHVzaCcsICdyZXZlcnNlJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2JqID0gdGhpcy5fd3JhcHBlZDtcbiAgICAgIG1ldGhvZC5hcHBseShvYmosIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoKG5hbWUgPT09ICdzaGlmdCcgfHwgbmFtZSA9PT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIGRlbGV0ZSBvYmpbMF07XG4gICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIG9iaik7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQWRkIGFsbCBhY2Nlc3NvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ2NvbmNhdCcsICdqb2luJywgJ3NsaWNlJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBtZXRob2QuYXBwbHkodGhpcy5fd3JhcHBlZCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRXh0cmFjdHMgdGhlIHJlc3VsdCBmcm9tIGEgd3JhcHBlZCBhbmQgY2hhaW5lZCBvYmplY3QuXG4gIF8ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gUHJvdmlkZSB1bndyYXBwaW5nIHByb3h5IGZvciBzb21lIG1ldGhvZHMgdXNlZCBpbiBlbmdpbmUgb3BlcmF0aW9uc1xuICAvLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuICBfLnByb3RvdHlwZS52YWx1ZU9mID0gXy5wcm90b3R5cGUudG9KU09OID0gXy5wcm90b3R5cGUudmFsdWU7XG5cbiAgXy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLl93cmFwcGVkO1xuICB9O1xuXG4gIC8vIEFNRCByZWdpc3RyYXRpb24gaGFwcGVucyBhdCB0aGUgZW5kIGZvciBjb21wYXRpYmlsaXR5IHdpdGggQU1EIGxvYWRlcnNcbiAgLy8gdGhhdCBtYXkgbm90IGVuZm9yY2UgbmV4dC10dXJuIHNlbWFudGljcyBvbiBtb2R1bGVzLiBFdmVuIHRob3VnaCBnZW5lcmFsXG4gIC8vIHByYWN0aWNlIGZvciBBTUQgcmVnaXN0cmF0aW9uIGlzIHRvIGJlIGFub255bW91cywgdW5kZXJzY29yZSByZWdpc3RlcnNcbiAgLy8gYXMgYSBuYW1lZCBtb2R1bGUgYmVjYXVzZSwgbGlrZSBqUXVlcnksIGl0IGlzIGEgYmFzZSBsaWJyYXJ5IHRoYXQgaXNcbiAgLy8gcG9wdWxhciBlbm91Z2ggdG8gYmUgYnVuZGxlZCBpbiBhIHRoaXJkIHBhcnR5IGxpYiwgYnV0IG5vdCBiZSBwYXJ0IG9mXG4gIC8vIGFuIEFNRCBsb2FkIHJlcXVlc3QuIFRob3NlIGNhc2VzIGNvdWxkIGdlbmVyYXRlIGFuIGVycm9yIHdoZW4gYW5cbiAgLy8gYW5vbnltb3VzIGRlZmluZSgpIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgbG9hZGVyIHJlcXVlc3QuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoJ3VuZGVyc2NvcmUnLCBbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxufS5jYWxsKHRoaXMpKTtcblxuLyogZXhwb3J0ZWQgV0lER0VUX0NPTU1PTl9DT05GSUcgKi9cbnZhciBXSURHRVRfQ09NTU9OX0NPTkZJRyA9IHtcbiAgQVVUSF9QQVRIX1VSTDogXCJ2MS93aWRnZXQvYXV0aFwiLFxuICBMT0dHRVJfQ0xJRU5UX0lEOiBcIjEwODg1MjcxNDcxMDktNnExbzJ2dGlobjM0MjkycGp0NGNraG1oY2swcmswbzcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgTE9HR0VSX0NMSUVOVF9TRUNSRVQ6IFwibmxaeXJjUExnNm9Fd085ZjlXZm4yOVdoXCIsXG4gIExPR0dFUl9SRUZSRVNIX1RPS0VOOiBcIjEveHp0NGt3ekUxSDdXOVZuS0I4Y0FhQ3g2emI0RXM0bktFb3FhWUhkVEQxNUlnT3JKRHRkdW42eks2WGlBVENLVFwiLFxuICBTVE9SRV9VUkw6IFwiaHR0cHM6Ly9zdG9yZS1kb3QtcnZhc2VydmVyMi5hcHBzcG90LmNvbS9cIlxufTtcbi8qIGdsb2JhbCBXSURHRVRfQ09NTU9OX0NPTkZJRyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyA9IChmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgIHZhciBkaXNwbGF5SWQgPSBcIlwiLFxuICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICB2ZXJzaW9uID0gbnVsbDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuXG4gIC8qIFJldHJpZXZlIHBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZXZlbnQgbG9nZ2VyLiAqL1xuICBmdW5jdGlvbiBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGNiKSB7XG4gICAgdmFyIGpzb24gPSBudWxsO1xuXG4gICAgLy8gZXZlbnQgaXMgcmVxdWlyZWQuXG4gICAgaWYgKHBhcmFtcy5ldmVudCkge1xuICAgICAganNvbiA9IHBhcmFtcztcblxuICAgICAgaWYgKGpzb24uZmlsZV91cmwpIHtcbiAgICAgICAganNvbi5maWxlX2Zvcm1hdCA9IGdldEZpbGVGb3JtYXQoanNvbi5maWxlX3VybCk7XG4gICAgICB9XG5cbiAgICAgIGpzb24uY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICAgIGpzb24uZGlzcGxheV9pZCA9IGRpc3BsYXlJZDtcblxuICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAganNvbi52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgIH1cblxuICAgICAgY2IoanNvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2IoanNvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHN1ZmZpeCBmb3IgQlEgdGFibGUgbmFtZS5cbiAgZnVuY3Rpb24gZ2V0U3VmZml4KCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsXG4gICAgICBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcblxuICAgIGlmIChtb250aCA8IDEwKSB7XG4gICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XG4gICAgfVxuXG4gICAgaWYgKGRheSA8IDEwKSB7XG4gICAgICBkYXkgPSBcIjBcIiArIGRheTtcbiAgICB9XG5cbiAgICByZXR1cm4geWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIFNldCB0aGUgQ29tcGFueSBhbmQgRGlzcGxheSBJRHMuICovXG4gIGZ1bmN0aW9uIHNldElkcyhjb21wYW55LCBkaXNwbGF5KSB7XG4gICAgY29tcGFueUlkID0gY29tcGFueTtcbiAgICBkaXNwbGF5SWQgPSBkaXNwbGF5O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VmVyc2lvbih2YWx1ZSkge1xuICAgIHZlcnNpb24gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRJbnNlcnREYXRhXCI6IGdldEluc2VydERhdGEsXG4gICAgXCJnZXRGaWxlRm9ybWF0XCI6IGdldEZpbGVGb3JtYXQsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcInNldElkc1wiOiBzZXRJZHMsXG4gICAgXCJzZXRWZXJzaW9uXCI6IHNldFZlcnNpb25cbiAgfTtcbn0pKCk7XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlciA9IChmdW5jdGlvbih1dGlscykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgUkVGUkVTSF9VUkwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92My90b2tlbj9jbGllbnRfaWQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX0lEICtcbiAgICAgIFwiJmNsaWVudF9zZWNyZXQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX1NFQ1JFVCArXG4gICAgICBcIiZyZWZyZXNoX3Rva2VuPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX1JFRlJFU0hfVE9LRU4gK1xuICAgICAgXCImZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuXCI7XG5cbiAgdmFyIHNlcnZpY2VVcmwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2JpZ3F1ZXJ5L3YyL3Byb2plY3RzL2NsaWVudC1zaWRlLWV2ZW50cy9kYXRhc2V0cy9XaWRnZXRfRXZlbnRzL3RhYmxlcy9UQUJMRV9JRC9pbnNlcnRBbGxcIixcbiAgICB0aHJvdHRsZSA9IGZhbHNlLFxuICAgIHRocm90dGxlRGVsYXkgPSAxMDAwLFxuICAgIGxhc3RFdmVudCA9IFwiXCIsXG4gICAgcmVmcmVzaERhdGUgPSAwLFxuICAgIHRva2VuID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiByZWZyZXNoVG9rZW4oY2IpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAobmV3IERhdGUoKSAtIHJlZnJlc2hEYXRlIDwgMzU4MDAwMCkge1xuICAgICAgcmV0dXJuIGNiKHt9KTtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIlBPU1RcIiwgUkVGUkVTSF9VUkwsIHRydWUpO1xuICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZXNwID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpO1xuXG4gICAgICBjYih7IHRva2VuOiByZXNwLmFjY2Vzc190b2tlbiwgcmVmcmVzaGVkQXQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1Rocm90dGxlZChldmVudCkge1xuICAgIHJldHVybiB0aHJvdHRsZSAmJiAobGFzdEV2ZW50ID09PSBldmVudCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGxvZyh0YWJsZU5hbWUsIHBhcmFtcykge1xuICAgIGlmICghdGFibGVOYW1lIHx8ICFwYXJhbXMgfHwgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmICFwYXJhbXMuZXZlbnQpIHx8XG4gICAgICAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgaXNUaHJvdHRsZWQocGFyYW1zLmV2ZW50KSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aHJvdHRsZSA9IHRydWU7XG4gICAgbGFzdEV2ZW50ID0gcGFyYW1zLmV2ZW50O1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdHRsZSA9IGZhbHNlO1xuICAgIH0sIHRocm90dGxlRGVsYXkpO1xuXG4gICAgZnVuY3Rpb24gaW5zZXJ0V2l0aFRva2VuKHJlZnJlc2hEYXRhKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIGluc2VydERhdGEsIHVybDtcblxuICAgICAgdXJsID0gc2VydmljZVVybC5yZXBsYWNlKFwiVEFCTEVfSURcIiwgdGFibGVOYW1lKTtcbiAgICAgIHJlZnJlc2hEYXRlID0gcmVmcmVzaERhdGEucmVmcmVzaGVkQXQgfHwgcmVmcmVzaERhdGU7XG4gICAgICB0b2tlbiA9IHJlZnJlc2hEYXRhLnRva2VuIHx8IHRva2VuO1xuICAgICAgaW5zZXJ0RGF0YSA9IHV0aWxzLmdldEluc2VydERhdGEocGFyYW1zKTtcblxuICAgICAgLy8gSW5zZXJ0IHRoZSBkYXRhLlxuICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB0b2tlbik7XG5cbiAgICAgIGlmIChwYXJhbXMuY2IgJiYgdHlwZW9mIHBhcmFtcy5jYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwYXJhbXMuY2IoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoaW5zZXJ0RGF0YSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZWZyZXNoVG9rZW4oaW5zZXJ0V2l0aFRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJsb2dcIjogbG9nXG4gIH07XG59KShSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyk7XG4vKiBnbG9iYWwgV2ViRm9udCAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcyA9IChmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBnZXRGb250Q3NzU3R5bGUoY2xhc3NOYW1lLCBmb250T2JqKSB7XG4gICAgdmFyIGZhbWlseSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZGVjb2RlVVJJQ29tcG9uZW50KGZvbnRPYmouZm9udC5mYW1pbHkpLnJlcGxhY2UoLycvZywgXCJcIikgKyBcIjsgXCI7XG4gICAgdmFyIGNvbG9yID0gXCJjb2xvcjogXCIgKyAoZm9udE9iai5jb2xvciA/IGZvbnRPYmouY29sb3IgOiBmb250T2JqLmZvcmVjb2xvcikgKyBcIjsgXCI7XG4gICAgdmFyIHNpemUgPSBcImZvbnQtc2l6ZTogXCIgKyAoZm9udE9iai5zaXplLmluZGV4T2YoXCJweFwiKSA9PT0gLTEgPyBmb250T2JqLnNpemUgKyBcInB4OyBcIiA6IGZvbnRPYmouc2l6ZSArIFwiOyBcIik7XG4gICAgdmFyIHdlaWdodCA9IFwiZm9udC13ZWlnaHQ6IFwiICsgKGZvbnRPYmouYm9sZCA/IFwiYm9sZFwiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIGl0YWxpYyA9IFwiZm9udC1zdHlsZTogXCIgKyAoZm9udE9iai5pdGFsaWMgPyBcIml0YWxpY1wiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIHVuZGVybGluZSA9IFwidGV4dC1kZWNvcmF0aW9uOiBcIiArIChmb250T2JqLnVuZGVybGluZSA/IFwidW5kZXJsaW5lXCIgOiBcIm5vbmVcIikgKyBcIjsgXCI7XG4gICAgdmFyIGhpZ2hsaWdodCA9IFwiYmFja2dyb3VuZC1jb2xvcjogXCIgKyAoZm9udE9iai5oaWdobGlnaHRDb2xvciA/IGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgOiBmb250T2JqLmJhY2tjb2xvcikgKyBcIjtcIjtcblxuICAgIHJldHVybiBcIi5cIiArIGNsYXNzTmFtZSArIFwiIHtcIiArIGZhbWlseSArIGNvbG9yICsgc2l6ZSArIHdlaWdodCArIGl0YWxpYyArIHVuZGVybGluZSArIGhpZ2hsaWdodCArIFwifVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ1NTUnVsZXMocnVsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcnVsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJ1bGVzW2ldKSk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICAvKlxuICAgKiBMb2FkcyBHb29nbGUgb3IgY3VzdG9tIGZvbnRzLCBpZiBhcHBsaWNhYmxlLCBhbmQgaW5qZWN0cyBDU1Mgc3R5bGVzXG4gICAqIGludG8gdGhlIGhlYWQgb2YgdGhlIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICAgYXJyYXkgICAgc2V0dGluZ3MgICAgQXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcImRhdGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9udFNldHRpbmdcIjoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlZlcmRhbmFcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ29vZ2xlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL2N1c3RvbS1mb250LXVybFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCIyMFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2VcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgKlxuICAgKiAgICAgICAgICAgb2JqZWN0ICAgY29udGVudERvYyAgICBEb2N1bWVudCBvYmplY3QgaW50byB3aGljaCB0byBpbmplY3Qgc3R5bGVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBsb2FkIGZvbnRzIChvcHRpb25hbCkuXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkRm9udHMoc2V0dGluZ3MsIGNiKSB7XG4gICAgdmFyIGZhbWlsaWVzID0gbnVsbCxcbiAgICAgIGdvb2dsZUZhbWlsaWVzID0gW10sXG4gICAgICBjdXN0b21GYW1pbGllcyA9IFtdLFxuICAgICAgY3VzdG9tVXJscyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkdvb2dsZUZvbnRzTG9hZGVkKCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBpZiAoIXNldHRpbmdzIHx8IHNldHRpbmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgY3VzdG9tIGNzcyBjbGFzcyBuYW1lcyBhbmQgYWRkIHJ1bGVzIGlmIHNvXG4gICAgc2V0dGluZ3MuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5jbGFzcyAmJiBpdGVtLmZvbnRTdHlsZSkge1xuICAgICAgICBhZGRDU1NSdWxlcyhbIGdldEZvbnRDc3NTdHlsZShpdGVtLmNsYXNzLCBpdGVtLmZvbnRTdHlsZSkgXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBHb29nbGUgZm9udHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaV0uZm9udFN0eWxlICYmIHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgJiZcbiAgICAgICAgKHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgPT09IFwiZ29vZ2xlXCIpKSB7XG4gICAgICAgIC8vIFJlbW92ZSBmYWxsYmFjayBmb250LlxuICAgICAgICBmYW1pbGllcyA9IHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LmZhbWlseS5zcGxpdChcIixcIilbMF07XG5cbiAgICAgICAgLy8gc3RyaXAgcG9zc2libGUgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBmYW1pbGllcyA9IGZhbWlsaWVzLnJlcGxhY2UoLycvZywgXCJcIik7XG5cbiAgICAgICAgZ29vZ2xlRmFtaWxpZXMucHVzaChmYW1pbGllcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3VzdG9tIGZvbnRzXG4gICAgZm9yIChpID0gMDsgaSA8IHNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc2V0dGluZ3NbaV0uZm9udFN0eWxlICYmIHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgJiZcbiAgICAgICAgKHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIpKSB7XG4gICAgICAgIC8vIGRlY29kZSB2YWx1ZSBhbmQgc3RyaXAgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBjdXN0b21GYW1pbGllcy5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC5mYW1pbHkpLnJlcGxhY2UoLycvZywgXCJcIikpO1xuICAgICAgICAvLyBzdHJpcCBzaW5nbGUgcXVvdGVzXG4gICAgICAgIGN1c3RvbVVybHMucHVzaChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC51cmwucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ29vZ2xlRmFtaWxpZXMubGVuZ3RoID09PSAwICYmIGN1c3RvbUZhbWlsaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBMb2FkIHRoZSBmb250c1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjdXN0b21GYW1pbGllcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBsb2FkQ3VzdG9tRm9udChjdXN0b21GYW1pbGllc1tqXSwgY3VzdG9tVXJsc1tqXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChnb29nbGVGYW1pbGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxvYWRHb29nbGVGb250cyhnb29nbGVGYW1pbGllcywgb25Hb29nbGVGb250c0xvYWRlZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkQ3VzdG9tRm9udChmYW1pbHksIHVybCwgY29udGVudERvYykge1xuICAgIHZhciBzaGVldCA9IG51bGw7XG4gICAgdmFyIHJ1bGUgPSBcImZvbnQtZmFtaWx5OiBcIiArIGZhbWlseSArIFwiOyBcIiArIFwic3JjOiB1cmwoJ1wiICsgdXJsICsgXCInKTtcIjtcblxuICAgIGNvbnRlbnREb2MgPSBjb250ZW50RG9jIHx8IGRvY3VtZW50O1xuXG4gICAgc2hlZXQgPSBjb250ZW50RG9jLnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgaWYgKHNoZWV0ICE9PSBudWxsKSB7XG4gICAgICBzaGVldC5hZGRSdWxlKFwiQGZvbnQtZmFjZVwiLCBydWxlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkR29vZ2xlRm9udHMoZmFtaWxpZXMsIGNiKSB7XG4gICAgV2ViRm9udC5sb2FkKHtcbiAgICAgIGdvb2dsZToge1xuICAgICAgICBmYW1pbGllczogZmFtaWxpZXNcbiAgICAgIH0sXG4gICAgICBhY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5hY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGltZW91dDogMjAwMFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlbG9hZEltYWdlcyh1cmxzKSB7XG4gICAgdmFyIGxlbmd0aCA9IHVybHMubGVuZ3RoLFxuICAgICAgaW1hZ2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpbWFnZXNbaV0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlc1tpXS5zcmMgPSB1cmxzW2ldO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1ldGVyKHBhcmFtKSB7XG4gICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXG4gICAgICB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpLFxuICAgICAgcGFpcjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICBpZiAocGFpclswXSA9PSBwYXJhbSkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgc3dpdGNoIChzdGF0dXNDb2RlKSB7XG4gICAgICBjYXNlIDQwNDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGUgZmlsZSBkb2VzIG5vdCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MDc6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgaXMgbm90IGVub3VnaCBkaXNrIHNwYWNlIHRvIHNhdmUgdGhlIGZpbGUgb24gUmlzZSBDYWNoZS5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIHdhcyBhIHByb2JsZW0gcmV0cmlldmluZyB0aGUgZmlsZSBmcm9tIFJpc2UgQ2FjaGUuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZXNjYXBlSFRNTChodG1sKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIHJldHVybiBkaXYudGV4dENvbnRlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNJbnRlcm5ldENvbm5lY3Rpb24oZmlsZVBhdGgsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKCFmaWxlUGF0aCB8fCAhY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIkhFQURcIiwgZmlsZVBhdGggKyBcIj9jYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgY2FsbGJhY2soKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDQpKTtcblxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgY2hyb21lIHZlcnNpb24gaXMgdW5kZXIgYSBjZXJ0YWluIHZlcnNpb25cbiAgICovXG4gIGZ1bmN0aW9uIGlzTGVnYWN5KCkge1xuICAgIHZhciBsZWdhY3lWZXJzaW9uID0gMjU7XG5cbiAgICB2YXIgbWF0Y2ggPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxTKykvKTtcbiAgICB2YXIgdmVyc2lvbiA9IG1hdGNoID8gbWF0Y2hbMV0gOiAwO1xuXG4gICAgaWYgKHZlcnNpb24pIHtcbiAgICAgIHZlcnNpb24gPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cmluZygwLHZlcnNpb24uaW5kZXhPZihcIi5cIikpKTtcblxuICAgICAgaWYgKHZlcnNpb24gPD0gbGVnYWN5VmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBodHRwOi8vIG9yIGh0dHBzOi8vIHByb3RvY29sIHRvIHVybCBpZiB0aGUgcHJvdG9jb2wgaXMgbWlzc2luZ1xuICAgKi9cbiAgZnVuY3Rpb24gYWRkUHJvdG9jb2wodXJsLCBzZWN1cmUpIHtcbiAgICBpZiAoIS9eKD86ZnxodCl0cHM/XFw6XFwvXFwvLy50ZXN0KHVybCkpIHtcbiAgICAgIHVybCA9ICgoc2VjdXJlKSA/IFwiaHR0cHM6Ly9cIiA6IFwiaHR0cDovL1wiKSArIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYWRkUHJvdG9jb2w6IGFkZFByb3RvY29sLFxuICAgIGdldFF1ZXJ5UGFyYW1ldGVyOiBnZXRRdWVyeVBhcmFtZXRlcixcbiAgICBnZXRGb250Q3NzU3R5bGU6ICBnZXRGb250Q3NzU3R5bGUsXG4gICAgYWRkQ1NTUnVsZXM6ICAgICAgYWRkQ1NTUnVsZXMsXG4gICAgbG9hZEZvbnRzOiAgICAgICAgbG9hZEZvbnRzLFxuICAgIGxvYWRDdXN0b21Gb250OiAgIGxvYWRDdXN0b21Gb250LFxuICAgIGxvYWRHb29nbGVGb250czogICBsb2FkR29vZ2xlRm9udHMsXG4gICAgcHJlbG9hZEltYWdlczogICAgcHJlbG9hZEltYWdlcyxcbiAgICBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2U6IGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSxcbiAgICB1bmVzY2FwZUhUTUw6IHVuZXNjYXBlSFRNTCxcbiAgICBoYXNJbnRlcm5ldENvbm5lY3Rpb246IGhhc0ludGVybmV0Q29ubmVjdGlvbixcbiAgICBpc0xlZ2FjeTogaXNMZWdhY3lcbiAgfTtcbn0pKCk7XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZSA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBCQVNFX0NBQ0hFX1VSTCA9IFwiLy9sb2NhbGhvc3Q6OTQ5NC9cIjtcblxuICB2YXIgX3BpbmdSZWNlaXZlZCA9IGZhbHNlLFxuICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlLFxuICAgIF9pc1YyUnVubmluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHBpbmcoY2FsbGJhY2spIHtcbiAgICB2YXIgciA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFfaXNWMlJ1bm5pbmcpIHtcbiAgICAgIHIub3BlbihcIkdFVFwiLCBCQVNFX0NBQ0hFX1VSTCArIFwicGluZz9jYWxsYmFjaz1fXCIsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHIub3BlbihcIkdFVFwiLCBCQVNFX0NBQ0hFX1VSTCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoci5yZWFkeVN0YXRlID09PSA0ICkge1xuICAgICAgICAgIC8vIHNhdmUgdGhpcyByZXN1bHQgZm9yIHVzZSBpbiBnZXRGaWxlKClcbiAgICAgICAgICBfcGluZ1JlY2VpdmVkID0gdHJ1ZTtcblxuICAgICAgICAgIGlmKHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKHRydWUsIHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIC8vIFJpc2UgQ2FjaGUgVjIgaXMgcnVubmluZ1xuICAgICAgICAgICAgX2lzVjJSdW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gY2FsbCBwaW5nIGFnYWluIHNvIGNvcnJlY3QgcGluZyBVUkwgaXMgdXNlZCBmb3IgUmlzZSBDYWNoZSBWMlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYucGluZyhjYWxsYmFjayk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCJSaXNlIENhY2hlIGlzIG5vdCBydW5uaW5nXCIpO1xuICAgICAgICAgICAgX2lzQ2FjaGVSdW5uaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoXCJDYXVnaHQgZXhjZXB0aW9uOiBcIiwgZS5kZXNjcmlwdGlvbik7XG4gICAgICB9XG5cbiAgICB9O1xuICAgIHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RmlsZShmaWxlVXJsLCBjYWxsYmFjaywgbm9jYWNoZWJ1c3Rlcikge1xuICAgIGlmICghZmlsZVVybCB8fCAhY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaWxlUmVxdWVzdCgpIHtcbiAgICAgIHZhciB1cmwsIHN0ciwgc2VwYXJhdG9yO1xuXG4gICAgICBpZiAoX2lzQ2FjaGVSdW5uaW5nKSB7XG4gICAgICAgIGlmIChfaXNWMlJ1bm5pbmcpIHtcbiAgICAgICAgICB1cmwgPSBCQVNFX0NBQ0hFX1VSTCArIFwiZmlsZXM/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvbmZpZ3VyZSB1cmwgd2l0aCBjYWNoZWJ1c3RlciBvciBub3RcbiAgICAgICAgICB1cmwgPSAobm9jYWNoZWJ1c3RlcikgPyBCQVNFX0NBQ0hFX1VSTCArIFwiP3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlVXJsKSA6XG4gICAgICAgICAgQkFTRV9DQUNIRV9VUkwgKyBcImNiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChub2NhY2hlYnVzdGVyKSB7XG4gICAgICAgICAgdXJsID0gZmlsZVVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSBmaWxlVXJsLnNwbGl0KFwiP1wiKTtcbiAgICAgICAgICBzZXBhcmF0b3IgPSAoc3RyLmxlbmd0aCA9PT0gMSkgPyBcIj9cIiA6IFwiJlwiO1xuICAgICAgICAgIHVybCA9IGZpbGVVcmwgKyBzZXBhcmF0b3IgKyBcImNiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWFrZVJlcXVlc3QoXCJIRUFEXCIsIHVybCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgcmVxdWVzdCA9IHtcbiAgICAgICAgICB4aHI6IHhocixcbiAgICAgICAgICB1cmw6IHVybFxuICAgICAgICB9O1xuXG4gICAgICBpZiAoX2lzQ2FjaGVSdW5uaW5nKSB7XG4gICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlbmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzIHx8IDA7XG5cbiAgICAgICAgICBpZiAoc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZXJ2ZXIgbWF5IG5vdCBzdXBwb3J0IEhFQUQgcmVxdWVzdC4gRmFsbGJhY2sgdG8gYSBHRVQgcmVxdWVzdC5cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT09IFwiSEVBRFwiKSB7XG4gICAgICAgICAgICAgIG1ha2VSZXF1ZXN0KFwiR0VUXCIsIHVybCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0LCBuZXcgRXJyb3IoXCJUaGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZTogXCIgKyBzdGF0dXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gUmlzZSBDYWNoZSBpcyBub3QgcnVubmluZyAocHJldmlldyksIHNraXAgSEVBRCByZXF1ZXN0IGFuZCBleGVjdXRlIGNhbGxiYWNrIGltbWVkaWF0ZWx5XG4gICAgICAgIGNhbGxiYWNrKHJlcXVlc3QpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKCFfcGluZ1JlY2VpdmVkKSB7XG4gICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICByZXR1cm4gdGhpcy5waW5nKGZpbGVSZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpbGVSZXF1ZXN0KCk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSkge1xuICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIHN3aXRjaCAoc3RhdHVzQ29kZSkge1xuICAgICAgY2FzZSA1MDI6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIHRoZSBmaWxlLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTA0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byBkb3dubG9hZCB0aGUgZmlsZS4gVGhlIHNlcnZlciBpcyBub3QgcmVzcG9uZGluZy5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDUwNzpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSBpcyBub3QgZW5vdWdoIGRpc2sgc3BhY2UgdG8gc2F2ZSB0aGUgZmlsZSBvbiBSaXNlIENhY2hlLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTM0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZSBmaWxlIGRvZXMgbm90IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIH1cblxuICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XG4gIH1cblxuICBmdW5jdGlvbiBpc1Jpc2VDYWNoZVJ1bm5pbmcoY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFfcGluZ1JlY2VpdmVkKSB7XG4gICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICByZXR1cm4gdGhpcy5waW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2soX2lzQ2FjaGVSdW5uaW5nKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhfaXNDYWNoZVJ1bm5pbmcpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVjJSdW5uaW5nKGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKF9pc1YyUnVubmluZyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYWxsYmFjayhfaXNWMlJ1bm5pbmcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0RXJyb3JNZXNzYWdlOiBnZXRFcnJvck1lc3NhZ2UsXG4gICAgZ2V0RmlsZTogZ2V0RmlsZSxcbiAgICBpc1Jpc2VDYWNoZVJ1bm5pbmc6IGlzUmlzZUNhY2hlUnVubmluZyxcbiAgICBpc1YyUnVubmluZzogaXNWMlJ1bm5pbmcsXG4gICAgcGluZzogcGluZ1xuICB9O1xuXG59KSgpO1xuXG4vKiBleHBvcnRlZCB2ZXJzaW9uICovXG52YXIgdmVyc2lvbiA9IFwiMS4xLjBcIjtcbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJsb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcbn1cblxudmFyICBjb25maWcgPSB7XG4gIFNUT1JBR0VfRU5WOiBcInByb2RcIixcbiAgQ09NUE9ORU5UU19QQVRIOiBcImNvbXBvbmVudHMvXCJcbn07XG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSB7fTtcblxuUmlzZVZpc2lvbi5WaWRlbyA9IChmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWRkaXRpb25hbFBhcmFtcywgX21vZGU7XG5cbiAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlLFxuICAgIF9jb25maWdEZXRhaWxzID0gbnVsbDtcblxuICB2YXIgX3ByZWZzID0gbnVsbCxcbiAgICBfc3RvcmFnZSA9IG51bGwsXG4gICAgX25vblN0b3JhZ2UgPSBudWxsLFxuICAgIF9tZXNzYWdlID0gbnVsbCxcbiAgICBfcGxheWVyID0gbnVsbDtcblxuICB2YXIgX3ZpZXdlclBhdXNlZCA9IHRydWU7XG5cbiAgdmFyIF9yZXN1bWUgPSB0cnVlO1xuXG4gIHZhciBfY3VycmVudEZpbGVzID0gW107XG5cbiAgdmFyIF9jdXJyZW50UGxheWxpc3RJbmRleCA9IG51bGw7XG5cbiAgdmFyIF9lcnJvckxvZyA9IG51bGwsXG4gICAgX2Vycm9yVGltZXIgPSBudWxsLFxuICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcblxuICB2YXIgX3N0b3JhZ2VFcnJvckZsYWcgPSBmYWxzZSxcbiAgICBfcGxheWVyRXJyb3JGbGFnID0gZmFsc2UsXG4gICAgX3VuYXZhaWxhYmxlRmxhZyA9IGZhbHNlO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9kb25lKCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X2RvbmVcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcblxuICAgIC8vIEFueSBlcnJvcnMgbmVlZCB0byBiZSBsb2dnZWQgYmVmb3JlIHRoZSBkb25lIGV2ZW50LlxuICAgIGlmIChfZXJyb3JMb2cgIT09IG51bGwpIHtcbiAgICAgIGxvZ0V2ZW50KF9lcnJvckxvZywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwiZG9uZVwiIH0sIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksXG4gICAgICB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGVhckVycm9yVGltZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KF9lcnJvclRpbWVyKTtcbiAgICBfZXJyb3JUaW1lciA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRFcnJvclRpbWVyKCkge1xuICAgIF9jbGVhckVycm9yVGltZXIoKTtcblxuICAgIF9lcnJvclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBub3RpZnkgVmlld2VyIHdpZGdldCBpcyBkb25lXG4gICAgICBfZG9uZSgpO1xuICAgIH0sIDUwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldEN1cnJlbnRGaWxlKCkge1xuICAgIGlmIChfY3VycmVudEZpbGVzICYmIF9jdXJyZW50RmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgICByZXR1cm4gX2N1cnJlbnRGaWxlc1swXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF9tb2RlID09PSBcImZvbGRlclwiKSB7XG4gICAgICAgIGlmIChfY3VycmVudFBsYXlsaXN0SW5kZXgpIHtcbiAgICAgICAgICAvLyByZXRyaWV2ZSB0aGUgY3VycmVudGx5IHBsYXllZCBmaWxlXG4gICAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbX2N1cnJlbnRQbGF5bGlzdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBoYXNTdG9yYWdlRXJyb3IoKSB7XG4gICAgcmV0dXJuIF9zdG9yYWdlRXJyb3JGbGFnO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzUGxheWVyRXJyb3IoKSB7XG4gICAgcmV0dXJuIF9wbGF5ZXJFcnJvckZsYWc7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93RXJyb3IobWVzc2FnZSwgaXNTdG9yYWdlRXJyb3IpIHtcbiAgICBfZXJyb3JGbGFnID0gdHJ1ZTtcbiAgICBfc3RvcmFnZUVycm9yRmxhZyA9IHR5cGVvZiBpc1N0b3JhZ2VFcnJvciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgIF9tZXNzYWdlLnNob3cobWVzc2FnZSk7XG5cbiAgICBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBudWxsO1xuXG4gICAgLy8gaWYgV2lkZ2V0IGlzIHBsYXlpbmcgcmlnaHQgbm93LCBydW4gdGhlIHRpbWVyXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudChwYXJhbXMsIGlzRXJyb3IpIHtcbiAgICBpZiAoaXNFcnJvcikge1xuICAgICAgX2Vycm9yTG9nID0gcGFyYW1zO1xuICAgIH1cblxuICAgIGlmICghcGFyYW1zLmZpbGVfdXJsKSB7XG4gICAgICBwYXJhbXMuZmlsZV91cmwgPSBfZ2V0Q3VycmVudEZpbGUoKTtcbiAgICB9XG5cbiAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5sb2dFdmVudChnZXRUYWJsZU5hbWUoKSwgcGFyYW1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRmlsZUluaXQodXJscykge1xuICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhIHN0cmluZ1xuICAgICAgX2N1cnJlbnRGaWxlc1swXSA9IHVybHM7XG4gICAgfSBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGFuIGFycmF5XG4gICAgICBfY3VycmVudEZpbGVzID0gdXJscztcbiAgICB9XG5cbiAgICBfdW5hdmFpbGFibGVGbGFnID0gZmFsc2U7XG5cbiAgICBfbWVzc2FnZS5oaWRlKCk7XG5cbiAgICBpZiAoIV92aWV3ZXJQYXVzZWQpIHtcbiAgICAgIHBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVSZWZyZXNoKHVybHMpIHtcbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYSBzdHJpbmcgb2Ygb25lIHVybFxuICAgICAgX2N1cnJlbnRGaWxlc1swXSA9IHVybHM7XG4gICAgfSBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGFuIGFycmF5IG9mIHVybHNcbiAgICAgIF9jdXJyZW50RmlsZXMgPSB1cmxzO1xuICAgIH1cblxuICAgIGlmIChfcGxheWVyKSB7XG4gICAgICBfcGxheWVyLnVwZGF0ZShfY3VycmVudEZpbGVzKTsgIFxuICAgIH1cblxuICAgIC8vIGluIGNhc2UgcmVmcmVzaGVkIGZpbGUgZml4ZXMgYW4gZXJyb3Igd2l0aCBwcmV2aW91cyBmaWxlLCBlbnN1cmUgZmxhZyBpcyByZW1vdmVkIHNvIHBsYXliYWNrIGlzIGF0dGVtcHRlZCBhZ2FpblxuICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcbiAgICBfcGxheWVyRXJyb3JGbGFnID0gZmFsc2U7XG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSBmYWxzZTtcbiAgICBfdW5hdmFpbGFibGVGbGFnID0gZmFsc2U7XG4gICAgX2Vycm9yTG9nID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRmlsZVVuYXZhaWxhYmxlKG1lc3NhZ2UpIHtcbiAgICBfdW5hdmFpbGFibGVGbGFnID0gdHJ1ZTtcblxuICAgIF9tZXNzYWdlLnNob3cobWVzc2FnZSk7XG5cbiAgICBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBudWxsO1xuXG4gICAgLy8gaWYgV2lkZ2V0IGlzIHBsYXlpbmcgcmlnaHQgbm93LCBydW4gdGhlIHRpbWVyXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG5cbiAgICBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICAgIC8vIGluIGNhc2UgZXJyb3IgdGltZXIgc3RpbGwgcnVubmluZyAobm8gY29uZGl0aW9uYWwgY2hlY2sgb24gZXJyb3JGbGFnLCBpdCBtYXkgaGF2ZSBiZWVuIHJlc2V0IGluIG9uRmlsZVJlZnJlc2gpXG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgaWYgKF9wbGF5ZXIpIHtcbiAgICAgIGlmICghX3Jlc3VtZSkge1xuICAgICAgICBfY3VycmVudFBsYXlsaXN0SW5kZXggPSBudWxsO1xuICAgICAgICBfcGxheWVyLnJlc2V0KCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgX3BsYXllci5wYXVzZSgpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAvLyBMb2cgY29uZmlndXJhdGlvbiBldmVudC5cbiAgICAgIGxvZ0V2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiY29uZmlndXJhdGlvblwiLFxuICAgICAgICBldmVudF9kZXRhaWxzOiBfY29uZmlnRGV0YWlsc1xuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcblxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcInBsYXlcIiB9LCBmYWxzZSk7XG5cbiAgICBpZiAoX2Vycm9yRmxhZykge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfdW5hdmFpbGFibGVGbGFnKSB7XG4gICAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiICYmIF9zdG9yYWdlKSB7XG4gICAgICAgIF9zdG9yYWdlLnJldHJ5KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX3BsYXllcikge1xuICAgICAgLy8gRW5zdXJlcyBwb3NzaWJsZSBlcnJvciBtZXNzYWdpbmcgZ2V0cyBoaWRkZW4gYW5kIHZpZGVvIGdldHMgc2hvd25cbiAgICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgICAgX3BsYXllci5wbGF5KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKF9jdXJyZW50RmlsZXMgJiYgX2N1cnJlbnRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF9wbGF5ZXIgPSBuZXcgUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXIoX2FkZGl0aW9uYWxQYXJhbXMsIF9tb2RlKTtcbiAgICAgICAgX3BsYXllci5pbml0KF9jdXJyZW50RmlsZXMpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFibGVOYW1lKCkge1xuICAgIHJldHVybiBcInZpZGVvX3YyX2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheWVyRW5kZWQoKSB7XG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gbnVsbDtcblxuICAgIF9kb25lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5ZXJSZWFkeSgpIHtcbiAgICAvLyBFbnN1cmVzIGxvYWRpbmcgbWVzc2FnaW5nIGlzIGhpZGRlbiBhbmQgdmlkZW8gZ2V0cyBzaG93blxuICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCAmJiBfcGxheWVyKSB7XG4gICAgICBfcGxheWVyLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5ZXJJdGVtQ2hhbmdlKGluZGV4KSB7XG4gICAgX2N1cnJlbnRQbGF5bGlzdEluZGV4ID0gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKHBhcmFtcywgbW9kZSkge1xuICAgIHZhciBpc1N0b3JhZ2VGaWxlO1xuXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMgPSBfLmNsb25lKHBhcmFtcyk7XG4gICAgX21vZGUgPSBtb2RlO1xuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS53aWR0aCA9IF9wcmVmcy5nZXRJbnQoXCJyc1dcIikgKyBcInB4XCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKSArIFwicHhcIjtcblxuICAgIF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKTtcbiAgICBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpO1xuXG4gICAgaWYgKF9hZGRpdGlvbmFsUGFyYW1zLnZpZGVvLmhhc093blByb3BlcnR5KFwicmVzdW1lXCIpKSB7XG4gICAgICBfcmVzdW1lID0gX2FkZGl0aW9uYWxQYXJhbXMudmlkZW8ucmVzdW1lO1xuICAgIH1cblxuICAgIF9tZXNzYWdlID0gbmV3IFJpc2VWaXNpb24uQ29tbW9uLk1lc3NhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIiksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VDb250YWluZXJcIikpO1xuXG4gICAgaWYgKFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5pc0xlZ2FjeSgpKSB7XG4gICAgICBzaG93RXJyb3IoXCJUaGlzIHZlcnNpb24gb2YgVmlkZW8gV2lkZ2V0IGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyB2ZXJzaW9uIG9mIFJpc2UgUGxheWVyLiBcIiArXG4gICAgICAgIFwiUGxlYXNlIHVzZSB0aGUgbGF0ZXN0IFJpc2UgUGxheWVyIHZlcnNpb24gYXZhaWxhYmxlIGF0IGh0dHBzOi8vaGVscC5yaXNldmlzaW9uLmNvbS91c2VyL2NyZWF0ZS1hLWRpc3BsYXlcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNob3cgd2FpdCBtZXNzYWdlIHdoaWxlIFN0b3JhZ2UgaW5pdGlhbGl6ZXNcbiAgICAgIF9tZXNzYWdlLnNob3coXCJQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIHZpZGVvIGlzIGRvd25sb2FkZWQuXCIpO1xuXG4gICAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAgIGlzU3RvcmFnZUZpbGUgPSAoT2JqZWN0LmtleXMoX2FkZGl0aW9uYWxQYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKTtcblxuICAgICAgICBpZiAoIWlzU3RvcmFnZUZpbGUpIHtcbiAgICAgICAgICBfY29uZmlnRGV0YWlscyA9IFwiY3VzdG9tXCI7XG5cbiAgICAgICAgICBfbm9uU3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLk5vblN0b3JhZ2UoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgICAgIF9ub25TdG9yYWdlLmluaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY29uZmlnRGV0YWlscyA9IFwic3RvcmFnZSBmaWxlXCI7XG5cbiAgICAgICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZmlsZSBpbnN0YW5jZVxuICAgICAgICAgIF9zdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uVmlkZW8uU3RvcmFnZUZpbGUoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgICAgIF9zdG9yYWdlLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgX2NvbmZpZ0RldGFpbHMgPSBcInN0b3JhZ2UgZm9sZGVyXCI7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBTdG9yYWdlIGZvbGRlciBpbnN0YW5jZVxuICAgICAgICBfc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLlZpZGVvLlN0b3JhZ2VGb2xkZXIoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgICBfc3RvcmFnZS5pbml0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICAvLyBBbiBlcnJvciBvY2N1cnJlZCB3aXRoIEpXIFBsYXllci5cbiAgZnVuY3Rpb24gcGxheWVyRXJyb3IoZXJyb3IpIHtcbiAgICB2YXIgZGV0YWlscyA9IG51bGwsXG4gICAgICBwYXJhbXMgPSB7fSxcbiAgICAgIG1lc3NhZ2UgPSBcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIHBsYXlpbmcgdGhlIHZpZGVvLlwiLFxuICAgICAgTUVESUFfRVJST1IgPSBcIkVycm9yIGxvYWRpbmcgbWVkaWE6IEZpbGUgY291bGQgbm90IGJlIHBsYXllZFwiLFxuICAgICAgWU9VVFVCRV9FUlJPUiA9IFwiRXJyb3IgbG9hZGluZyBZb3VUdWJlOiBWaWRlbyBjb3VsZCBub3QgYmUgcGxheWVkXCIsXG4gICAgICBQTEFZRVJfRVJST1IgPSBcIkVycm9yIGxvYWRpbmcgcGxheWVyOiBObyBtZWRpYSBzb3VyY2VzIGZvdW5kXCIsXG4gICAgICBQTEFZTElTVF9FUlJPUiA9IFwiRXJyb3IgbG9hZGluZyBwbGF5bGlzdDogTm8gcGxheWFibGUgc291cmNlcyBmb3VuZFwiLFxuICAgICAgRU5DT0RJTkdfTUVTU0FHRSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBwbGF5aW5nIHRoYXQgdmlkZW8uIEl0IGNvdWxkIGJlIHRoYXQgd2UgZG9uJ3QgXCIgK1xuICAgICAgICBcInN1cHBvcnQgdGhhdCBmb3JtYXQgb3IgaXQgaXMgbm90IGVuY29kZWQgY29ycmVjdGx5LlwiLFxuICAgICAgRk9STUFUX01FU1NBR0UgPSBcIlRoZSBmb3JtYXQgb2YgdGhhdCB2aWRlbyBpcyBub3Qgc3VwcG9ydGVkXCI7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci50eXBlICYmIGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLnR5cGUgKyBcIiAtIFwiICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVycm9yLnR5cGUpIHtcbiAgICAgICAgZGV0YWlscyA9IGVycm9yLnR5cGU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7XG4gICAgICAgIGRldGFpbHMgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICAvLyBEaXNwbGF5IGFwcHJvcHJpYXRlIG9uLXNjcmVlbiBlcnJvciBtZXNzYWdlLlxuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKChlcnJvci5tZXNzYWdlID09PSBNRURJQV9FUlJPUikgfHwgKGVycm9yLm1lc3NhZ2UgPT09IFlPVVRVQkVfRVJST1IpKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IEVOQ09ESU5HX01FU1NBR0U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3IubWVzc2FnZSA9PT0gUExBWUVSX0VSUk9SIHx8IGVycm9yLm1lc3NhZ2UgPT09IFBMQVlMSVNUX0VSUk9SKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IEZPUk1BVF9NRVNTQUdFO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGFyYW1zLmV2ZW50ID0gXCJwbGF5ZXIgZXJyb3JcIjtcbiAgICBwYXJhbXMuZXZlbnRfZGV0YWlscyA9IGRldGFpbHM7XG4gICAgX3BsYXllckVycm9yRmxhZyA9IHRydWU7XG5cbiAgICBsb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIHNob3dFcnJvcihtZXNzYWdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRUYWJsZU5hbWVcIjogZ2V0VGFibGVOYW1lLFxuICAgIFwiaGFzUGxheWVyRXJyb3JcIjogaGFzUGxheWVyRXJyb3IsXG4gICAgXCJoYXNTdG9yYWdlRXJyb3JcIjogaGFzU3RvcmFnZUVycm9yLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJvbkZpbGVJbml0XCI6IG9uRmlsZUluaXQsXG4gICAgXCJvbkZpbGVSZWZyZXNoXCI6IG9uRmlsZVJlZnJlc2gsXG4gICAgXCJvbkZpbGVVbmF2YWlsYWJsZVwiOiBvbkZpbGVVbmF2YWlsYWJsZSxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwic2hvd0Vycm9yXCI6IHNob3dFcnJvcixcbiAgICBcInBsYXllckVuZGVkXCI6IHBsYXllckVuZGVkLFxuICAgIFwicGxheWVyUmVhZHlcIjogcGxheWVyUmVhZHksXG4gICAgXCJwbGF5ZXJFcnJvclwiOiBwbGF5ZXJFcnJvcixcbiAgICBcInBsYXllckl0ZW1DaGFuZ2VcIjogcGxheWVySXRlbUNoYW5nZSxcbiAgICBcInN0b3BcIjogc3RvcFxuICB9O1xuXG59KSh3aW5kb3csIGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvID0gUmlzZVZpc2lvbi5WaWRlbyB8fCB7fTtcblxuUmlzZVZpc2lvbi5WaWRlby5QbGF5ZXJVdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFBsYXlsaXN0IChsaXN0KSB7XG4gICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICBcbiAgICB2YXIgcGxheWxpc3QgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgcGxheWxpc3QucHVzaCh7XG4gICAgICAgIGZpbGU6IGxpc3RbaV0sXG4gICAgICAgIHR5cGU6IHRoaXMuZ2V0VmlkZW9GaWxlVHlwZShsaXN0W2ldKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBsYXlsaXN0O1xuICB9XG4gIFxuICBmdW5jdGlvbiBnZXRWaWRlb0ZpbGVUeXBlICh1cmwpIHtcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IFtcIi5tcDRcIiwgXCIud2VibVwiXSxcbiAgICAgIHVybExvd2VyY2FzZSA9IHVybC50b0xvd2VyQ2FzZSgpLFxuICAgICAgdHlwZSA9IG51bGwsXG4gICAgICBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8PSBleHRlbnNpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodXJsTG93ZXJjYXNlLmluZGV4T2YoZXh0ZW5zaW9uc1tpXSkgIT09IC0xKSB7XG4gICAgICAgIHR5cGUgPSBleHRlbnNpb25zW2ldLnN1YnN0cihleHRlbnNpb25zW2ldLmxhc3RJbmRleE9mKFwiLlwiKSArIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRQbGF5bGlzdFwiOiBnZXRQbGF5bGlzdCxcbiAgICBcImdldFZpZGVvRmlsZVR5cGVcIjogZ2V0VmlkZW9GaWxlVHlwZVxuICB9O1xuXG59KSgpO1xuXG4vKiBnbG9iYWwgY29uZmlnICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLlN0b3JhZ2VGaWxlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHV0aWxzID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLFxuICAgIHJpc2VDYWNoZSA9IFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZTtcblxuICB2YXIgX2luaXRpYWxMb2FkID0gdHJ1ZTtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvU3RvcmFnZVwiKTtcblxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwudXJsKSB7XG5cbiAgICAgICAgaWYgKF9pbml0aWFsTG9hZCkge1xuICAgICAgICAgIF9pbml0aWFsTG9hZCA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVJbml0KGUuZGV0YWlsLnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gY2hlY2sgZm9yIFwiY2hhbmdlZFwiIHByb3BlcnR5XG4gICAgICAgICAgaWYgKGUuZGV0YWlsLmhhc093blByb3BlcnR5KFwiY2hhbmdlZFwiKSkge1xuICAgICAgICAgICAgaWYgKGUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVSZWZyZXNoKGUuZGV0YWlsLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaW4gdGhlIGV2ZW50IG9mIGEgbmV0d29yayBmYWlsdXJlIGFuZCByZWNvdmVyeSwgY2hlY2sgaWYgdGhlIFdpZGdldCBpcyBpbiBhIHN0YXRlIG9mIHN0b3JhZ2UgZXJyb3JcbiAgICAgICAgICAgICAgaWYgKFJpc2VWaXNpb24uVmlkZW8uaGFzU3RvcmFnZUVycm9yKCkgfHwgUmlzZVZpc2lvbi5WaWRlby5oYXNQbGF5ZXJFcnJvcigpKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJvY2VlZCB3aXRoIHJlZnJlc2ggbG9naWMgc28gdGhlIFdpZGdldCBjYW4gZXZlbnR1YWxseSBwbGF5IHZpZGVvIGFnYWluIGZyb20gYSBuZXR3b3JrIHJlY292ZXJ5XG4gICAgICAgICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVSZWZyZXNoKGUuZGV0YWlsLnVybCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1hcGktZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInN0b3JhZ2UgYXBpIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlJlc3BvbnNlIGNvZGU6IFwiICsgZS5kZXRhaWwuY29kZSArIFwiLCBtZXNzYWdlOiBcIiArIGUuZGV0YWlsLm1lc3NhZ2VcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utbm8tZmlsZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0geyBcImV2ZW50XCI6IFwic3RvcmFnZSBmaWxlIG5vdCBmb3VuZFwiLCBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgdmlkZW8gZG9lcyBub3QgZXhpc3Qgb3IgaGFzIGJlZW4gbW92ZWQgdG8gVHJhc2guXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWZpbGUtdGhyb3R0bGVkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIGZpbGUgdGhyb3R0bGVkXCIsIFwiZmlsZV91cmxcIjogZS5kZXRhaWwgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgdmlkZW8gaXMgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1leHBpcmVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGV4cGlyZWRcIiB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlJpc2UgU3RvcmFnZSBzdWJzY3JpcHRpb24gaXMgbm90IGFjdGl2ZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utc3Vic2NyaXB0aW9uLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJUaGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZTogXCIgKyBlLmRldGFpbC5lcnJvci5jdXJyZW50VGFyZ2V0LnN0YXR1c1xuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIHN0b3JhZ2UgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXNcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIiwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJyaXNlIGNhY2hlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBlLmRldGFpbC5lcnJvci5tZXNzYWdlXG4gICAgICB9LFxuICAgICAgICBzdGF0dXNDb2RlID0gMCxcbiAgICAgICAgZXJyb3JNZXNzYWdlO1xuXG4gICAgICAvLyBsb2cgdGhlIGVycm9yXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG5cbiAgICAgIGlmIChyaXNlQ2FjaGUuaXNWMlJ1bm5pbmcoKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSByaXNlQ2FjaGUuZ2V0RXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICAgIGlmKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2Upe1xuICAgICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVycm9yTWVzc2FnZSA9IHV0aWxzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2hvdyB0aGUgZXJyb3JcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLW5vdC1ydW5uaW5nXCIsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2UgY2FjaGUgbm90IHJ1bm5pbmdcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IChlLmRldGFpbCAmJiBlLmRldGFpbC5lcnJvcik/IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2U6IFwiXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtZmlsZS11bmF2YWlsYWJsZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZVVuYXZhaWxhYmxlKFwiRmlsZSBpcyBkb3dubG9hZGluZ1wiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgZGF0YS5zdG9yYWdlLmZpbGVOYW1lKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBkYXRhLnN0b3JhZ2UuY29tcGFueUlkKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImVudlwiLCBjb25maWcuU1RPUkFHRV9FTlYpO1xuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHJ5KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb1N0b3JhZ2VcIik7XG5cbiAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0LFxuICAgIFwicmV0cnlcIjogcmV0cnlcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBjb25maWcsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uU3RvcmFnZUZvbGRlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciB1dGlscyA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcyxcbiAgICByaXNlQ2FjaGUgPSBSaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGU7XG5cbiAgdmFyIF9pbml0aWFsTG9hZCA9IHRydWU7XG5cbiAgdmFyIF9maWxlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIF9nZXRVcmxzKCkge1xuICAgIHJldHVybiBfLnBsdWNrKF9maWxlcywgXCJ1cmxcIik7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0RXhpc3RpbmdGaWxlKGZpbGUpIHtcbiAgICByZXR1cm4gXy5maW5kKF9maWxlcywgZnVuY3Rpb24gKGYpIHtcbiAgICAgIHJldHVybiBmaWxlLm5hbWUgPT09IGYubmFtZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWxldGVGaWxlKGZpbGUpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBfZ2V0RXhpc3RpbmdGaWxlKGZpbGUpO1xuXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICBfZmlsZXMuc3BsaWNlKF9maWxlcy5pbmRleE9mKGV4aXN0aW5nKSwgMSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NoYW5nZUZpbGUoZmlsZSkge1xuICAgIHZhciBleGlzdGluZyA9IF9nZXRFeGlzdGluZ0ZpbGUoZmlsZSk7XG5cbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIGV4aXN0aW5nLnVybCA9IGZpbGUudXJsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9hZGRGaWxlKGZpbGUpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBfZ2V0RXhpc3RpbmdGaWxlKGZpbGUpO1xuXG4gICAgaWYgKCFleGlzdGluZykge1xuICAgICAgLy8gZXh0cmFjdCB0aGUgYWN0dWFsIGZpbGUgbmFtZSBhbmQgc3RvcmUgaW4gbmV3IHByb3BlcnR5IG9uIGZpbGUgb2JqZWN0XG4gICAgICBmaWxlLmZpbGVOYW1lID0gZmlsZS5uYW1lLnNsaWNlKGZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi9cIikgKyAxLCBmaWxlLm5hbWUubGFzdEluZGV4T2YoXCIuXCIpKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAvLyBpbnNlcnQgZmlsZSB0byBfZmlsZXMgbGlzdCBhdCBzcGVjaWZpYyBpbmRleCBiYXNlZCBvbiBhbHBoYWJldGljYWwgb3JkZXIgb2YgZmlsZSBuYW1lXG4gICAgICBfZmlsZXMuc3BsaWNlKF8uc29ydGVkSW5kZXgoX2ZpbGVzLCBmaWxlLCBcImZpbGVOYW1lXCIpLCAwLCBmaWxlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvU3RvcmFnZVwiKTtcblxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgZmlsZSA9IGUuZGV0YWlsO1xuXG4gICAgICAvLyBBZGRlZFxuICAgICAgaWYoZmlsZS5hZGRlZCkge1xuICAgICAgICBfYWRkRmlsZShmaWxlKTtcblxuICAgICAgICBpZiAoX2luaXRpYWxMb2FkKSB7XG4gICAgICAgICAgX2luaXRpYWxMb2FkID0gZmFsc2U7XG4gICAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5vbkZpbGVJbml0KF9nZXRVcmxzKCkpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENoYW5nZWQgb3IgdW5jaGFuZ2VkXG4gICAgICBpZiAoZmlsZS5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikpIHtcbiAgICAgICAgaWYoZmlsZS5jaGFuZ2VkKSB7XG4gICAgICAgICAgX2NoYW5nZUZpbGUoZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gaW4gdGhlIGV2ZW50IG9mIGEgbmV0d29yayBmYWlsdXJlIGFuZCByZWNvdmVyeSwgY2hlY2sgaWYgdGhlIFdpZGdldCBpcyBpbiBhIHN0YXRlIG9mIHN0b3JhZ2UgZXJyb3JcbiAgICAgICAgICBpZiAoIVJpc2VWaXNpb24uVmlkZW8uaGFzU3RvcmFnZUVycm9yKCkgJiYgIVJpc2VWaXNpb24uVmlkZW8uaGFzUGxheWVyRXJyb3IoKSkge1xuICAgICAgICAgICAgLy8gb25seSBwcm9jZWVkIHdpdGggcmVmcmVzaCBsb2dpYyBiZWxvdyBpZiB0aGVyZSdzIGJlZW4gYSBzdG9yYWdlIGVycm9yLCBvdGhlcndpc2UgZG8gbm90aGluZ1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBzbyB0aGUgV2lkZ2V0IGNhbiBldmVudHVhbGx5IHBsYXkgdmlkZW8gYWdhaW4gZnJvbSBhIG5ldHdvcmsgcmVjb3ZlcnlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRGVsZXRlZFxuICAgICAgaWYoZmlsZS5kZWxldGVkKSB7XG4gICAgICAgIF9kZWxldGVGaWxlKGZpbGUpO1xuICAgICAgfVxuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZVJlZnJlc2goX2dldFVybHMoKSk7XG5cbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1hcGktZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInN0b3JhZ2UgYXBpIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlJlc3BvbnNlIGNvZGU6IFwiICsgZS5kZXRhaWwuY29kZSArIFwiLCBtZXNzYWdlOiBcIiArIGUuZGV0YWlsLm1lc3NhZ2VcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZW1wdHktZm9sZGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIGZvbGRlciBlbXB0eVwiIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSB2aWRlb3MuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLW5vLWZvbGRlclwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZm9sZGVyIGRvZXNuJ3QgZXhpc3RcIiwgXCJldmVudF9kZXRhaWxzXCI6IGUuZGV0YWlsIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZm9sZGVyLWludmFsaWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHsgXCJldmVudFwiOiBcInN0b3JhZ2UgZm9sZGVyIGZvcm1hdChzKSBpbnZhbGlkXCIgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IHN1cHBvcnRlZCB2aWRlbyBmb3JtYXRzLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7IFwiZXZlbnRcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCIgfTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoXCJSaXNlIFN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGlzIG5vdCBhY3RpdmUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXNcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZVxuICAgICAgfSxcbiAgICAgICAgc3RhdHVzQ29kZSA9IDAsXG4gICAgICAgIGVycm9yTWVzc2FnZTtcblxuICAgICAgUmlzZVZpc2lvbi5WaWRlby5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICBpZiAocmlzZUNhY2hlLmlzVjJSdW5uaW5nKCkpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gcmlzZUNhY2hlLmdldEVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgICBpZihlLmRldGFpbC5lcnJvci5tZXNzYWdlKXtcbiAgICAgICAgICBzdGF0dXNDb2RlID0gK2UuZGV0YWlsLmVycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICAgIH1cblxuICAgICAgICBlcnJvck1lc3NhZ2UgPSB1dGlscy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICB9XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLW5vdC1ydW5uaW5nXCIsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2UgY2FjaGUgbm90IHJ1bm5pbmdcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IChlLmRldGFpbCAmJiBlLmRldGFpbC5lcnJvcik/IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2U6IFwiXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uVmlkZW8ubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZVR5cGVcIiwgXCJ2aWRlb1wiKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBkYXRhLnN0b3JhZ2UuY29tcGFueUlkKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBkYXRhLnN0b3JhZ2UuZm9sZGVyKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImVudlwiLCBjb25maWcuU1RPUkFHRV9FTlYpO1xuXG4gICAgc3RvcmFnZS5nbygpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5WaWRlbyA9IFJpc2VWaXNpb24uVmlkZW8gfHwge307XG5cblJpc2VWaXNpb24uVmlkZW8uTm9uU3RvcmFnZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciByaXNlQ2FjaGUgPSBSaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGUsXG4gICAgdXRpbHMgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXM7XG5cbiAgdmFyIF9yZWZyZXNoRHVyYXRpb24gPSA5MDAwMDAsICAvLyAxNSBtaW51dGVzXG4gICAgX3JlZnJlc2hJbnRlcnZhbElkID0gbnVsbDtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWU7XG5cbiAgdmFyIF91cmwgPSBcIlwiO1xuXG4gIGZ1bmN0aW9uIF9nZXRGaWxlKG9taXRDYWNoZUJ1c3Rlcikge1xuICAgIHJpc2VDYWNoZS5nZXRGaWxlKF91cmwsIGZ1bmN0aW9uIChyZXNwb25zZSwgZXJyb3IpIHtcbiAgICAgIHZhciBzdGF0dXNDb2RlID0gMCxcbiAgICAgICAgZXJyb3JNZXNzYWdlO1xuXG4gICAgICBpZiAoIWVycm9yKSB7XG5cbiAgICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZUluaXQocmVzcG9uc2UudXJsKTtcblxuICAgICAgICAgIC8vIHN0YXJ0IHRoZSByZWZyZXNoIGludGVydmFsXG4gICAgICAgICAgX3N0YXJ0UmVmcmVzaEludGVydmFsKCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLm9uRmlsZVJlZnJlc2gocmVzcG9uc2UudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlcnJvciBvY2N1cnJlZFxuICAgICAgICBSaXNlVmlzaW9uLlZpZGVvLmxvZ0V2ZW50KHtcbiAgICAgICAgICBcImV2ZW50XCI6IFwibm9uLXN0b3JhZ2UgZXJyb3JcIixcbiAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBcImZpbGVfdXJsXCI6IHJlc3BvbnNlLnVybFxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICBpZiAocmlzZUNhY2hlLmlzVjJSdW5uaW5nKCkpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByaXNlQ2FjaGUuZ2V0RXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICAgICAgaWYoZXJyb3IubWVzc2FnZSl7XG4gICAgICAgICAgICBzdGF0dXNDb2RlID0gK2Vycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gdXRpbHMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvdyB0aGUgZXJyb3JcbiAgICAgICAgUmlzZVZpc2lvbi5WaWRlby5zaG93RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LCBvbWl0Q2FjaGVCdXN0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0UmVmcmVzaEludGVydmFsKCkge1xuICAgIGlmIChfcmVmcmVzaEludGVydmFsSWQgPT09IG51bGwpIHtcbiAgICAgIF9yZWZyZXNoSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2dldEZpbGUoZmFsc2UpO1xuICAgICAgfSwgX3JlZnJlc2hEdXJhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIC8vIEhhbmRsZSBwcmUtbWVyZ2UgdXNlIG9mIFwidXJsXCIgc2V0dGluZyBwcm9wZXJ0eVxuICAgIF91cmwgPSAoZGF0YS51cmwgJiYgZGF0YS51cmwgIT09IFwiXCIpID8gZGF0YS51cmwgOiBkYXRhLnNlbGVjdG9yLnVybDtcblxuICAgIF91cmwgPSB1dGlscy5hZGRQcm90b2NvbChfdXJsKTtcblxuICAgIF9nZXRGaWxlKHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxuLyogZ2xvYmFsIGp3cGxheWVyICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW8gPSBSaXNlVmlzaW9uLlZpZGVvIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvLlBsYXllciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hdXRvUGxheSwgX3N0cmV0Y2hpbmcsIF9wYXVzZUR1cmF0aW9uO1xuXG4gIHZhciBfcGxheWVySW5zdGFuY2UgPSBudWxsO1xuXG4gIHZhciBfdXRpbHMgPSBSaXNlVmlzaW9uLlZpZGVvLlBsYXllclV0aWxzO1xuXG4gIHZhciBfdmlld2VyUGF1c2VkID0gZmFsc2UsXG4gICAgX3BhdXNlVGltZXIgPSBudWxsO1xuXG4gIHZhciBfZmlsZXMgPSBudWxsLFxuICAgIF91cGRhdGVXYWl0aW5nID0gZmFsc2U7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX29uQ29tcGxldGUoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJFbmRlZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uUGF1c2UoKSB7XG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICAvLyB1c2VyIGhhcyBwYXVzZWQsIHNldCBhIHRpbWVyIHRvIHBsYXkgYWdhaW5cbiAgICAgIGNsZWFyVGltZW91dChfcGF1c2VUaW1lcik7XG5cbiAgICAgIF9wYXVzZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfcGxheWVySW5zdGFuY2UuZ2V0U3RhdGUoKS50b1VwcGVyQ2FzZSgpICE9PSBcIlBMQVlJTkdcIikge1xuICAgICAgICAgIC8vIGNvbnRpbnVlIHBsYXlpbmcgdGhlIGN1cnJlbnQgdmlkZW9cbiAgICAgICAgICBfcGxheWVySW5zdGFuY2UucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9LCBfcGF1c2VEdXJhdGlvbiAqIDEwMDApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblBsYXlsaXN0SXRlbShpbmRleCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8ucGxheWVySXRlbUNoYW5nZShpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBfb25QbGF5ZXJFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJFcnJvcih7XG4gICAgICAgIHR5cGU6IFwidmlkZW9cIixcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX29uU2V0dXBFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5ZXJFcnJvcih7XG4gICAgICAgIHR5cGU6IFwic2V0dXBcIixcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvbmZpZ3VyZUhhbmRsZXJzKCkge1xuICAgIC8vdmFyIHBsYXlGbiA9IHBsYXk7XG5cbiAgICAvLyBoYW5kbGUgYSBKV1BsYXllciBzZXR1cCBlcnJvclxuICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInNldHVwRXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBfb25TZXR1cEVycm9yKGVycm9yKTtcbiAgICB9KTtcblxuICAgIC8vIGhhbmRsZSB3aGVuIEpXUGxheWVyIGlzIHJlYWR5XG4gICAgX3BsYXllckluc3RhbmNlLm9uKFwicmVhZHlcIiwgZnVuY3Rpb24oKSB7XG5cbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInBsYXlsaXN0Q29tcGxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfb25Db21wbGV0ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInBsYXlsaXN0SXRlbVwiLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIF9vblBsYXlsaXN0SXRlbShkYXRhLmluZGV4KTtcbiAgICAgIH0pO1xuXG4gICAgICBfcGxheWVySW5zdGFuY2Uub24oXCJlcnJvclwiLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgX29uUGxheWVyRXJyb3IoZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5zZXRWb2x1bWUocGFyYW1zLnZpZGVvLnZvbHVtZSk7XG5cbiAgICAgIGlmIChwYXJhbXMudmlkZW8uY29udHJvbHMgJiYgX3BhdXNlRHVyYXRpb24gPiAxKSB7XG4gICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInBhdXNlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfb25QYXVzZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gcGxheWVyIGlzIHJlYWR5XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnBsYXllclJlYWR5KCk7XG5cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRTZXR1cERhdGEoZmlsZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29udHJvbHM6IHBhcmFtcy52aWRlby5jb250cm9scyxcbiAgICAgIGhlaWdodDogcGFyYW1zLmhlaWdodCxcbiAgICAgIHBsYXlsaXN0OiBfdXRpbHMuZ2V0UGxheWxpc3QoZmlsZXMpLFxuICAgICAgc2tpbjoge25hbWU6IFwicmlzZVwifSxcbiAgICAgIHN0cmV0Y2hpbmcgOiBfc3RyZXRjaGluZyxcbiAgICAgIHdpZHRoOiBwYXJhbXMud2lkdGhcbiAgICB9O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KGZpbGVzKSB7XG4gICAgX3BsYXllckluc3RhbmNlID0gandwbGF5ZXIoXCJwbGF5ZXJcIik7XG5cbiAgICBfZmlsZXMgPSBmaWxlcztcblxuICAgIF9zdHJldGNoaW5nID0gKHBhcmFtcy52aWRlby5zY2FsZVRvRml0KSA/IFwidW5pZm9ybVwiIDogXCJub25lXCI7XG5cbiAgICAvLyBlbnN1cmUgYXV0b1BsYXkgaXMgdHJ1ZSBpZiBjb250cm9scyB2YWx1ZSBpcyBmYWxzZSwgb3RoZXJ3aXNlIHVzZSBwYXJhbXMgdmFsdWVcbiAgICBfYXV0b1BsYXkgPSAoIXBhcmFtcy52aWRlby5jb250cm9scykgPyB0cnVlIDogcGFyYW1zLnZpZGVvLmF1dG9wbGF5O1xuXG4gICAgLy8gY2hlY2sgaWYgdGhpcyBzZXR0aW5nIGV4aXN0cyBkdWUgdG8gbWVyZ2Ugb2YgZmlsZSBhbmQgZm9sZGVyXG4gICAgaWYgKHBhcmFtcy52aWRlby5wYXVzZSkge1xuICAgICAgLy8gY29udmVydCBwYXVzZSB2YWx1ZSB0byBudW1iZXIgaWYgdHlwZSBpcyBcInN0cmluZ1wiXG4gICAgICBwYXJhbXMudmlkZW8ucGF1c2UgPSAodHlwZW9mIHBhcmFtcy52aWRlby5wYXVzZSA9PT0gXCJzdHJpbmdcIikgPyBwYXJzZUludChwYXJhbXMudmlkZW8ucGF1c2UsIDEwKSA6IHBhcmFtcy52aWRlby5wYXVzZTtcblxuICAgICAgLy8gaWYgbm90IG9mIHR5cGUgXCJudW1iZXJcIiwgc2V0IGl0cyB2YWx1ZSB0byAwIHNvIGEgcGF1c2UgZG9lcyBub3QgZ2V0IGFwcGxpZWRcbiAgICAgIF9wYXVzZUR1cmF0aW9uID0gKGlzTmFOKHBhcmFtcy52aWRlby5wYXVzZSkpID8gMCA6IHBhcmFtcy52aWRlby5wYXVzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZW5zdXJlIG5vIHBhdXNlIGR1cmF0aW9uIG9jY3Vyc1xuICAgICAgX3BhdXNlRHVyYXRpb24gPSAwO1xuICAgIH1cblxuICAgIC8vIHNldHVwIEpXUGxheWVyXG4gICAgX3BsYXllckluc3RhbmNlLnNldHVwKF9nZXRTZXR1cERhdGEoZmlsZXMpKTtcbiAgICBfY29uZmlndXJlSGFuZGxlcnMoKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBfdmlld2VyUGF1c2VkID0gZmFsc2U7XG5cbiAgICBpZiAoX3VwZGF0ZVdhaXRpbmcpIHtcbiAgICAgIF91cGRhdGVXYWl0aW5nID0gZmFsc2U7XG4gICAgICAvLyBsb2FkIGEgbmV3IHBsYXlsaXN0XG4gICAgICBfcGxheWVySW5zdGFuY2UubG9hZChfdXRpbHMuZ2V0UGxheWxpc3QoX2ZpbGVzKSk7XG4gICAgfVxuXG4gICAgaWYgKF9hdXRvUGxheSkge1xuICAgICAgX3BsYXllckluc3RhbmNlLnBsYXkoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuICAgIGNsZWFyVGltZW91dChfcGF1c2VUaW1lcik7XG5cbiAgICBpZiAoX3BsYXllckluc3RhbmNlLmdldFN0YXRlKCkudG9VcHBlckNhc2UoKSA9PT0gXCJQTEFZSU5HXCIpIHtcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuXG4gICAgcGF1c2UoKTtcblxuICAgIGZ1bmN0aW9uIG9uUGxheSgpIHtcbiAgICAgIC8vIHJlbW92ZSBoYW5kbGluZyB0aGUgcGxheSBldmVudFxuICAgICAgX3BsYXllckluc3RhbmNlLm9mZihcInBsYXlcIiwgb25QbGF5KTtcblxuICAgICAgLy8gcGF1c2UgdGhlIHZpZGVvIGF0IHRoZSBzdGFydFxuICAgICAgX3BsYXllckluc3RhbmNlLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TZWVrZWQoKSB7XG4gICAgICAvLyByZW1vdmUgaGFuZGxpbmcgdGhlIHNlZWtlZCBldmVudFxuICAgICAgX3BsYXllckluc3RhbmNlLm9mZihcInNlZWtlZFwiLCBvblNlZWtlZCk7XG5cbiAgICAgIC8vIHBhdXNlIHRoZSB2aWRlbyBhdCB0aGUgc3RhcnRcbiAgICAgIF9wbGF5ZXJJbnN0YW5jZS5wYXVzZSgpO1xuICAgIH1cblxuICAgIC8vIGlmIHN0YXR1cyBpcyBDT01QTEVURSwgYSBmdXR1cmUgcGxheSBjYWxsIHdpbGwgc3RhcnQgcGxheWxpc3Qgb3ZlciBmcm9tIGJlZ2lubmluZyBhdXRvbWF0aWNhbGx5XG4gICAgaWYgKF9wbGF5ZXJJbnN0YW5jZS5nZXRTdGF0ZSgpLnRvVXBwZXJDYXNlKCkgIT09IFwiQ09NUExFVEVcIikge1xuXG4gICAgICAvLyBhdm9pZCBqd3BsYXllciBwcm9taXNlIGVycm9yIGluIGNvbnNvbGUgd2l0aCBzZXRUaW1lb3V0IC0gaHR0cDovL2dvby5nbC9MNGdrVG1cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3BsYXllckluc3RhbmNlLmdldFBsYXlsaXN0SW5kZXgoKSAhPT0gMCkge1xuICAgICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5vbihcInBsYXlcIiwgb25QbGF5KTtcblxuICAgICAgICAgIC8vIGNoYW5nZSB0byBmaXJzdCB2aWRlbyBpbiBsaXN0XG4gICAgICAgICAgX3BsYXllckluc3RhbmNlLnBsYXlsaXN0SXRlbSgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBoYW5kbGUgd2hlbiB2aWRlbyBjb250aW51ZXMgcGxheWluZyBhZnRlciBzZWVraW5nIHRvIHBvc2l0aW9uXG4gICAgICAgICAgX3BsYXllckluc3RhbmNlLm9uKFwic2Vla2VkXCIsIG9uU2Vla2VkKTtcblxuICAgICAgICAgIC8vIG1vdmUgcG9zaXRpb24gYmFjayB0byBzdGFydCBvZiB2aWRlb1xuICAgICAgICAgIF9wbGF5ZXJJbnN0YW5jZS5zZWVrKDApO1xuICAgICAgICB9XG4gICAgICB9LDEwMCk7XG4gICAgICBcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZShmaWxlcykge1xuICAgIF9maWxlcyA9IGZpbGVzO1xuICAgIF91cGRhdGVXYWl0aW5nID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXQsXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInJlc2V0XCI6IHJlc2V0LFxuICAgIFwidXBkYXRlXCI6IHVwZGF0ZVxuICB9O1xufTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZSA9IGZ1bmN0aW9uIChtYWluQ29udGFpbmVyLCBtZXNzYWdlQ29udGFpbmVyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWN0aXZlID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbWFpbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2FuJ3QgaW5pdGlhbGl6ZSBNZXNzYWdlIC0gXCIsIGUubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBoaWRlKCkge1xuICAgIGlmIChfYWN0aXZlKSB7XG4gICAgICAvLyBjbGVhciBjb250ZW50IG9mIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICB3aGlsZSAobWVzc2FnZUNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgIG1lc3NhZ2VDb250YWluZXIucmVtb3ZlQ2hpbGQobWVzc2FnZUNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgIH1cblxuICAgICAgLy8gaGlkZSBtZXNzYWdlIGNvbnRhaW5lclxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIC8vIHNob3cgbWFpbiBjb250YWluZXJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgX2FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3cobWVzc2FnZSkge1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHA7XG5cbiAgICBpZiAoIV9hY3RpdmUpIHtcbiAgICAgIC8vIGhpZGUgbWFpbiBjb250YWluZXJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBtZXNzYWdlIGVsZW1lbnRcbiAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgIHAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZXNzYWdlXCIpO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwKTtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWVzc2FnZSBhbHJlYWR5IGJlaW5nIHNob3duLCB1cGRhdGUgbWVzc2FnZSB0ZXh0XG4gICAgICBwID0gbWVzc2FnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgX2luaXQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiaGlkZVwiOiBoaWRlLFxuICAgIFwic2hvd1wiOiBzaG93XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgUmlzZVZpc2lvbiwgY29uZmlnICovXG5cbihmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSxcbiAgICBkZWZhdWx0RGlzcGxheUlkID0gXCJwcmV2aWV3XCIsXG4gICAgc3RvcmFnZVJlYWR5ID0gZmFsc2UsXG4gICAgcG9seW1lclJlYWR5ID0gZmFsc2UsXG4gICAgYWRkaXRpb25hbFBhcmFtcyA9IG51bGwsXG4gICAgbW9kZTtcblxuICAvLyBEaXNhYmxlIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSlcbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgICBkaXNwbGF5SWQgPSBcIlwiO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAobmFtZXNbMF0gPT09IFwiY29tcGFueUlkXCIpIHtcbiAgICAgICAgY29tcGFueUlkID0gdmFsdWVzWzBdO1xuICAgICAgfVxuXG4gICAgICBpZiAobmFtZXNbMV0gPT09IFwiZGlzcGxheUlkXCIpIHtcbiAgICAgICAgaWYgKHZhbHVlc1sxXSkge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IHZhbHVlc1sxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSBkZWZhdWx0RGlzcGxheUlkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZS5pc1YyUnVubmluZyhmdW5jdGlvbihpc1YyKSB7XG4gICAgICAgIGFkZFJpc2VTdG9yYWdlKGlzVjIsIGRpc3BsYXlJZCk7XG4gICAgICB9KTtcblxuICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMuc2V0SWRzKGNvbXBhbnlJZCwgZGlzcGxheUlkKTtcbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldFZlcnNpb24odmVyc2lvbik7XG5cbiAgICAgIGlmIChuYW1lc1syXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIpIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVzWzJdKTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAvLyBzdG9yYWdlIGZpbGUgb3IgZm9sZGVyIHNlbGVjdGVkXG4gICAgICAgICAgaWYgKCFhZGRpdGlvbmFsUGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIC8vIGZvbGRlciB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZvbGRlclwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgICAgbW9kZSA9IFwiZmlsZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub24tc3RvcmFnZSBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgUmlzZVZpc2lvbi5WaWRlby5wbGF5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBSaXNlVmlzaW9uLlZpZGVvLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIFJpc2VWaXNpb24uVmlkZW8uc3RvcCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBhZGRQb2x5ZmlsbCgpO1xuXG4gICAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcblxuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBjb25maWd1cmUpO1xuICAgICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzcGFyYW1fZ2V0XCIsIG51bGwsIGlkLCBbXCJjb21wYW55SWRcIiwgXCJkaXNwbGF5SWRcIiwgXCJhZGRpdGlvbmFsUGFyYW1zXCJdKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblBvbHltZXJSZWFkeSgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCBvblBvbHltZXJSZWFkeSk7XG4gICAgcG9seW1lclJlYWR5ID0gdHJ1ZTtcblxuICAgIGlmIChzdG9yYWdlUmVhZHkgJiYgcG9seW1lclJlYWR5KSB7XG4gICAgICBSaXNlVmlzaW9uLlZpZGVvLnNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcywgbW9kZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25TdG9yYWdlUmVhZHkoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicmlzZS1zdG9yYWdlXCIpO1xuXG4gICAgc3RvcmFnZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlYWR5XCIsIG9uU3RvcmFnZVJlYWR5KTtcbiAgICBzdG9yYWdlUmVhZHkgPSB0cnVlO1xuXG4gICAgaWYgKHN0b3JhZ2VSZWFkeSAmJiBwb2x5bWVyUmVhZHkpIHtcbiAgICAgIFJpc2VWaXNpb24uVmlkZW8uc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zLCBtb2RlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZGRQb2x5ZmlsbCgpIHtcbiAgICB2YXIgd2ViY29tcG9uZW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG5cbiAgICB3ZWJjb21wb25lbnRzLnNyYyA9IGNvbmZpZy5DT01QT05FTlRTX1BBVEggKyBcIndlYmNvbXBvbmVudHNqcy93ZWJjb21wb25lbnRzLWxpdGUubWluLmpzXCI7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCBvblBvbHltZXJSZWFkeSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHdlYmNvbXBvbmVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkUmlzZVN0b3JhZ2UoaXNWMiwgZGlzcGxheUlkKSB7XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpLFxuICAgICAgc3RvcmFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJyaXNlLXN0b3JhZ2VcIiksXG4gICAgICByZWZyZXNoID0gKGRpc3BsYXlJZCA9PT0gZGVmYXVsdERpc3BsYXlJZCkgPyAwIDogNSxcbiAgICAgIHN0b3JhZ2VQYXRoID0gXCJyaXNlLXN0b3JhZ2VcIixcbiAgICAgIGhyZWY7XG5cbiAgICBpZiAoaXNWMiB8fCAoZGlzcGxheUlkID09PSBkZWZhdWx0RGlzcGxheUlkKSkge1xuICAgICAgc3RvcmFnZVBhdGggKz0gXCItdjJcIjtcbiAgICB9XG5cbiAgICBocmVmID0gY29uZmlnLkNPTVBPTkVOVFNfUEFUSCArIHN0b3JhZ2VQYXRoICsgXCIvcmlzZS1zdG9yYWdlLmh0bWxcIjtcblxuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwicmVsXCIsIFwiaW1wb3J0XCIpO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBocmVmKTtcblxuICAgIC8vIGFkZCB0aGUgcmlzZS1zdG9yYWdlIDxsaW5rPiBlbGVtZW50IHRvIGRvY3VtZW50IGhlYWRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQobGluayk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwidmlkZW9TdG9yYWdlXCIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwicmVmcmVzaFwiLCByZWZyZXNoKTtcbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVhZHlcIiwgb25TdG9yYWdlUmVhZHkpO1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHN0b3JhZ2UpO1xuXG4gICAgLy8gYWRkIHRoZSA8cmlzZS1zdG9yYWdlPiBlbGVtZW50IHRvIHRoZSBib2R5XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gIH1cblxuICBpbml0KCk7XG5cbn0pKHdpbmRvdywgZ2FkZ2V0cyk7XG5cblxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgX2dhcSA9IF9nYXEgfHwgW107XG5cbl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTU3MDkyMTU5LTInXSk7XG5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldyddKTtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgZ2EudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBnYS5hc3luYyA9IHRydWU7XG4gIGdhLnNyYyA9ICgnaHR0cHM6JyA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/ICdodHRwczovL3NzbCcgOiAnaHR0cDovL3d3dycpICsgJy5nb29nbGUtYW5hbHl0aWNzLmNvbS9nYS5qcyc7XG4gIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOyBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGdhLCBzKTtcbn0pKCk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
